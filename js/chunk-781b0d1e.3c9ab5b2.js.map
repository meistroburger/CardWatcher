{"version":3,"sources":["webpack:///./src/views/Orders.vue","webpack:///./src/components/OrderDetailsModal.vue","webpack:///./src/components/OrderDetailsModal.vue?658f","webpack:///./src/views/Orders.vue?c66c","webpack:///./src/components/OrderDetailsModal.vue?c0cd","webpack:///./src/views/Orders.vue?d977"],"names":["class","orders","order","key","id","slice","formatDate","created_at","status","items","item","src","image_url","alt","name","cardImages","formatPrice","price","quantity","set","rarity","shipping_address","first_name","last_name","address","postal_code","city","country","formatPaymentMethod","payment_method","tracking_info","updated_at","total_amount","toFixed","href","getPaymentLink","stripe_session_id","target","viewOrderDetails","to","selectedOrder","$emit","maxWidth","header","formatStatus","email","carrier","number","url","calculateSubtotal","components","Modal","emits","props","type","Object","required","fetchCardImage","async","cardName","value","data","pokemonApi","getCards","q","pageSize","length","images","small","error","console","date","Date","toLocaleString","split","map","word","charAt","toUpperCase","join","reduce","sum","sessionId","handleImageError","event","Number","replace","promises","filter","Promise","all","__exports__","OrderDetailsModal","fetchOrders","user","supabase","auth","getUser","from","select","eq","ascending","cardNames","Set","forEach","add","method","methods","render"],"mappings":"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","file":"js/chunk-781b0d1e.3c9ab5b2.js","sourcesContent":["<template>\r\n  <div class=\"orders-page\">\r\n    <div class=\"orders-header\">\r\n      <h1>My Orders</h1>\r\n    </div>\r\n\r\n    <div class=\"orders-list\" v-if=\"orders.length\">\r\n      <div v-for=\"order in orders\" \r\n           :key=\"order.id\" \r\n           class=\"order-card\">\r\n        <div class=\"order-header\">\r\n          <div class=\"order-info\">\r\n            <h3>Order #{{ order.id.slice(0,8) }}</h3>\r\n            <p class=\"order-date\">{{ formatDate(order.created_at) }}</p>\r\n          </div>\r\n          <span :class=\"['status-badge', order.status]\">\r\n            {{ order.status }}\r\n          </span>\r\n        </div>\r\n\r\n        <div class=\"order-items\">\r\n          <div v-for=\"item in order.items\" \r\n               :key=\"item.id\" \r\n               class=\"order-item\">\r\n            <div class=\"card-image-container\">\r\n              <img v-if=\"item.image_url\" :src=\"item.image_url\" :alt=\"item.name\">\r\n              <img v-else-if=\"cardImages[item.name]\" :src=\"cardImages[item.name]\" :alt=\"item.name\">\r\n              <div v-else class=\"card-image-placeholder\">\r\n                <span class=\"material-symbols-rounded\">hourglass_empty</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"item-details\">\r\n              <h4>{{ item.name }}</h4>\r\n              <div class=\"price-details\">\r\n                <div class=\"line-item\">\r\n                  <span class=\"label\">Unit Price</span>\r\n                  <span class=\"value\">€ {{ formatPrice(item.price) }}</span>\r\n                </div>\r\n                <div class=\"line-item\">\r\n                  <span class=\"label\">Quantity</span>\r\n                  <span class=\"value\">{{ item.quantity }}</span>\r\n                </div>\r\n                <div class=\"line-item subtotal\">\r\n                  <span class=\"label\">Subtotal</span>\r\n                  <span class=\"value\">€ {{ formatPrice(item.price * item.quantity) }}</span>\r\n                </div>\r\n              </div>\r\n              <div class=\"item-meta\" v-if=\"item.set || item.rarity\">\r\n                <span v-if=\"item.set\" class=\"set-name\">{{ item.set }}</span>\r\n                <span v-if=\"item.rarity\" class=\"rarity-badge\">{{ item.rarity }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"order-details\">\r\n          <div class=\"shipping-info\">\r\n            <h4>Shipping Address</h4>\r\n            <p>{{ order.shipping_address.first_name }} {{ order.shipping_address.last_name }}</p>\r\n            <p>{{ order.shipping_address.address }}</p>\r\n            <p>{{ order.shipping_address.postal_code }} {{ order.shipping_address.city }}</p>\r\n            <p v-if=\"order.shipping_address.country\">{{ order.shipping_address.country }}</p>\r\n          </div>\r\n          \r\n          <div class=\"status-info\">\r\n            <p class=\"status-label\">Payment Method: \r\n              <span class=\"status-value\">{{ formatPaymentMethod(order.payment_method) }}</span>\r\n            </p>\r\n            <p v-if=\"order.tracking_info\" class=\"status-label\">Tracking: \r\n              <span class=\"status-value\">{{ order.tracking_info }}</span>\r\n            </p>\r\n            <p class=\"status-label\">Last Updated: \r\n              <span class=\"status-value\">{{ formatDate(order.updated_at) }}</span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"order-footer\">\r\n          <div class=\"order-total\">\r\n            <span>Total:</span>\r\n            <strong>${{ order.total_amount.toFixed(2) }}</strong>\r\n          </div>\r\n          <div class=\"order-actions\" v-if=\"order.status === 'approved'\">\r\n            <a v-if=\"order.stripe_session_id\" \r\n               :href=\"getPaymentLink(order.stripe_session_id)\"\r\n               class=\"pay-button\"\r\n               target=\"_blank\"\r\n            >\r\n              Pay Now\r\n            </a>\r\n          </div>\r\n          <button class=\"view-details-btn\" @click=\"viewOrderDetails(order)\">\r\n            <span class=\"material-symbols-rounded\">visibility</span>\r\n            View Details\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-else class=\"empty-orders\">\r\n      <span class=\"material-symbols-rounded\">receipt_long</span>\r\n      <h2>No Orders Yet</h2>\r\n      <p>When you place orders, they will appear here</p>\r\n      <router-link to=\"/store\" class=\"shop-button\">\r\n        Browse Store\r\n      </router-link>\r\n    </div>\r\n\r\n    <!-- Add Order Details Modal -->\r\n    <OrderDetailsModal\r\n      v-if=\"selectedOrder\"\r\n      :order=\"selectedOrder\"\r\n      @close=\"selectedOrder = null\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from 'vue'\r\nimport { supabase } from '@/services/supabase'\r\nimport OrderDetailsModal from '@/components/OrderDetailsModal.vue'\r\nimport pokemonApi from '@/services/pokemonApi'\r\n\r\nexport default {\r\n  name: 'Orders',\r\n  components: {\r\n    OrderDetailsModal\r\n  },\r\n  setup() {\r\n    const orders = ref([])\r\n    const selectedOrder = ref(null)\r\n    const cardImages = ref({})\r\n\r\n    const fetchCardImage = async (cardName) => {\r\n      if (!cardImages.value[cardName]) {\r\n        try {\r\n          const { data } = await pokemonApi.getCards({\r\n            q: `name:\"${cardName}\"`,\r\n            pageSize: 1\r\n          });\r\n          if (data && data.length > 0) {\r\n            cardImages.value[cardName] = data[0].images.small;\r\n          }\r\n        } catch (error) {\r\n          console.error(`Error fetching card image for ${cardName}:`, error);\r\n          cardImages.value[cardName] = null;\r\n        }\r\n      }\r\n    }\r\n\r\n    const fetchOrders = async () => {\r\n      const { data: { user } } = await supabase.auth.getUser()\r\n      if (!user) return\r\n\r\n      const { data, error } = await supabase\r\n        .from('orders')\r\n        .select('*')\r\n        .eq('user_id', user.id)\r\n        .order('created_at', { ascending: false })\r\n\r\n      if (error) {\r\n        console.error('Error fetching orders:', error)\r\n        return\r\n      }\r\n\r\n      orders.value = data\r\n\r\n      // Fetch images for all cards\r\n      const cardNames = new Set()\r\n      data.forEach(order => {\r\n        order.items.forEach(item => {\r\n          if (item.name && !item.image_url) {\r\n            cardNames.add(item.name)\r\n          }\r\n        })\r\n      })\r\n\r\n      // Fetch images in parallel\r\n      await Promise.all([...cardNames].map(fetchCardImage))\r\n    }\r\n\r\n    const formatDate = (date) => {\r\n      return new Date(date).toLocaleString()\r\n    }\r\n\r\n    const getPaymentLink = (sessionId) => {\r\n      return `/payment/${sessionId}`\r\n    }\r\n\r\n    const viewOrderDetails = (order) => {\r\n      selectedOrder.value = order\r\n    }\r\n\r\n    const formatPaymentMethod = (method) => {\r\n      const methods = {\r\n        'pending': 'Pending Payment',\r\n        'manual': 'Manual Transfer',\r\n        'stripe': 'Credit Card'\r\n      }\r\n      return methods[method] || method\r\n    }\r\n\r\n    const formatPrice = (price) => {\r\n      return Number(price).toFixed(2).replace('.', ',')\r\n    }\r\n\r\n    onMounted(fetchOrders)\r\n\r\n    return {\r\n      orders,\r\n      cardImages,\r\n      formatDate,\r\n      formatPaymentMethod,\r\n      getPaymentLink,\r\n      selectedOrder,\r\n      viewOrderDetails,\r\n      formatPrice\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.orders-page {\r\n  max-width: 1000px;\r\n  margin: 0 auto;\r\n  padding: 40px 24px;\r\n}\r\n\r\n.orders-header h1 {\r\n  font-size: 40px;\r\n  font-weight: 700;\r\n  letter-spacing: -0.025em;\r\n  background: linear-gradient(135deg, #ffffff 0%, #a7a7a7 100%);\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  margin-bottom: 40px;\r\n}\r\n\r\n.order-card {\r\n  background: var(--card-background);\r\n  border-radius: 20px;\r\n  border: 1px solid var(--card-border);\r\n  margin-bottom: 24px;\r\n  overflow: hidden;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.order-card:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: var(--shadow-lg);\r\n  border-color: var(--accent-primary);\r\n}\r\n\r\n.order-header {\r\n  padding: 24px;\r\n  border-bottom: 1px solid var(--card-border);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.order-info h3 {\r\n  margin: 0;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n}\r\n\r\n.order-date {\r\n  margin: 4px 0 0;\r\n  color: var(--text-secondary);\r\n  font-size: 14px;\r\n}\r\n\r\n.status-badge {\r\n  padding: 6px 12px;\r\n  border-radius: 100px;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  letter-spacing: 0.02em;\r\n  text-transform: uppercase;\r\n  backdrop-filter: blur(8px);\r\n  -webkit-backdrop-filter: blur(8px);\r\n}\r\n\r\n/* Status badges with gradients */\r\n.status-badge.pending {\r\n  background: linear-gradient(135deg, #ffd700, #ffa000);\r\n  color: black;\r\n}\r\n\r\n.status-badge.approved {\r\n  background: linear-gradient(135deg, #4CAF50, #45a049);\r\n  color: white;\r\n}\r\n\r\n.status-badge.paid {\r\n  background: linear-gradient(135deg, #2196F3, #1976D2);\r\n  color: white;\r\n}\r\n\r\n.status-badge.shipped {\r\n  background: linear-gradient(135deg, #9C27B0, #7B1FA2);\r\n  color: white;\r\n}\r\n\r\n.status-badge.delivered {\r\n  background: linear-gradient(135deg, #00BCD4, #0097A7);\r\n  color: white;\r\n}\r\n\r\n.status-badge.cancelled {\r\n  background: linear-gradient(135deg, #F44336, #D32F2F);\r\n  color: white;\r\n}\r\n\r\n.order-items {\r\n  padding: 20px;\r\n}\r\n\r\n.order-item {\r\n  display: flex;\r\n  gap: 16px;\r\n  padding: 12px 0;\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\r\n}\r\n\r\n.order-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.order-item img {\r\n  width: 60px;\r\n  height: 84px;\r\n  object-fit: contain;\r\n  border-radius: 8px;\r\n  background: var(--background-elevated);\r\n}\r\n\r\n.item-details h4 {\r\n  margin: 0;\r\n  font-size: 16px;\r\n}\r\n\r\n.item-details p {\r\n  margin: 4px 0 0;\r\n  color: var(--text-secondary);\r\n  font-size: 14px;\r\n}\r\n\r\n.order-footer {\r\n  padding: 20px;\r\n  border-top: 1px solid rgba(255, 255, 255, 0.1);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.order-total {\r\n  font-size: 18px;\r\n}\r\n\r\n.order-total strong {\r\n  margin-left: 8px;\r\n  color: var(--accent-primary);\r\n}\r\n\r\n.pay-button {\r\n  padding: 8px 16px;\r\n  background: var(--accent-primary);\r\n  color: white;\r\n  text-decoration: none;\r\n  border-radius: 8px;\r\n  font-weight: 600;\r\n  font-size: 14px;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.pay-button:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(var(--accent-primary-rgb), 0.3);\r\n}\r\n\r\n.view-details-btn {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 8px 16px;\r\n  background: var(--surface-background);\r\n  color: var(--text-primary);\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.view-details-btn:hover {\r\n  background: var(--accent-primary);\r\n  color: white;\r\n  transform: translateY(-1px);\r\n}\r\n\r\n.empty-orders {\r\n  text-align: center;\r\n  padding: 64px 24px;\r\n  color: var(--text-secondary);\r\n}\r\n\r\n.empty-orders .material-symbols-rounded {\r\n  font-size: 48px;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.empty-orders h2 {\r\n  margin: 0;\r\n  font-size: 24px;\r\n  background: linear-gradient(135deg, #ffffff 0%, #a7a7a7 100%);\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n}\r\n\r\n.empty-orders p {\r\n  margin: 8px 0 24px;\r\n}\r\n\r\n.shop-button {\r\n  display: inline-block;\r\n  padding: 12px 24px;\r\n  background: var(--accent-primary);\r\n  color: white;\r\n  text-decoration: none;\r\n  border-radius: 12px;\r\n  font-weight: 600;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.shop-button:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 8px 16px rgba(var(--accent-primary-rgb), 0.3);\r\n}\r\n\r\n/* Add smooth transitions */\r\n.order-card {\r\n  animation: fadeIn 0.3s ease-out;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(20px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n.card-image-container {\r\n  width: 60px;\r\n  height: 84px;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  background: var(--background-elevated);\r\n}\r\n\r\n.card-image-container img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: contain;\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n.card-image-container:hover img {\r\n  transform: scale(1.1);\r\n}\r\n\r\n.card-image-placeholder {\r\n  width: 60px;\r\n  height: 84px;\r\n  border-radius: 8px;\r\n  background: var(--background-elevated);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: var(--text-secondary);\r\n}\r\n\r\n.card-image-placeholder .material-symbols-rounded {\r\n  font-size: 24px;\r\n  animation: pulse 1.5s infinite;\r\n}\r\n\r\n@keyframes pulse {\r\n  0%, 100% { opacity: 0.5; }\r\n  50% { opacity: 1; }\r\n}\r\n\r\n.shipping-info {\r\n  background: var(--surface-background);\r\n  padding: 16px;\r\n  border-radius: 12px;\r\n  margin-top: 16px;\r\n}\r\n\r\n.shipping-info h4 {\r\n  margin: 0 0 8px 0;\r\n  color: var(--text-secondary);\r\n  font-size: 14px;\r\n}\r\n\r\n.shipping-info p {\r\n  margin: 4px 0;\r\n  font-size: 14px;\r\n}\r\n\r\n.status-info {\r\n  margin-top: 16px;\r\n  padding: 16px;\r\n  background: var(--surface-background);\r\n  border-radius: 12px;\r\n}\r\n\r\n.status-label {\r\n  color: var(--text-secondary);\r\n  font-size: 14px;\r\n  margin: 4px 0;\r\n}\r\n\r\n.status-value {\r\n  color: var(--text-primary);\r\n  font-weight: 500;\r\n}\r\n\r\n.item-meta {\r\n  display: flex;\r\n  gap: 8px;\r\n  margin-top: 4px;\r\n}\r\n\r\n.set-name {\r\n  font-size: 12px;\r\n  color: var(--text-secondary);\r\n}\r\n\r\n.rarity-badge {\r\n  font-size: 12px;\r\n  padding: 2px 8px;\r\n  background: var(--accent-secondary);\r\n  color: var(--accent-primary);\r\n  border-radius: 100px;\r\n}\r\n\r\n.order-details {\r\n  padding: 0 20px 20px;\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 16px;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .order-details {\r\n    grid-template-columns: 1fr;\r\n  }\r\n}\r\n\r\n.item-details-row {\r\n  display: flex;\r\n  gap: 16px;\r\n  margin-top: 4px;\r\n  color: var(--text-secondary);\r\n  font-size: 14px;\r\n}\r\n\r\n.quantity {\r\n  font-weight: 500;\r\n}\r\n\r\n.price {\r\n  font-family: monospace;\r\n  font-size: 15px;\r\n}\r\n\r\n.subtotal {\r\n  margin-top: 4px;\r\n  font-size: 14px;\r\n  color: var(--accent-primary);\r\n  font-weight: 600;\r\n  font-family: monospace;\r\n}\r\n\r\n.price-container {\r\n  margin-top: 8px;\r\n  font-feature-settings: \"tnum\";\r\n}\r\n\r\n.price-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  color: var(--text-secondary);\r\n  font-size: 14px;\r\n}\r\n\r\n.quantity-label {\r\n  font-weight: 500;\r\n  letter-spacing: -0.01em;\r\n}\r\n\r\n.price-value {\r\n  font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', sans-serif;\r\n  font-feature-settings: \"tnum\";\r\n  font-variant-numeric: tabular-nums;\r\n  letter-spacing: 0.01em;\r\n}\r\n\r\n.subtotal-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-top: 4px;\r\n}\r\n\r\n.subtotal-label {\r\n  font-size: 13px;\r\n  color: var(--text-tertiary);\r\n  font-weight: 500;\r\n}\r\n\r\n.subtotal-value {\r\n  color: var(--accent-primary);\r\n  font-weight: 600;\r\n  font-size: 15px;\r\n  font-feature-settings: \"tnum\";\r\n  font-variant-numeric: tabular-nums;\r\n}\r\n\r\n.price-details {\r\n  margin-top: 12px;\r\n  background: var(--surface-background);\r\n  border-radius: 8px;\r\n  padding: 8px 12px;\r\n  font-feature-settings: \"tnum\";\r\n  font-variant-numeric: tabular-nums;\r\n}\r\n\r\n.line-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 4px 0;\r\n  font-size: 14px;\r\n}\r\n\r\n.line-item .label {\r\n  color: var(--text-secondary);\r\n  font-weight: 500;\r\n}\r\n\r\n.line-item .value {\r\n  font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', sans-serif;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.line-item.subtotal {\r\n  margin-top: 4px;\r\n  padding-top: 8px;\r\n  border-top: 1px solid var(--divider-color);\r\n}\r\n\r\n.line-item.subtotal .label {\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.line-item.subtotal .value {\r\n  color: var(--accent-primary);\r\n  font-weight: 600;\r\n}\r\n</style>\r\n","<template>\r\n  <Modal @close=\"$emit('close')\" :maxWidth=\"800\">\r\n    <template #header>\r\n      <div class=\"modal-title\">\r\n        <h2>Order Details</h2>\r\n        <div class=\"order-meta\">\r\n          <span>Order #{{ order.id.slice(0,8) }}</span>\r\n          <span class=\"dot\">•</span>\r\n          <span>{{ formatDate(order.created_at) }}</span>\r\n        </div>\r\n      </div>\r\n    </template>\r\n\r\n    <div class=\"order-details\">\r\n      <div class=\"details-header\">\r\n        <div class=\"order-meta\">\r\n          <h2>Order #{{ order.id.slice(0,8) }}</h2>\r\n          <p class=\"order-date\">{{ formatDate(order.created_at) }}</p>\r\n        </div>\r\n        <div :class=\"['status-badge', order.status]\">\r\n          {{ formatStatus(order.status) }}\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"details-content\">\r\n        <!-- Items Section -->\r\n        <div class=\"section items-section\">\r\n          <h3>Order Items</h3>\r\n          <div class=\"items-list\">\r\n            <div v-for=\"item in order.items\" :key=\"item.id\" class=\"item\">\r\n              <div class=\"card-image-container\">\r\n                <img v-if=\"item.image_url\" \r\n                     :src=\"item.image_url\" \r\n                     :alt=\"item.name\">\r\n                <img v-else-if=\"cardImages[item.name]\" \r\n                     :src=\"cardImages[item.name]\" \r\n                     :alt=\"item.name\">\r\n                <div v-else class=\"card-image-placeholder\">\r\n                  <span class=\"material-symbols-rounded\">hourglass_empty</span>\r\n                </div>\r\n              </div>\r\n              <div class=\"item-info\">\r\n                <h4>{{ item.name }}</h4>\r\n                <div class=\"price-container\">\r\n                  <div class=\"price-row\">\r\n                    <span class=\"quantity-label\">Qty: {{ item.quantity }}x</span>\r\n                    <span class=\"price-value\">€ {{ formatPrice(item.price) }}</span>\r\n                  </div>\r\n                  <div class=\"subtotal-row\">\r\n                    <span class=\"subtotal-label\">Subtotal</span>\r\n                    <span class=\"subtotal-value\">€ {{ formatPrice(item.price * item.quantity) }}</span>\r\n                  </div>\r\n                </div>\r\n                <div class=\"item-details-row\">\r\n                  <div class=\"quantity\">Qty: {{ item.quantity }}x</div>\r\n                  <div class=\"price\">€ {{ formatPrice(item.price) }}</div>\r\n                </div>\r\n                <div class=\"subtotal\">Subtotal: € {{ formatPrice(item.price * item.quantity) }}</div>\r\n                <div class=\"item-meta\">\r\n                  <span>Quantity: {{ item.quantity }}</span>\r\n                  <span>${{ item.price }}</span>\r\n                  <span v-if=\"item.set\" class=\"set-name\">{{ item.set }}</span>\r\n                  <span v-if=\"item.rarity\" class=\"rarity-badge\">{{ item.rarity }}</span>\r\n                </div>\r\n              </div>\r\n              <div class=\"item-total\">\r\n                ${{ (item.price * item.quantity).toFixed(2) }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Shipping Section -->\r\n        <div class=\"section shipping-section\">\r\n          <h3>Shipping Details</h3>\r\n          <div class=\"address-info\">\r\n            <p><strong>{{ order.shipping_address.first_name }} {{ order.shipping_address.last_name }}</strong></p>\r\n            <p>{{ order.shipping_address.address }}</p>\r\n            <p>{{ order.shipping_address.postal_code }} {{ order.shipping_address.city }}</p>\r\n            <p>{{ order.shipping_address.email }}</p>\r\n          </div>\r\n\r\n          <!-- Tracking Info if available -->\r\n          <div v-if=\"order.tracking_info\" class=\"tracking-info\">\r\n            <h4>Tracking Information</h4>\r\n            <p><strong>Carrier:</strong> {{ order.tracking_info.carrier }}</p>\r\n            <p><strong>Tracking Number:</strong> {{ order.tracking_info.number }}</p>\r\n            <a :href=\"order.tracking_info.url\" target=\"_blank\" class=\"tracking-link\">\r\n              Track Package\r\n              <span class=\"material-symbols-rounded\">open_in_new</span>\r\n            </a>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Order Summary -->\r\n        <div class=\"section summary-section\">\r\n          <h3>Order Summary</h3>\r\n          <div class=\"summary-rows\">\r\n            <div class=\"summary-row\">\r\n              <span>Subtotal</span>\r\n              <span>${{ calculateSubtotal().toFixed(2) }}</span>\r\n            </div>\r\n            <div class=\"summary-row\">\r\n              <span>Shipping</span>\r\n              <span>Free</span>\r\n            </div>\r\n            <div class=\"summary-total\">\r\n              <span>Total</span>\r\n              <span>${{ order.total_amount.toFixed(2) }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Order Actions -->\r\n      <div class=\"details-footer\" v-if=\"order.status === 'approved'\">\r\n        <a v-if=\"order.stripe_session_id\" \r\n           :href=\"getPaymentLink(order.stripe_session_id)\"\r\n           class=\"pay-button\"\r\n           target=\"_blank\"\r\n        >\r\n          Complete Payment\r\n        </a>\r\n      </div>\r\n    </div>\r\n  </Modal>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, ref, onMounted } from 'vue'\r\nimport Modal from './Modal.vue'\r\nimport pokemonApi from '@/services/pokemonApi'\r\n\r\nexport default defineComponent({\r\n  name: 'OrderDetailsModal',\r\n  components: { Modal },\r\n  emits: ['close'],\r\n  props: {\r\n    order: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  setup(props) {\r\n    const cardImages = ref({})\r\n\r\n    const fetchCardImage = async (cardName) => {\r\n      if (!cardImages.value[cardName]) {\r\n        try {\r\n          const { data } = await pokemonApi.getCards({\r\n            q: `name:\"${cardName}\"`,\r\n            pageSize: 1\r\n          });\r\n          if (data && data.length > 0) {\r\n            cardImages.value[cardName] = data[0].images.small;\r\n          }\r\n        } catch (error) {\r\n          console.error(`Error fetching card image for ${cardName}:`, error);\r\n          cardImages.value[cardName] = null;\r\n        }\r\n      }\r\n    }\r\n\r\n    const formatDate = (date) => {\r\n      return new Date(date).toLocaleString()\r\n    }\r\n\r\n    const formatStatus = (status) => {\r\n      return status.split('_').map(word => \r\n        word.charAt(0).toUpperCase() + word.slice(1)\r\n      ).join(' ')\r\n    }\r\n\r\n    const calculateSubtotal = () => {\r\n      return props.order.items.reduce((sum, item) => \r\n        sum + (item.price * item.quantity), 0)\r\n    }\r\n\r\n    const getPaymentLink = (sessionId) => {\r\n      return `/payment/${sessionId}`\r\n    }\r\n\r\n    const handleImageError = (event) => {\r\n      event.target.src = '/placeholder.png'\r\n    }\r\n\r\n    const formatPrice = (price) => {\r\n      return Number(price).toFixed(2).replace('.', ',')\r\n    }\r\n\r\n    onMounted(async () => {\r\n      const promises = props.order.items\r\n        .filter(item => !item.image_url)\r\n        .map(item => fetchCardImage(item.name))\r\n      \r\n      await Promise.all(promises)\r\n    })\r\n\r\n    return {\r\n      cardImages,\r\n      formatDate,\r\n      formatStatus,\r\n      calculateSubtotal,\r\n      getPaymentLink,\r\n      handleImageError,\r\n      formatPrice\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.modal-title {\r\n  text-align: center;\r\n}\r\n\r\n.modal-title h2 {\r\n  font-size: 24px;\r\n  margin: 0;\r\n  background: linear-gradient(135deg, #ffffff 0%, #a7a7a7 100%);\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n}\r\n\r\n.order-meta {\r\n  margin-top: 8px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 8px;\r\n  color: var(--text-secondary);\r\n  font-size: 14px;\r\n}\r\n\r\n.dot {\r\n  color: var(--text-tertiary);\r\n}\r\n\r\n.status-badge {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  padding: 6px 12px;\r\n  border-radius: 100px;\r\n  font-size: 13px;\r\n  font-weight: 500;\r\n  background: var(--surface-background);\r\n  margin-top: 16px;\r\n}\r\n\r\n.section {\r\n  padding: 24px;\r\n  border-bottom: 1px solid var(--card-border);\r\n}\r\n\r\n.section:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.order-details {\r\n  padding: 32px;\r\n  max-width: 800px;\r\n}\r\n\r\n.details-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  margin-bottom: 32px;\r\n}\r\n\r\n.order-meta h2 {\r\n  margin: 0;\r\n  font-size: 24px;\r\n  background: linear-gradient(135deg, #ffffff 0%, #a7a7a7 100%);\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n}\r\n\r\n.order-date {\r\n  margin: 8px 0 0;\r\n  color: var(--text-secondary);\r\n  font-size: 14px;\r\n}\r\n\r\n.section {\r\n  margin-bottom: 32px;\r\n}\r\n\r\n.section h3 {\r\n  font-size: 18px;\r\n  margin: 0 0 16px;\r\n}\r\n\r\n.items-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n}\r\n\r\n.item {\r\n  display: flex;\r\n  gap: 16px;\r\n  padding: 16px;\r\n  background: var(--surface-background);\r\n  border-radius: 12px;\r\n}\r\n\r\n.item img {\r\n  width: 60px;\r\n  height: 84px;\r\n  object-fit: contain;\r\n  border-radius: 8px;\r\n}\r\n\r\n.item-info {\r\n  flex: 1;\r\n}\r\n\r\n.item-info h4 {\r\n  margin: 0;\r\n  font-size: 16px;\r\n}\r\n\r\n.item-meta {\r\n  margin-top: 8px;\r\n  color: var(--text-secondary);\r\n  font-size: 14px;\r\n}\r\n\r\n.item-total {\r\n  font-weight: 600;\r\n  color: var(--accent-primary);\r\n}\r\n\r\n.address-info p {\r\n  margin: 8px 0;\r\n}\r\n\r\n.tracking-info {\r\n  margin-top: 24px;\r\n  padding-top: 24px;\r\n  border-top: 1px solid var(--card-border);\r\n}\r\n\r\n.tracking-link {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  color: var(--accent-primary);\r\n  text-decoration: none;\r\n  margin-top: 8px;\r\n}\r\n\r\n.summary-rows {\r\n  background: var(--surface-background);\r\n  border-radius: 12px;\r\n  padding: 16px;\r\n}\r\n\r\n.summary-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 8px 0;\r\n  color: var(--text-secondary);\r\n}\r\n\r\n.summary-total {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding-top: 16px;\r\n  margin-top: 8px;\r\n  border-top: 1px solid var(--card-border);\r\n  font-weight: 600;\r\n  font-size: 18px;\r\n}\r\n\r\n.details-footer {\r\n  margin-top: 32px;\r\n  padding-top: 24px;\r\n  border-top: 1px solid var(--card-border);\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.pay-button {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 12px 24px;\r\n  background: var(--accent-primary);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 12px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  text-decoration: none;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.pay-button:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: var(--shadow-md);\r\n}\r\n\r\n/* Match existing status badge styles */\r\n.status-badge {\r\n  padding: 6px 12px;\r\n  border-radius: 100px;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n}\r\n\r\n.card-image-container {\r\n  width: 60px;\r\n  height: 84px;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  background: var(--background-elevated);\r\n}\r\n\r\n.card-image-container img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: contain;\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n.card-image-container:hover img {\r\n  transform: scale(1.1);\r\n}\r\n\r\n.card-image-placeholder {\r\n  width: 60px;\r\n  height: 84px;\r\n  border-radius: 8px;\r\n  background: var(--background-elevated);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: var(--text-secondary);\r\n}\r\n\r\n.card-image-placeholder .material-symbols-rounded {\r\n  font-size: 24px;\r\n  animation: pulse 1.5s infinite;\r\n}\r\n\r\n.set-name {\r\n  font-size: 12px;\r\n  color: var(--text-secondary);\r\n  background: var(--surface-background);\r\n  padding: 2px 8px;\r\n  border-radius: 100px;\r\n}\r\n\r\n.rarity-badge {\r\n  font-size: 12px;\r\n  padding: 2px 8px;\r\n  background: var(--accent-secondary);\r\n  color: var(--accent-primary);\r\n  border-radius: 100px;\r\n}\r\n\r\n@keyframes pulse {\r\n  0%, 100% { opacity: 0.5; }\r\n  50% { opacity: 1; }\r\n}\r\n\r\n.item-details-row {\r\n  display: flex;\r\n  gap: 16px;\r\n  margin-top: 4px;\r\n  color: var(--text-secondary);\r\n  font-size: 14px;\r\n}\r\n\r\n.quantity {\r\n  font-weight: 500;\r\n}\r\n\r\n.price {\r\n  font-family: monospace;\r\n  font-size: 15px;\r\n}\r\n\r\n.subtotal {\r\n  margin-top: 4px;\r\n  font-size: 14px;\r\n  color: var(--accent-primary);\r\n  font-weight: 600;\r\n  font-family: monospace;\r\n}\r\n\r\n.price-container {\r\n  margin-top: 8px;\r\n  font-feature-settings: \"tnum\";\r\n}\r\n\r\n.price-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  color: var(--text-secondary);\r\n  font-size: 14px;\r\n}\r\n\r\n.quantity-label {\r\n  font-weight: 500;\r\n  letter-spacing: -0.01em;\r\n}\r\n\r\n.price-value {\r\n  font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', sans-serif;\r\n  font-feature-settings: \"tnum\";\r\n  font-variant-numeric: tabular-nums;\r\n  letter-spacing: 0.01em;\r\n}\r\n\r\n.subtotal-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-top: 4px;\r\n  padding-top: 4px;\r\n  border-top: 1px solid var(--divider-color);\r\n}\r\n\r\n.subtotal-label {\r\n  font-size: 13px;\r\n  color: var(--text-tertiary);\r\n  font-weight: 500;\r\n}\r\n\r\n.subtotal-value {\r\n  color: var(--accent-primary);\r\n  font-weight: 600;\r\n  font-size: 15px;\r\n  font-feature-settings: \"tnum\";\r\n  font-variant-numeric: tabular-nums;\r\n}\r\n\r\n.section-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.status-pill {\r\n  padding: 6px 16px;\r\n  border-radius: 100px;\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n  letter-spacing: 0.02em;\r\n}\r\n\r\n.price-breakdown {\r\n  margin-top: 16px;\r\n  background: var(--surface-background);\r\n  border-radius: 12px;\r\n  padding: 12px;\r\n}\r\n\r\n.price-row {\r\n  display: flex;\r\n  gap: 24px;\r\n}\r\n\r\n.price-detail {\r\n  flex: 1;\r\n}\r\n\r\n.price-detail .label,\r\n.subtotal-row .label {\r\n  display: block;\r\n  color: var(--text-secondary);\r\n  font-size: 13px;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.price-detail .value {\r\n  font-weight: 500;\r\n  font-size: 15px;\r\n  font-feature-settings: \"tnum\";\r\n  font-variant-numeric: tabular-nums;\r\n}\r\n\r\n.subtotal-row {\r\n  margin-top: 12px;\r\n  padding-top: 12px;\r\n  border-top: 1px solid var(--divider-color);\r\n}\r\n\r\n.subtotal-row .value {\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  color: var(--accent-primary);\r\n  font-feature-settings: \"tnum\";\r\n  font-variant-numeric: tabular-nums;\r\n}\r\n</style>\r\n","import { render } from \"./OrderDetailsModal.vue?vue&type=template&id=54a3997d&scoped=true\"\nimport script from \"./OrderDetailsModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderDetailsModal.vue?vue&type=script&lang=js\"\n\nimport \"./OrderDetailsModal.vue?vue&type=style&index=0&id=54a3997d&scoped=true&lang=css\"\n\nimport exportComponent from \"A:\\\\Cardwatcher\\\\pokemon-app\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-54a3997d\"]])\n\nexport default __exports__","import { render } from \"./Orders.vue?vue&type=template&id=253f8995&scoped=true\"\nimport script from \"./Orders.vue?vue&type=script&lang=js\"\nexport * from \"./Orders.vue?vue&type=script&lang=js\"\n\nimport \"./Orders.vue?vue&type=style&index=0&id=253f8995&scoped=true&lang=css\"\n\nimport exportComponent from \"A:\\\\Cardwatcher\\\\pokemon-app\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-253f8995\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./OrderDetailsModal.vue?vue&type=style&index=0&id=54a3997d&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Orders.vue?vue&type=style&index=0&id=253f8995&scoped=true&lang=css\""],"sourceRoot":""}