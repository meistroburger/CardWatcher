(function(e){function t(t){for(var c,s,r=t[0],n=t[1],o=t[2],d=0,u=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&u.push(i[s][0]),i[s]=0;for(c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c]);b&&b(t);while(u.length)u.shift()();return l.push.apply(l,o||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],c=!0,s=1;s<a.length;s++){var r=a[s];0!==i[r]&&(c=!1)}c&&(l.splice(t--,1),e=n(n.s=a[0]))}return e}var c={},s={app:0},i={app:0},l=[];function r(e){return n.p+"js/"+({}[e]||e)+"."+{"chunk-13be29f5":"ac94a91e","chunk-28a89ab6":"a527599e","chunk-2d0e2721":"39716f46","chunk-2fe52e9a":"5ea4ab9e","chunk-483cb784":"7245b8b7","chunk-62ad9a69":"08657534","chunk-c066c090":"989c5d97"}[e]+".js"}function n(t){if(c[t])return c[t].exports;var a=c[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.e=function(e){var t=[],a={"chunk-13be29f5":1,"chunk-28a89ab6":1,"chunk-2fe52e9a":1,"chunk-483cb784":1,"chunk-62ad9a69":1,"chunk-c066c090":1};s[e]?t.push(s[e]):0!==s[e]&&a[e]&&t.push(s[e]=new Promise((function(t,a){for(var c="css/"+({}[e]||e)+"."+{"chunk-13be29f5":"e02c82d6","chunk-28a89ab6":"01871f80","chunk-2d0e2721":"31d6cfe0","chunk-2fe52e9a":"2c59716c","chunk-483cb784":"7605cf52","chunk-62ad9a69":"dfca84cb","chunk-c066c090":"2b6b2e4d"}[e]+".css",i=n.p+c,l=document.getElementsByTagName("link"),r=0;r<l.length;r++){var o=l[r],d=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(d===c||d===i))return t()}var u=document.getElementsByTagName("style");for(r=0;r<u.length;r++){o=u[r],d=o.getAttribute("data-href");if(d===c||d===i)return t()}var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.onload=t,b.onerror=function(t){var c=t&&t.target&&t.target.src||i,l=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");l.code="CSS_CHUNK_LOAD_FAILED",l.request=c,delete s[e],b.parentNode.removeChild(b),a(l)},b.href=i;var O=document.getElementsByTagName("head")[0];O.appendChild(b)})).then((function(){s[e]=0})));var c=i[e];if(0!==c)if(c)t.push(c[2]);else{var l=new Promise((function(t,a){c=i[e]=[t,a]}));t.push(c[2]=l);var o,d=document.createElement("script");d.charset="utf-8",d.timeout=120,n.nc&&d.setAttribute("nonce",n.nc),d.src=r(e);var u=new Error;o=function(t){d.onerror=d.onload=null,clearTimeout(b);var a=i[e];if(0!==a){if(a){var c=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+c+": "+s+")",u.name="ChunkLoadError",u.type=c,u.request=s,a[1](u)}i[e]=void 0}};var b=setTimeout((function(){o({type:"timeout",target:d})}),12e4);d.onerror=d.onload=o,document.head.appendChild(d)}return Promise.all(t)},n.m=e,n.c=c,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(a,c,function(t){return e[t]}.bind(null,c));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n.oe=function(e){throw console.error(e),e};var o=window["webpackJsonp"]=window["webpackJsonp"]||[],d=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var b=d;l.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0731":function(e,t,a){},"0e58":function(e,t,a){"use strict";a("0fae")},"0fae":function(e,t,a){},"15a5":function(e,t,a){"use strict";a("44d1")},"1a55":function(e,t,a){},"1b3d":function(e,t,a){},"1c4c":function(e,t,a){},"1ced":function(e,t,a){"use strict";a.r(t);var c=a("7a23");const s={class:"collection"},i={class:"collection-header"},l={class:"filter-controls"},r={class:"search-bar"},n={class:"view-toggle"},o={key:0,class:"loading-container"},d={key:2,class:"load-more"};function u(e,t,a,u,b,O){const j=Object(c["D"])("SetFilter"),p=Object(c["D"])("Card"),m=Object(c["D"])("CardDetailsModal"),v=Object(c["E"])("intersect");return Object(c["x"])(),Object(c["h"])("div",s,[Object(c["i"])("div",i,[t[9]||(t[9]=Object(c["i"])("h1",null,"Your PokÃ©mon Collection",-1)),Object(c["i"])("div",l,[Object(c["i"])("div",r,[t[5]||(t[5]=Object(c["i"])("span",{class:"material-symbols-rounded"},"search",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>b.searchQuery=e),placeholder:"Search cards...",type:"text"},null,512),[[c["M"],b.searchQuery]])]),Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>b.sortBy=e),class:"sort-select"},t[6]||(t[6]=[Object(c["j"])('<option value="name" data-v-df0a22a8>Name</option><option value="-cardmarket.prices.averageSellPrice" data-v-df0a22a8>Price (High to Low)</option><option value="cardmarket.prices.averageSellPrice" data-v-df0a22a8>Price (Low to High)</option><option value="set.releaseDate" data-v-df0a22a8>Release Date</option><option value="rarity" data-v-df0a22a8>Rarity</option>',5)]),512),[[c["L"],b.sortBy]]),Object(c["i"])("div",n,[Object(c["i"])("button",{class:Object(c["r"])(["view-button",{active:"grid"===b.viewMode}]),onClick:t[2]||(t[2]=e=>b.viewMode="grid")},t[7]||(t[7]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"grid_view",-1)]),2),Object(c["i"])("button",{class:Object(c["r"])(["view-button",{active:"list"===b.viewMode}]),onClick:t[3]||(t[3]=e=>b.viewMode="list")},t[8]||(t[8]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"view_list",-1)]),2)])])]),Object(c["l"])(j,{sets:b.sets,selectedSet:b.selectedSet,onSelect:O.selectSet,onClear:O.clearSetFilter},null,8,["sets","selectedSet","onSelect","onClear"]),b.loading?(Object(c["x"])(),Object(c["h"])("div",o,t[10]||(t[10]=[Object(c["i"])("div",{class:"loading-content"},[Object(c["i"])("div",{class:"loading-spinner"}),Object(c["i"])("p",null,"Loading PokÃ©mon Cards...")],-1)]))):(Object(c["x"])(),Object(c["f"])(c["c"],{key:1,name:b.viewMode,tag:"div",class:Object(c["r"])(["card-container",b.viewMode])},{default:Object(c["O"])(()=>[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(O.displayedCards,e=>(Object(c["x"])(),Object(c["f"])(p,{key:e.id,card:e,"view-mode":b.viewMode,onCardSelected:O.openCardModal},null,8,["card","view-mode","onCardSelected"]))),128))]),_:1},8,["name","class"])),!b.loading&&b.hasMore?Object(c["P"])((Object(c["x"])(),Object(c["h"])("div",d,t[11]||(t[11]=[Object(c["k"])(" Loading more cards... ")]))),[[v,O.loadMore]]):Object(c["g"])("",!0),b.selectedCard?(Object(c["x"])(),Object(c["f"])(m,{key:3,card:b.selectedCard,onClose:t[4]||(t[4]=e=>b.selectedCard=null)},null,8,["card"])):Object(c["g"])("",!0)])}var b=a("ae8d"),O=a("2064");const j={class:"sets-filter"},p={class:"sets-header"},m={class:"sets-grid"},v=["onClick"],h=["src","alt"],g={class:"set-info"},f={class:"set-name"},y={class:"set-date"};function k(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",j,[Object(c["i"])("div",p,[t[2]||(t[2]=Object(c["i"])("h3",null,"PokÃ©mon Sets",-1)),a.selectedSet?(Object(c["x"])(),Object(c["h"])("button",{key:0,class:"clear-filter",onClick:t[0]||(t[0]=t=>e.$emit("clear"))},t[1]||(t[1]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1),Object(c["k"])(" Clear ")]))):Object(c["g"])("",!0)]),Object(c["i"])("div",m,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(a.sets,t=>(Object(c["x"])(),Object(c["h"])("div",{key:t.id,class:Object(c["r"])(["set-item",{active:a.selectedSet===t.id}]),onClick:a=>e.$emit("select",t.id)},[Object(c["i"])("img",{src:t.images.symbol,alt:t.name,class:"set-symbol"},null,8,h),Object(c["i"])("div",g,[Object(c["i"])("span",f,Object(c["H"])(t.name),1),Object(c["i"])("span",y,Object(c["H"])(l.formatDate(t.releaseDate)),1)])],10,v))),128))])])}var w={props:{sets:{type:Array,required:!0},selectedSet:{type:String,default:null}},methods:{formatDate(e){return new Date(e).toLocaleDateString("en-US",{month:"short",year:"numeric"})}}},C=(a("cd3d"),a("6b0d")),S=a.n(C);const _=S()(w,[["render",k],["__scopeId","data-v-afdd588e"]]);var x=_,A=a("27f5"),P={components:{Card:b["a"],SetFilter:x,CardDetailsModal:A["a"]},data(){return{cards:[],sets:[],selectedSet:null,searchQuery:"",sortBy:"name",viewMode:"grid",page:1,loading:!1,hasMore:!0,selectedCard:null,totalCards:0}},computed:{displayedCards(){return this.cards}},methods:{async fetchCards(e=!1){e&&(this.page=1,this.cards=[]),this.loading=!0;try{const t={page:this.page,orderBy:this.sortBy,q:this.searchQuery,select:"id,name,images,types,rarity,cardmarket,set"};this.selectedSet&&(t.q+=" set.id:"+this.selectedSet);const a=await O["a"].getCards(t),c=a.data.map(e=>({id:e.id,name:e.name,imageUrl:e.images&&(e.images.small||e.images.large)||"",type:Array.isArray(e.types)?e.types[0]:"Unknown",rarity:e.rarity||"Common",price:e.cardmarket&&e.cardmarket.prices?e.cardmarket.prices.averageSellPrice:"N/A",set:e.set}));this.cards=e?c:[...this.cards,...c],this.totalCards=a.totalCount,this.hasMore=this.cards.length<this.totalCards}catch(t){console.error("Error fetching cards:",t)}finally{this.loading=!1}},async fetchSets(){try{const e=await O["a"].getSets();this.sets=e.data}catch(e){console.error("Error fetching sets:",e)}},selectSet(e){this.selectedSet=e,this.fetchCards(!0)},clearSetFilter(){this.selectedSet=null,this.fetchCards(!0)},loadMore(){!this.loading&&this.hasMore&&(this.page++,this.fetchCards())},openCardModal(e){this.selectedCard=e}},watch:{searchQuery:M((function(){this.fetchCards(!0)}),300),sortBy(){this.fetchCards(!0)}},mounted(){this.fetchSets(),this.fetchCards()}};function M(e,t){let a;return function(...c){clearTimeout(a),a=setTimeout(()=>e.apply(this,c),t)}}a("624b");const H=S()(P,[["render",u],["__scopeId","data-v-df0a22a8"]]);t["default"]=H},2064:function(e,t,a){"use strict";var c=a("bc3a"),s=a.n(c);const i="0c4b0264-73d6-4ada-8edf-ef3ec5db80ea",l="https://api.pokemontcg.io/v2",r=s.a.create({baseURL:l,headers:{"X-Api-Key":i,"Content-Type":"application/json"}});t["a"]={async getCards(e={}){const t=await r.get("/cards",{params:{pageSize:250,page:e.page||1,q:e.query||"",orderBy:e.orderBy||"name",select:"id,name,images,types,rarity,cardmarket,set",...e}});return t.data},async getSets(){const e=await r.get("/sets",{params:{orderBy:"-releaseDate",select:"id,name,images,releaseDate,series"}});return e.data},async getCardById(e){const t=await r.get("/cards/"+e);return t.data},async getCardsByQuery(e){const t=await r.get("/cards",{params:{q:e}});return t.data}}},"22a1":function(e,t,a){},2300:function(e,t,a){},2765:function(e,t,a){"use strict";a("1c4c")},"27f5":function(e,t,a){"use strict";var c=a("7a23");const s={class:"modal-header"},i={class:"card-preview"},l=["src","alt"],r={class:"header-info"},n={class:"tags"},o={class:"tag"},d={class:"tag rarity"},u={class:"modal-body"},b={class:"info-grid"},O={class:"info-widget"},j={class:"widget-content"},p={class:"price"},m={class:"info-widget"},v={class:"widget-content"},h={class:"set-date"},g={class:"action-buttons"},f=["disabled"],y={class:"material-symbols-rounded"},k=["disabled"],w={class:"material-symbols-rounded"};function C(e,t,a,C,S,_){return Object(c["x"])(),Object(c["h"])("div",{class:"modal-backdrop",onClick:t[4]||(t[4]=t=>e.$emit("close"))},[Object(c["i"])("div",{class:"modal-content",onClick:t[3]||(t[3]=Object(c["R"])(()=>{},["stop"]))},[Object(c["i"])("button",{class:"close-button",onClick:t[0]||(t[0]=t=>e.$emit("close"))},t[5]||(t[5]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1)])),Object(c["i"])("div",s,[Object(c["i"])("div",i,[Object(c["i"])("img",{src:a.card.imageUrl,alt:a.card.name},null,8,l)]),Object(c["i"])("div",r,[Object(c["i"])("h1",null,Object(c["H"])(a.card.name),1),Object(c["i"])("div",n,[Object(c["i"])("span",o,Object(c["H"])(a.card.type),1),Object(c["i"])("span",d,Object(c["H"])(a.card.rarity),1)])])]),Object(c["i"])("div",u,[Object(c["i"])("div",b,[Object(c["i"])("div",O,[t[8]||(t[8]=Object(c["i"])("span",{class:"material-symbols-rounded widget-icon"},"sell",-1)),Object(c["i"])("div",j,[t[6]||(t[6]=Object(c["i"])("h3",null,"Market Price",-1)),Object(c["i"])("p",p,"$"+Object(c["H"])(_.formatPrice(a.card.price)),1),t[7]||(t[7]=Object(c["i"])("p",{class:"trend up"},"+5.2% this week",-1))])]),t[11]||(t[11]=Object(c["j"])('<div class="info-widget" data-v-40b529a1><span class="material-symbols-rounded widget-icon" data-v-40b529a1>bar_chart</span><div class="widget-content" data-v-40b529a1><h3 data-v-40b529a1>Market Status</h3><p class="status" data-v-40b529a1>High Demand</p><div class="mini-chart" data-v-40b529a1>ðŸ“ˆ</div></div></div>',1)),Object(c["i"])("div",m,[t[10]||(t[10]=Object(c["i"])("span",{class:"material-symbols-rounded widget-icon"},"collections",-1)),Object(c["i"])("div",v,[t[9]||(t[9]=Object(c["i"])("h3",null,"Set Information",-1)),Object(c["i"])("p",null,Object(c["H"])(_.getSetName),1),Object(c["i"])("p",h,"Released: "+Object(c["H"])(_.getSetReleaseDate),1)])])]),Object(c["i"])("div",g,[Object(c["i"])("button",{class:"action-button primary",onClick:t[1]||(t[1]=(...e)=>_.addToCollection&&_.addToCollection(...e)),disabled:_.isInCollection},[Object(c["i"])("span",y,Object(c["H"])(_.isInCollection?"check":"add_shopping_cart"),1),Object(c["k"])(" "+Object(c["H"])(_.isInCollection?"In Collection":"Add to Collection"),1)],8,f),Object(c["i"])("button",{class:"action-button secondary",onClick:t[2]||(t[2]=(...e)=>_.addToWishlist&&_.addToWishlist(...e)),disabled:_.isInWishlist},[Object(c["i"])("span",w,Object(c["H"])(_.isInWishlist?"favorite":"favorite_border"),1),Object(c["k"])(" "+Object(c["H"])(_.isInWishlist?"In Wishlist":"Add to Wishlist"),1)],8,k)])])])])}var S=a("6b85"),_={name:"CardDetailsModal",props:{card:{type:Object,required:!0}},computed:{getSetName(){return this.card.set&&this.card.set.name?this.card.set.name:"Unknown Set"},getSetReleaseDate(){return this.formatDate(this.card.set&&this.card.set.releaseDate)},isInCollection(){return S["a"].isInCollection(this.card.id)},isInWishlist(){return S["a"].isInWishlist(this.card.id)}},methods:{formatPrice(e){return"N/A"===e?"N/A":Number(e).toFixed(2)},formatDate(e){return e?new Date(e).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"Unknown"},addToCollection(){S["a"].addToCollection(this.card),this.$emit("added-to-collection")},addToWishlist(){S["a"].addToWishlist(this.card),this.$emit("added-to-wishlist")}}},x=(a("b752"),a("6b0d")),A=a.n(x);const P=A()(_,[["render",C],["__scopeId","data-v-40b529a1"]]);t["a"]=P},"395c":function(e,t,a){},"3b4f":function(e,t,a){"use strict";a("f76e")},"3e12":function(e,t,a){"use strict";a("a98f")},"44d1":function(e,t,a){},"487e":function(e,t,a){},"4a66":function(e,t,a){},5121:function(e,t,a){"use strict";a("395c")},"56d7":function(e,t,a){"use strict";a.r(t);var c=a("7a23");const s={key:2,class:"loading-screen"};function i(e,t,a,i,l,r){const n=Object(c["D"])("AppHeader"),o=Object(c["D"])("router-view");return Object(c["x"])(),Object(c["h"])(c["a"],null,[i.auth.state.initialized?(Object(c["x"])(),Object(c["f"])(n,{key:0})):Object(c["g"])("",!0),i.auth.state.initialized?(Object(c["x"])(),Object(c["f"])(o,{key:1})):(Object(c["x"])(),Object(c["h"])("div",s,t[0]||(t[0]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"autorenew",-1),Object(c["k"])(" Loading... ")])))],64)}const l={class:"app-header"},r={class:"nav-container"},n={class:"nav-left"},o={class:"nav-links"},d={class:"nav-right"},u={key:0,class:"cart-badge"},b={class:"username"},O={key:0,class:"user-dropdown"};function j(e,t,a,s,i,j){const p=Object(c["D"])("router-link"),m=Object(c["D"])("CartSlideOver");return Object(c["x"])(),Object(c["h"])("header",l,[Object(c["i"])("nav",r,[Object(c["i"])("div",n,[Object(c["l"])(p,{to:"/",class:"logo"},{default:Object(c["O"])(()=>t[4]||(t[4]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"style",-1),Object(c["k"])(" CardWatcher ")])),_:1}),Object(c["i"])("div",o,[Object(c["l"])(p,{to:"/collection"},{default:Object(c["O"])(()=>t[5]||(t[5]=[Object(c["k"])("Browse Cards")])),_:1}),Object(c["l"])(p,{to:"/pricing"},{default:Object(c["O"])(()=>t[6]||(t[6]=[Object(c["k"])("Market Prices")])),_:1}),Object(c["l"])(p,{to:"/store"},{default:Object(c["O"])(()=>t[7]||(t[7]=[Object(c["k"])("Card Market")])),_:1}),s.isLoggedIn?(Object(c["x"])(),Object(c["h"])(c["a"],{key:0},[Object(c["l"])(p,{to:"/my-collection"},{default:Object(c["O"])(()=>t[8]||(t[8]=[Object(c["k"])("My Collection")])),_:1}),Object(c["l"])(p,{to:"/wishlist"},{default:Object(c["O"])(()=>t[9]||(t[9]=[Object(c["k"])("Wishlist")])),_:1})],64)):Object(c["g"])("",!0)])]),Object(c["i"])("div",d,[Object(c["i"])("button",{class:"nav-button cart-button",onClick:t[0]||(t[0]=(...e)=>s.toggleCart&&s.toggleCart(...e))},[t[10]||(t[10]=Object(c["i"])("span",{class:"material-symbols-rounded"},"shopping_cart",-1)),s.cart.state.items.length?(Object(c["x"])(),Object(c["h"])("span",u,Object(c["H"])(s.cart.state.items.length),1)):Object(c["g"])("",!0)]),s.isLoggedIn?(Object(c["x"])(),Object(c["h"])(c["a"],{key:0},[Object(c["i"])("button",{class:"user-menu",onClick:t[1]||(t[1]=(...e)=>s.toggleUserMenu&&s.toggleUserMenu(...e))},[t[11]||(t[11]=Object(c["i"])("span",{class:"material-symbols-rounded"},"account_circle",-1)),Object(c["i"])("span",b,[Object(c["k"])(Object(c["H"])(s.userDisplayName)+" ",1),Object(c["i"])("span",{class:Object(c["r"])(["role-badge",s.userRole])},Object(c["H"])(s.userRole),3)]),t[12]||(t[12]=Object(c["i"])("span",{class:"material-symbols-rounded"},"expand_more",-1))]),s.showUserMenu?(Object(c["x"])(),Object(c["h"])("div",O,[Object(c["l"])(p,{to:"/profile",class:"dropdown-item"},{default:Object(c["O"])(()=>t[13]||(t[13]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"person",-1),Object(c["k"])(" Profile ")])),_:1}),s.isAdmin?(Object(c["x"])(),Object(c["f"])(p,{key:0,to:"/admin",class:"dropdown-item"},{default:Object(c["O"])(()=>t[14]||(t[14]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"admin_panel_settings",-1),Object(c["k"])(" Admin Panel ")])),_:1})):Object(c["g"])("",!0),Object(c["i"])("button",{onClick:t[2]||(t[2]=(...e)=>s.handleSignOut&&s.handleSignOut(...e)),class:"dropdown-item"},t[15]||(t[15]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"logout",-1),Object(c["k"])(" Sign Out ")]))])):Object(c["g"])("",!0)],64)):(Object(c["x"])(),Object(c["h"])(c["a"],{key:1},[Object(c["l"])(p,{to:"/register",class:"auth-button secondary"},{default:Object(c["O"])(()=>t[16]||(t[16]=[Object(c["k"])("Register")])),_:1}),Object(c["l"])(p,{to:"/login",class:"auth-button primary"},{default:Object(c["O"])(()=>t[17]||(t[17]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"login",-1),Object(c["k"])(" Sign In ")])),_:1})],64))])]),Object(c["l"])(m,{show:s.showCart,onClose:t[3]||(t[3]=e=>s.showCart=!1)},null,8,["show"])])}var p=a("889e"),m=a("8c2f");const v={class:"cart-header"},h={key:0,class:"empty-cart"},g={key:1,class:"cart-items"},f=["src","alt"],y={class:"item-details"},k={class:"item-price"},w={class:"quantity-controls"},C=["onClick"],S=["onClick"],_=["onClick"],x={key:2,class:"cart-footer"},A={class:"subtotal"};function P(e,t,a,s,i,l){return e.show?(Object(c["x"])(),Object(c["h"])("div",{key:0,class:"cart-overlay",onClick:t[3]||(t[3]=t=>e.$emit("close"))},[Object(c["i"])("div",{class:"cart-slideover",onClick:t[2]||(t[2]=Object(c["R"])(()=>{},["stop"]))},[Object(c["i"])("div",v,[t[5]||(t[5]=Object(c["i"])("h2",null,"Shopping Cart",-1)),Object(c["i"])("button",{class:"close-button",onClick:t[0]||(t[0]=t=>e.$emit("close"))},t[4]||(t[4]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1)]))]),e.cart.items.length?(Object(c["x"])(),Object(c["h"])("div",g,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(e.cart.items,a=>(Object(c["x"])(),Object(c["h"])("div",{key:a.id,class:"cart-item"},[Object(c["i"])("img",{src:a.image_url,alt:a.name},null,8,f),Object(c["i"])("div",y,[Object(c["i"])("h3",null,Object(c["H"])(a.name),1),Object(c["i"])("div",k,"$"+Object(c["H"])(a.price),1),Object(c["i"])("div",w,[Object(c["i"])("button",{onClick:t=>e.decrementQuantity(a)},"-",8,C),Object(c["i"])("span",null,Object(c["H"])(a.quantity),1),Object(c["i"])("button",{onClick:t=>e.incrementQuantity(a)},"+",8,S)])]),Object(c["i"])("button",{class:"remove-item",onClick:t=>e.removeItem(a)},t[7]||(t[7]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"delete",-1)]),8,_)]))),128))])):(Object(c["x"])(),Object(c["h"])("div",h,t[6]||(t[6]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"shopping_cart",-1),Object(c["i"])("p",null,"Your cart is empty",-1)]))),e.cart.items.length?(Object(c["x"])(),Object(c["h"])("div",x,[Object(c["i"])("div",A,[t[8]||(t[8]=Object(c["i"])("span",null,"Subtotal",-1)),Object(c["i"])("strong",null,"$"+Object(c["H"])(e.cart.total.toFixed(2)),1)]),Object(c["i"])("button",{class:"checkout-button",onClick:t[1]||(t[1]=(...t)=>e.checkout&&e.checkout(...t))},t[9]||(t[9]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"payments",-1),Object(c["k"])(" Checkout ")]))])):Object(c["g"])("",!0)])])):Object(c["g"])("",!0)}var M=a("4c16"),H=a("79a7"),I=Object(c["m"])({name:"CartSlideOver",props:{show:Boolean},setup(){async function e(){try{const{data:e,error:t}=await H["a"].functions.invoke("create-checkout-session",{body:{items:m["a"].items}});if(t)throw t;const a=await Object(M["a"])("pk_test_51QrkgR4CfmNPourcrOX3w5QB0d3oS76LrpMWcaGU8lnsj7mAc8SlPE3rEDZm8HLpezTqlTvAOwR2QOkl4xFTMAwu00SfIVQ1iY");await a.redirectToCheckout({sessionId:e.id})}catch(e){console.error("Checkout error:",e),alert("Failed to initiate checkout")}}function t(e){m["a"].updateQuantity(e.id,e.quantity+1)}function a(e){e.quantity>1&&m["a"].updateQuantity(e.id,e.quantity-1)}function c(e){m["a"].removeItem(e.id)}return{cart:m["a"],checkout:e,incrementQuantity:t,decrementQuantity:a,removeItem:c}}}),D=(a("3e12"),a("6b0d")),U=a.n(D);const T=U()(I,[["render",P],["__scopeId","data-v-48223bb6"]]);var q=T,R=a("6605"),F={name:"AppHeader",components:{CartSlideOver:q},setup(){const e=Object(c["A"])(!1),t=Object(c["d"])(()=>!!p["a"].state.session),a=Object(c["d"])(()=>{if(!p["a"].state.user)return"";const e=p["a"].state.profile;return e&&e.first_name&&e.last_name?`${e.first_name} ${e.last_name}`:p["a"].state.user.email}),s=Object(c["d"])(()=>p["a"].state.isAdmin),i=Object(c["d"])(()=>p["a"].state.isAdmin?"admin":"user"),l=()=>{e.value=!e.value},r=async()=>{await p["a"].signOut(),e.value=!1},n=Object(c["A"])(!1),o=Object(R["d"])();function d(){o.push("/cart")}return Object(c["N"])(()=>m["a"].state.show,e=>{n.value=e}),Object(c["N"])(()=>m["a"].state.items.length,(e,t)=>{if(e>t){const e=document.querySelector(".cart-badge");e&&(e.classList.add("pulse"),setTimeout(()=>e.classList.remove("pulse"),300))}}),{isLoggedIn:t,showUserMenu:e,toggleUserMenu:l,handleSignOut:r,userDisplayName:a,isAdmin:s,userRole:i,cart:m["a"],showCart:n,toggleCart:d}}};a("e7ed");const V=U()(F,[["render",j],["__scopeId","data-v-ff466d9a"]]);var E=V,L={name:"App",components:{AppHeader:E},setup(){return{auth:p["a"]}}};a("2765");const N=U()(L,[["render",i]]);var B=N;const W={class:"home"},$={class:"widgets-grid"},z={class:"widget-grid"},Q={class:"widget highlight-widget"},J={key:0,class:"card-preview"},K=["src","alt"],G={class:"card-info"},X={class:"price"},Z={class:"widget"},Y={class:"trend-list"},ee={class:"trend-name"},te={class:"widget"},ae={class:"news-list"},ce={class:"news-date"},se={class:"widget"},ie={class:"value-list"},le={key:0,class:"cta-section"},re={class:"cta-content"},ne={class:"cta-buttons"};function oe(e,t,a,s,i,l){const r=Object(c["D"])("MarketWidget"),n=Object(c["D"])("TrendingCardsWidget"),o=Object(c["D"])("router-link");return Object(c["x"])(),Object(c["h"])("div",W,[t[12]||(t[12]=Object(c["i"])("header",{class:"page-header"},[Object(c["i"])("div",{class:"header-content"},[Object(c["i"])("h1",null,"Welcome back!"),Object(c["i"])("p",{class:"subtitle"},"Track your PokÃ©mon card collection and market trends")])],-1)),Object(c["i"])("div",$,[Object(c["l"])(r,{class:"widget"}),Object(c["l"])(n,{class:"widget"})]),Object(c["i"])("div",z,[Object(c["i"])("div",Q,[t[0]||(t[0]=Object(c["i"])("span",{class:"material-symbols-rounded widget-icon"},"diamond",-1)),t[1]||(t[1]=Object(c["i"])("h2",null,"Most Expensive Card",-1)),i.mostExpensiveCard?(Object(c["x"])(),Object(c["h"])("div",J,[Object(c["i"])("img",{src:i.mostExpensiveCard.imageUrl,alt:i.mostExpensiveCard.name},null,8,K),Object(c["i"])("div",G,[Object(c["i"])("h3",null,Object(c["H"])(i.mostExpensiveCard.name),1),Object(c["i"])("p",X,"$"+Object(c["H"])(i.mostExpensiveCard.price),1)])])):Object(c["g"])("",!0)]),Object(c["i"])("div",Z,[t[2]||(t[2]=Object(c["i"])("span",{class:"material-symbols-rounded widget-icon"},"trending_up",-1)),t[3]||(t[3]=Object(c["i"])("h2",null,"Market Trends",-1)),Object(c["i"])("ul",Y,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(i.trends,e=>(Object(c["x"])(),Object(c["h"])("li",{key:e.id},[Object(c["i"])("span",ee,Object(c["H"])(e.name),1),Object(c["i"])("span",{class:Object(c["r"])(["trend-change",e.direction])},Object(c["H"])(e.change)+"% ",3)]))),128))])]),Object(c["i"])("div",te,[t[4]||(t[4]=Object(c["i"])("span",{class:"material-symbols-rounded widget-icon"},"newspaper",-1)),t[5]||(t[5]=Object(c["i"])("h2",null,"Latest News",-1)),Object(c["i"])("div",ae,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(i.news,e=>(Object(c["x"])(),Object(c["h"])("article",{key:e.id,class:"news-item"},[Object(c["i"])("h4",null,Object(c["H"])(e.title),1),Object(c["i"])("p",null,Object(c["H"])(e.excerpt),1),Object(c["i"])("span",ce,Object(c["H"])(e.date),1)]))),128))])]),Object(c["i"])("div",se,[t[6]||(t[6]=Object(c["i"])("span",{class:"material-symbols-rounded widget-icon"},"star",-1)),t[7]||(t[7]=Object(c["i"])("h2",null,"Top Valued Cards",-1)),Object(c["i"])("ol",ie,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(i.topValuedCards,e=>(Object(c["x"])(),Object(c["h"])("li",{key:e.id},Object(c["H"])(e.name)+" - $"+Object(c["H"])(e.price),1))),128))])])]),l.isLoggedIn?Object(c["g"])("",!0):(Object(c["x"])(),Object(c["h"])("div",le,[Object(c["i"])("div",re,[t[10]||(t[10]=Object(c["i"])("h2",null,"Want to track your collection?",-1)),t[11]||(t[11]=Object(c["i"])("p",null,"Create a free account to manage your PokÃ©mon card collection and wishlist.",-1)),Object(c["i"])("div",ne,[Object(c["l"])(o,{to:"/register",class:"cta-button primary"},{default:Object(c["O"])(()=>t[8]||(t[8]=[Object(c["k"])(" Create Account ")])),_:1}),Object(c["l"])(o,{to:"/login",class:"cta-button secondary"},{default:Object(c["O"])(()=>t[9]||(t[9]=[Object(c["k"])(" Sign In ")])),_:1})])])]))])}var de=a("1ced");const ue={class:"market-widget"},be={class:"widget-header"};function Oe(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",ue,[Object(c["i"])("div",be,[t[2]||(t[2]=Object(c["i"])("h2",null,"Market Overview",-1)),Object(c["i"])("button",{class:"refresh-button",onClick:t[0]||(t[0]=(...e)=>l.refreshData&&l.refreshData(...e))},t[1]||(t[1]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"refresh",-1)]))]),t[3]||(t[3]=Object(c["j"])('<div class="market-stats" data-v-336e696f><div class="stat-item" data-v-336e696f><div class="stat-label" data-v-336e696f>Market Volume</div><div class="stat-value" data-v-336e696f>$123,456</div><div class="stat-trend up" data-v-336e696f><span class="material-symbols-rounded" data-v-336e696f>trending_up</span> +5.2% </div></div><div class="stat-item" data-v-336e696f><div class="stat-label" data-v-336e696f>Active Listings</div><div class="stat-value" data-v-336e696f>24,789</div><div class="stat-trend down" data-v-336e696f><span class="material-symbols-rounded" data-v-336e696f>trending_down</span> -2.1% </div></div><div class="stat-item" data-v-336e696f><div class="stat-label" data-v-336e696f>Avg Card Price</div><div class="stat-value" data-v-336e696f>$48.32</div><div class="stat-trend up" data-v-336e696f><span class="material-symbols-rounded" data-v-336e696f>trending_up</span> +1.8% </div></div></div>',1))])}var je={name:"MarketWidget",methods:{refreshData(){}}};a("3b4f");const pe=U()(je,[["render",Oe],["__scopeId","data-v-336e696f"]]);var me=pe;const ve={class:"trending-widget"},he={class:"widget-header"},ge={class:"time-filter"},fe=["onClick"],ye={class:"trending-cards"},ke=["src","alt"],we={class:"card-info"},Ce={class:"card-name"},Se={class:"card-price"},_e={class:"material-symbols-rounded"};function xe(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",ve,[Object(c["i"])("div",he,[t[0]||(t[0]=Object(c["i"])("h2",null,"Trending Cards",-1)),Object(c["i"])("div",ge,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(i.periods,e=>(Object(c["x"])(),Object(c["h"])("button",{key:e,class:Object(c["r"])({active:i.selectedPeriod===e}),onClick:t=>i.selectedPeriod=e},Object(c["H"])(e),11,fe))),128))])]),Object(c["i"])("div",ye,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(i.trendingCards,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:"trend-card"},[Object(c["i"])("img",{src:e.image,alt:e.name,class:"card-thumbnail"},null,8,ke),Object(c["i"])("div",we,[Object(c["i"])("div",Ce,Object(c["H"])(e.name),1),Object(c["i"])("div",Se,"$"+Object(c["H"])(e.price),1),Object(c["i"])("div",{class:Object(c["r"])(["price-change",e.change>0?"up":"down"])},[Object(c["i"])("span",_e,Object(c["H"])(e.change>0?"trending_up":"trending_down"),1),Object(c["k"])(" "+Object(c["H"])(Math.abs(e.change))+"% ",1)],2)])]))),128))])])}var Ae={name:"TrendingCardsWidget",data(){return{periods:["24h","7d","30d"],selectedPeriod:"24h",trendingCards:[{id:1,name:"Charizard VMAX",price:189.99,change:12.5,image:"path/to/image"}]}}};a("dfd6");const Pe=U()(Ae,[["render",xe],["__scopeId","data-v-c75984e0"]]);var Me=Pe,He=a("2064"),Ie={name:"Home",components:{Collection:de["default"],MarketWidget:me,TrendingCardsWidget:Me},data(){return{mostExpensiveCard:null,topValuedCards:[],trends:[{id:1,name:"Charizard Base Set",change:"+12.5",direction:"up"},{id:2,name:"Pikachu Illustrator",change:"+5.2",direction:"up"},{id:3,name:"Mewtwo GX",change:"-2.1",direction:"down"}],news:[{id:1,title:"New Scarlet & Violet Set Announced",excerpt:"The PokÃ©mon Company reveals exciting new cards...",date:"2 hours ago"},{id:2,title:"Record Breaking Card Sale",excerpt:"Rare Pikachu card sells for unprecedented amount...",date:"1 day ago"}]}},async mounted(){try{const e=await He["a"].getCards(1,100),t=e.data.map(e=>({id:e.id,name:e.name,imageUrl:e.images.small,price:e.cardmarket&&e.cardmarket.prices?e.cardmarket.prices.averageSellPrice:0})).filter(e=>e.price>0);t.sort((e,t)=>t.price-e.price),this.mostExpensiveCard=t[0],this.topValuedCards=t.slice(0,5)}catch(e){console.error("Error fetching cards:",e)}},computed:{isLoggedIn(){return!!p["a"].state.session}}};a("7307");const De=U()(Ie,[["render",oe],["__scopeId","data-v-d72b2e98"]]);var Ue=De;const Te={class:"auth-container"},qe={class:"auth-card"},Re={class:"form-group"},Fe={class:"input-wrapper"},Ve={class:"form-group"},Ee={class:"input-wrapper"},Le={key:0,class:"error-message"},Ne=["disabled"],Be={class:"button-content"},We={class:"auth-footer"};function $e(e,t,a,s,i,l){const r=Object(c["D"])("router-link");return Object(c["x"])(),Object(c["h"])("div",Te,[Object(c["i"])("div",qe,[t[9]||(t[9]=Object(c["i"])("div",{class:"auth-header"},[Object(c["i"])("span",{class:"material-symbols-rounded"},"person_outline"),Object(c["i"])("h1",null,"Welcome Back"),Object(c["i"])("p",{class:"subtitle"},"Sign in to manage your collection")],-1)),Object(c["i"])("form",{onSubmit:t[2]||(t[2]=Object(c["R"])((...e)=>l.handleSubmit&&l.handleSubmit(...e),["prevent"]))},[Object(c["i"])("div",Re,[Object(c["i"])("div",Fe,[t[3]||(t[3]=Object(c["i"])("span",{class:"material-symbols-rounded"},"mail",-1)),Object(c["P"])(Object(c["i"])("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>i.email=e),type:"email",placeholder:"Email address",required:""},null,512),[[c["M"],i.email]])])]),Object(c["i"])("div",Ve,[Object(c["i"])("div",Ee,[t[4]||(t[4]=Object(c["i"])("span",{class:"material-symbols-rounded"},"lock",-1)),Object(c["P"])(Object(c["i"])("input",{id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>i.password=e),type:"password",placeholder:"Password",required:""},null,512),[[c["M"],i.password]])])]),i.error?(Object(c["x"])(),Object(c["h"])("div",Le,[t[5]||(t[5]=Object(c["i"])("span",{class:"material-symbols-rounded"},"error",-1)),Object(c["k"])(" "+Object(c["H"])(i.error),1)])):Object(c["g"])("",!0),Object(c["i"])("button",{type:"submit",disabled:i.loading,class:Object(c["r"])(["submit-button",{loading:i.loading}])},[Object(c["i"])("span",Be,[t[6]||(t[6]=Object(c["i"])("span",{class:"material-symbols-rounded"},"login",-1)),Object(c["k"])(" "+Object(c["H"])(i.loading?"Signing in...":"Sign In"),1)])],10,Ne)],32),Object(c["i"])("div",We,[t[8]||(t[8]=Object(c["i"])("p",null,"Don't have an account?",-1)),Object(c["l"])(r,{to:"/register",class:"auth-link"},{default:Object(c["O"])(()=>t[7]||(t[7]=[Object(c["k"])(" Create Account "),Object(c["i"])("span",{class:"material-symbols-rounded"},"arrow_forward",-1)])),_:1})])])])}var ze={name:"Login",data(){return{email:"",password:"",loading:!1,error:null}},methods:{async handleSubmit(){this.loading=!0,this.error=null;const{user:e,error:t}=await p["a"].signIn(this.email,this.password);t?this.error=t.message:this.$router.push("/dashboard"),this.loading=!1}}};a("15a5");const Qe=U()(ze,[["render",$e],["__scopeId","data-v-48df06ae"]]);var Je=Qe;const Ke={class:"my-collection"},Ge={class:"collection-header"},Xe={class:"stats"},Ze={class:"stat-item"},Ye={class:"stat-content"},et={class:"stat-item"},tt={class:"stat-content"},at={key:0,class:"cards-grid"},ct=["onClick"],st={key:1,class:"empty-state"};function it(e,t,a,s,i,l){const r=Object(c["D"])("Card"),n=Object(c["D"])("router-link"),o=Object(c["D"])("CardDetailsModal");return Object(c["x"])(),Object(c["h"])("div",Ke,[Object(c["i"])("div",Ge,[t[5]||(t[5]=Object(c["i"])("h1",null,"My Collection",-1)),Object(c["i"])("div",Xe,[Object(c["i"])("div",Ze,[t[2]||(t[2]=Object(c["i"])("span",{class:"material-symbols-rounded"},"diamond",-1)),Object(c["i"])("div",Ye,[t[1]||(t[1]=Object(c["i"])("h3",null,"Total Cards",-1)),Object(c["i"])("p",null,Object(c["H"])(i.collection.length),1)])]),Object(c["i"])("div",et,[t[4]||(t[4]=Object(c["i"])("span",{class:"material-symbols-rounded"},"payments",-1)),Object(c["i"])("div",tt,[t[3]||(t[3]=Object(c["i"])("h3",null,"Total Value",-1)),Object(c["i"])("p",null,"$"+Object(c["H"])(l.totalValue.toFixed(2)),1)])])])]),i.collection.length?(Object(c["x"])(),Object(c["h"])("div",at,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(i.collection,e=>(Object(c["x"])(),Object(c["f"])(r,{key:e.id,card:e,onCardSelected:l.showCardDetails},{default:Object(c["O"])(()=>[Object(c["i"])("button",{class:"remove-button",onClick:Object(c["R"])(t=>l.removeFromCollection(e.id),["stop"])},t[6]||(t[6]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"delete",-1)]),8,ct)]),_:2},1032,["card","onCardSelected"]))),128))])):(Object(c["x"])(),Object(c["h"])("div",st,[t[8]||(t[8]=Object(c["i"])("span",{class:"material-symbols-rounded"},"category",-1)),t[9]||(t[9]=Object(c["i"])("h2",null,"Your collection is empty",-1)),t[10]||(t[10]=Object(c["i"])("p",null,"Start adding cards from the collection page!",-1)),Object(c["l"])(n,{to:"/collection",class:"browse-button"},{default:Object(c["O"])(()=>t[7]||(t[7]=[Object(c["k"])(" Browse Cards ")])),_:1})])),i.selectedCard?(Object(c["x"])(),Object(c["f"])(o,{key:2,card:i.selectedCard,onClose:t[0]||(t[0]=e=>i.selectedCard=null)},null,8,["card"])):Object(c["g"])("",!0)])}var lt=a("ae8d"),rt=a("27f5"),nt=a("6b85"),ot={components:{Card:lt["a"],CardDetailsModal:rt["a"]},data(){return{collection:[],selectedCard:null}},computed:{totalValue(){return this.collection.reduce((e,t)=>{const a=parseFloat(t.price)||0;return e+a},0)}},methods:{loadCollection(){this.collection=nt["a"].getCollection()},removeFromCollection(e){nt["a"].removeFromCollection(e),this.loadCollection()},showCardDetails(e){this.selectedCard=e}},mounted(){this.loadCollection()}};a("621b");const dt=U()(ot,[["render",it],["__scopeId","data-v-43821135"]]);var ut=dt;const bt={class:"wishlist"},Ot={class:"wishlist-header"},jt={class:"stats"},pt={class:"stat-item"},mt={class:"stat-content"},vt={class:"stat-item"},ht={class:"stat-content"},gt={key:0,class:"cards-grid"},ft={class:"card-actions"},yt=["onClick"],kt=["onClick"],wt={key:1,class:"empty-state"};function Ct(e,t,a,s,i,l){const r=Object(c["D"])("Card"),n=Object(c["D"])("router-link"),o=Object(c["D"])("CardDetailsModal");return Object(c["x"])(),Object(c["h"])("div",bt,[Object(c["i"])("div",Ot,[t[5]||(t[5]=Object(c["i"])("h1",null,"My Wishlist",-1)),Object(c["i"])("div",jt,[Object(c["i"])("div",pt,[t[2]||(t[2]=Object(c["i"])("span",{class:"material-symbols-rounded"},"favorite",-1)),Object(c["i"])("div",mt,[t[1]||(t[1]=Object(c["i"])("h3",null,"Wanted Cards",-1)),Object(c["i"])("p",null,Object(c["H"])(i.wishlist.length),1)])]),Object(c["i"])("div",vt,[t[4]||(t[4]=Object(c["i"])("span",{class:"material-symbols-rounded"},"savings",-1)),Object(c["i"])("div",ht,[t[3]||(t[3]=Object(c["i"])("h3",null,"Total Value",-1)),Object(c["i"])("p",null,"$"+Object(c["H"])(l.estimatedTotal.toFixed(2)),1)])])])]),i.wishlist.length?(Object(c["x"])(),Object(c["h"])("div",gt,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(i.wishlist,e=>(Object(c["x"])(),Object(c["f"])(r,{key:e.id,card:e,onCardSelected:l.showCardDetails},{default:Object(c["O"])(()=>[Object(c["i"])("div",ft,[l.isInCollection(e.id)?Object(c["g"])("",!0):(Object(c["x"])(),Object(c["h"])("button",{key:0,class:"action-button primary",onClick:Object(c["R"])(t=>l.addToCollection(e),["stop"])},t[6]||(t[6]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"add_shopping_cart",-1)]),8,yt)),Object(c["i"])("button",{class:"action-button danger",onClick:Object(c["R"])(t=>l.removeFromWishlist(e.id),["stop"])},t[7]||(t[7]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"favorite",-1)]),8,kt)])]),_:2},1032,["card","onCardSelected"]))),128))])):(Object(c["x"])(),Object(c["h"])("div",wt,[t[9]||(t[9]=Object(c["i"])("span",{class:"material-symbols-rounded"},"favorite_border",-1)),t[10]||(t[10]=Object(c["i"])("h2",null,"Your wishlist is empty",-1)),t[11]||(t[11]=Object(c["i"])("p",null,"Start adding cards you want to collect!",-1)),Object(c["l"])(n,{to:"/collection",class:"browse-button"},{default:Object(c["O"])(()=>t[8]||(t[8]=[Object(c["k"])(" Browse Cards ")])),_:1})])),i.selectedCard?(Object(c["x"])(),Object(c["f"])(o,{key:2,card:i.selectedCard,onClose:t[0]||(t[0]=e=>i.selectedCard=null),onAddedToCollection:l.handleAddedToCollection},null,8,["card","onAddedToCollection"])):Object(c["g"])("",!0)])}var St={components:{Card:lt["a"],CardDetailsModal:rt["a"]},data(){return{wishlist:[],selectedCard:null}},computed:{estimatedTotal(){return this.wishlist.reduce((e,t)=>{const a=parseFloat(t.price)||0;return e+a},0)}},methods:{loadWishlist(){this.wishlist=nt["a"].getWishlist()},removeFromWishlist(e){nt["a"].removeFromWishlist(e),this.loadWishlist()},addToCollection(e){nt["a"].addToCollection(e),nt["a"].removeFromWishlist(e.id),this.loadWishlist()},isInCollection(e){return nt["a"].isInCollection(e)},showCardDetails(e){this.selectedCard=e},handleAddedToCollection(){this.loadWishlist()}},mounted(){this.loadWishlist()}};a("8579");const _t=U()(St,[["render",Ct],["__scopeId","data-v-50f6f9a4"]]);var xt=_t;const At={class:"admin-container"},Pt={class:"admin-header"},Mt={class:"quick-stats"},Ht={class:"stat-card"},It={class:"stat-card"},Dt={class:"stat-card"},Ut={class:"admin-tabs"},Tt=["onClick"],qt={class:"material-symbols-rounded"},Rt={key:0,class:"admin-panel"},Ft={class:"panel-header"},Vt={class:"search-box"},Et={class:"table-container"},Lt={class:"data-table"},Nt={class:"actions"},Bt=["onClick"],Wt=["onClick"],$t={key:1,class:"admin-panel"},zt={key:2,class:"admin-panel"},Qt={key:3,class:"admin-panel"},Jt={key:4,class:"admin-panel"},Kt={key:5,class:"admin-panel"},Gt={key:6,class:"admin-panel"},Xt={class:"form-section"},Zt={key:0,class:"form-group"},Yt={class:"input-wrapper"},ea={key:1,class:"form-group"},ta={class:"input-wrapper"},aa={class:"form-group"},ca={class:"input-wrapper"},sa={class:"form-group"},ia={class:"input-wrapper"},la={class:"form-group"},ra={class:"select-wrapper"},na={class:"form-group"},oa={class:"select-wrapper"},da={key:0,class:"error-message"},ua={class:"form-actions"},ba=["disabled"],Oa={class:"modal-actions"};function ja(e,t,a,s,i,l){const r=Object(c["D"])("NewsManager"),n=Object(c["D"])("CardsManager"),o=Object(c["D"])("ReportsManager"),d=Object(c["D"])("SettingsManager"),u=Object(c["D"])("StoreManager"),b=Object(c["D"])("OrderManager"),O=Object(c["D"])("Modal");return Object(c["x"])(),Object(c["h"])("div",At,[Object(c["i"])("div",Pt,[t[19]||(t[19]=Object(c["i"])("h1",null,"Admin Dashboard",-1)),Object(c["i"])("div",Mt,[Object(c["i"])("div",Ht,[t[14]||(t[14]=Object(c["i"])("span",{class:"material-symbols-rounded"},"group",-1)),Object(c["i"])("div",null,[t[13]||(t[13]=Object(c["i"])("h3",null,"Total Users",-1)),Object(c["i"])("p",null,Object(c["H"])(s.stats.totalUsers),1)])]),Object(c["i"])("div",It,[t[16]||(t[16]=Object(c["i"])("span",{class:"material-symbols-rounded"},"style",-1)),Object(c["i"])("div",null,[t[15]||(t[15]=Object(c["i"])("h3",null,"Total Cards",-1)),Object(c["i"])("p",null,Object(c["H"])(s.stats.totalCards),1)])]),Object(c["i"])("div",Dt,[t[18]||(t[18]=Object(c["i"])("span",{class:"material-symbols-rounded"},"today",-1)),Object(c["i"])("div",null,[t[17]||(t[17]=Object(c["i"])("h3",null,"New Today",-1)),Object(c["i"])("p",null,Object(c["H"])(s.stats.newToday),1)])])])]),Object(c["i"])("div",Ut,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.tabs,e=>(Object(c["x"])(),Object(c["h"])("button",{key:e.id,class:Object(c["r"])({active:s.currentTab===e.id}),onClick:t=>s.currentTab=e.id},[Object(c["i"])("span",qt,Object(c["H"])(e.icon),1),Object(c["k"])(" "+Object(c["H"])(e.name),1)],10,Tt))),128))]),"users"===s.currentTab?(Object(c["x"])(),Object(c["h"])("div",Rt,[Object(c["i"])("div",Ft,[Object(c["i"])("div",Vt,[t[20]||(t[20]=Object(c["i"])("span",{class:"material-symbols-rounded"},"search",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.userSearch=e),type:"text",placeholder:"Search users..."},null,512),[[c["M"],s.userSearch]])]),Object(c["i"])("button",{class:"add-button",onClick:t[1]||(t[1]=(...e)=>s.initNewUser&&s.initNewUser(...e))},t[21]||(t[21]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"person_add",-1),Object(c["k"])(" Add User ")]))]),Object(c["i"])("div",Et,[Object(c["i"])("table",Lt,[t[24]||(t[24]=Object(c["i"])("thead",null,[Object(c["i"])("tr",null,[Object(c["i"])("th",null,"Email"),Object(c["i"])("th",null,"Name"),Object(c["i"])("th",null,"Role"),Object(c["i"])("th",null,"Status"),Object(c["i"])("th",null,"Joined"),Object(c["i"])("th",null,"Actions")])],-1)),Object(c["i"])("tbody",null,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.filteredUsers,e=>(Object(c["x"])(),Object(c["h"])("tr",{key:e.id},[Object(c["i"])("td",null,Object(c["H"])(e.email),1),Object(c["i"])("td",null,Object(c["H"])(e.full_name||"-"),1),Object(c["i"])("td",null,[Object(c["i"])("span",{class:Object(c["r"])(["role-badge",e.role])},Object(c["H"])(e.role),3)]),Object(c["i"])("td",null,[Object(c["i"])("span",{class:Object(c["r"])(["status-badge",e.status])},Object(c["H"])(e.status),3)]),Object(c["i"])("td",null,Object(c["H"])(s.formatDate(e.created_at)),1),Object(c["i"])("td",Nt,[Object(c["i"])("button",{onClick:t=>s.editUser(e),class:"icon-button"},t[22]||(t[22]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"edit",-1)]),8,Bt),Object(c["i"])("button",{onClick:t=>s.confirmDeleteUser(e),class:"icon-button danger"},t[23]||(t[23]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"delete",-1)]),8,Wt)])]))),128))])])])])):Object(c["g"])("",!0),"news"===s.currentTab?(Object(c["x"])(),Object(c["h"])("div",$t,[Object(c["l"])(r)])):Object(c["g"])("",!0),"cards"===s.currentTab?(Object(c["x"])(),Object(c["h"])("div",zt,[Object(c["l"])(n)])):Object(c["g"])("",!0),"reports"===s.currentTab?(Object(c["x"])(),Object(c["h"])("div",Qt,[Object(c["l"])(o)])):Object(c["g"])("",!0),"settings"===s.currentTab?(Object(c["x"])(),Object(c["h"])("div",Jt,[Object(c["l"])(d)])):Object(c["g"])("",!0),"store"===s.currentTab?(Object(c["x"])(),Object(c["h"])("div",Kt,[Object(c["l"])(u)])):Object(c["g"])("",!0),"orders"===s.currentTab?(Object(c["x"])(),Object(c["h"])("div",Gt,[Object(c["l"])(b)])):Object(c["g"])("",!0),s.showEditModal?(Object(c["x"])(),Object(c["f"])(O,{key:7,onClose:s.closeEditModal},{header:Object(c["O"])(()=>[Object(c["i"])("h2",null,Object(c["H"])(s.editingUser&&s.editingUser.id?"Edit User":"Add User"),1)]),default:Object(c["O"])(()=>[Object(c["i"])("form",{onSubmit:t[9]||(t[9]=Object(c["R"])((...e)=>s.saveUser&&s.saveUser(...e),["prevent"])),class:"edit-form"},[Object(c["i"])("div",Xt,[s.editingUser&&s.editingUser.id?Object(c["g"])("",!0):(Object(c["x"])(),Object(c["h"])("div",Zt,[t[25]||(t[25]=Object(c["i"])("label",null,"Email *",-1)),Object(c["i"])("div",Yt,[Object(c["P"])(Object(c["i"])("input",{type:"email","onUpdate:modelValue":t[2]||(t[2]=e=>s.userForm.email=e),required:"",placeholder:"user@example.com"},null,512),[[c["M"],s.userForm.email]])])])),s.editingUser&&s.editingUser.id?Object(c["g"])("",!0):(Object(c["x"])(),Object(c["h"])("div",ea,[t[26]||(t[26]=Object(c["i"])("label",null,"Password *",-1)),Object(c["i"])("div",ta,[Object(c["P"])(Object(c["i"])("input",{type:"password","onUpdate:modelValue":t[3]||(t[3]=e=>s.userForm.password=e),required:"",placeholder:"Enter password",minlength:"6"},null,512),[[c["M"],s.userForm.password]])])])),Object(c["i"])("div",aa,[t[27]||(t[27]=Object(c["i"])("label",null,"First Name",-1)),Object(c["i"])("div",ca,[Object(c["P"])(Object(c["i"])("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>s.userForm.first_name=e),placeholder:"Enter first name"},null,512),[[c["M"],s.userForm.first_name]])])]),Object(c["i"])("div",sa,[t[28]||(t[28]=Object(c["i"])("label",null,"Last Name",-1)),Object(c["i"])("div",ia,[Object(c["P"])(Object(c["i"])("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>s.userForm.last_name=e),placeholder:"Enter last name"},null,512),[[c["M"],s.userForm.last_name]])])]),Object(c["i"])("div",la,[t[31]||(t[31]=Object(c["i"])("label",null,"Role",-1)),Object(c["i"])("div",ra,[Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>s.userForm.role=e)},t[29]||(t[29]=[Object(c["i"])("option",{value:"user"},"Regular User",-1),Object(c["i"])("option",{value:"admin"},"Administrator",-1)]),512),[[c["L"],s.userForm.role]]),t[30]||(t[30]=Object(c["i"])("span",{class:"material-symbols-rounded"},"expand_more",-1))])]),Object(c["i"])("div",na,[t[34]||(t[34]=Object(c["i"])("label",null,"Status",-1)),Object(c["i"])("div",oa,[Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>s.userForm.status=e)},t[32]||(t[32]=[Object(c["i"])("option",{value:"active"},"Active",-1),Object(c["i"])("option",{value:"suspended"},"Suspended",-1)]),512),[[c["L"],s.userForm.status]]),t[33]||(t[33]=Object(c["i"])("span",{class:"material-symbols-rounded"},"expand_more",-1))])])]),s.formError?(Object(c["x"])(),Object(c["h"])("div",da,Object(c["H"])(s.formError),1)):Object(c["g"])("",!0),Object(c["i"])("div",ua,[Object(c["i"])("button",{type:"button",class:"cancel-button",onClick:t[8]||(t[8]=(...e)=>s.closeEditModal&&s.closeEditModal(...e))}," Cancel "),Object(c["i"])("button",{type:"submit",class:"save-button",disabled:s.isSubmitting},Object(c["H"])(s.isSubmitting?"Saving...":"Save Changes"),9,ba)])],32)]),_:1},8,["onClose"])):Object(c["g"])("",!0),s.showDeleteModal?(Object(c["x"])(),Object(c["f"])(O,{key:8,onClose:t[12]||(t[12]=e=>s.showDeleteModal=!1)},{header:Object(c["O"])(()=>t[35]||(t[35]=[Object(c["i"])("h2",null,"Confirm Delete",-1)])),default:Object(c["O"])(()=>[t[36]||(t[36]=Object(c["i"])("p",null,"Are you sure you want to delete this user?",-1)),Object(c["i"])("div",Oa,[Object(c["i"])("button",{onClick:t[10]||(t[10]=e=>s.showDeleteModal=!1)},"Cancel"),Object(c["i"])("button",{onClick:t[11]||(t[11]=(...e)=>s.deleteUser&&s.deleteUser(...e)),class:"danger"},"Delete")])]),_:1})):Object(c["g"])("",!0)])}const pa={class:"modal-header"},ma={class:"modal-body"};function va(e,t,a,s,i,l){return Object(c["x"])(),Object(c["f"])(c["b"],{name:"modal"},{default:Object(c["O"])(()=>[a.show?(Object(c["x"])(),Object(c["h"])("div",{key:0,class:"modal-backdrop",onClick:t[2]||(t[2]=t=>e.$emit("close"))},[Object(c["i"])("div",{class:"modal-content",onClick:t[1]||(t[1]=Object(c["R"])(()=>{},["stop"]))},[Object(c["C"])(e.$slots,"header",{},()=>[Object(c["i"])("div",pa,[Object(c["C"])(e.$slots,"header-content",{},void 0,!0),Object(c["i"])("button",{class:"close-button",onClick:t[0]||(t[0]=t=>e.$emit("close"))},t[3]||(t[3]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1)]))])],!0),Object(c["i"])("div",ma,[Object(c["C"])(e.$slots,"default",{},void 0,!0)])])])):Object(c["g"])("",!0)]),_:3})}var ha={name:"Modal",props:{show:{type:Boolean,default:!0}},emits:["close"]};a("b863");const ga=U()(ha,[["render",va],["__scopeId","data-v-2cb97ade"]]);var fa=ga;const ya={class:"news-manager"},ka={class:"panel-header"},wa={class:"articles-list"},Ca={class:"article-content"},Sa={class:"article-date"},_a={class:"article-tags"},xa={class:"article-actions"},Aa=["onClick"],Pa=["onClick"],Ma={class:"form-group"},Ha={class:"form-group"},Ia={class:"form-group"},Da={class:"form-group"},Ua={class:"tags-preview"},Ta=["onClick"],qa={class:"form-actions"};function Ra(e,t,a,s,i,l){const r=Object(c["D"])("Modal");return Object(c["x"])(),Object(c["h"])("div",ya,[Object(c["i"])("div",ka,[t[9]||(t[9]=Object(c["i"])("h2",null,"News Articles",-1)),Object(c["i"])("button",{class:"add-button",onClick:t[0]||(t[0]=(...e)=>s.showAddModal&&s.showAddModal(...e))},t[8]||(t[8]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"post_add",-1),Object(c["k"])(" Create Article ")]))]),Object(c["i"])("div",wa,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.articles,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:"article-card"},[Object(c["i"])("div",Ca,[Object(c["i"])("span",Sa,Object(c["H"])(s.formatDate(e.created_at)),1),Object(c["i"])("h3",null,Object(c["H"])(e.title),1),Object(c["i"])("p",null,Object(c["H"])(e.excerpt),1),Object(c["i"])("div",_a,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(e.tags,e=>(Object(c["x"])(),Object(c["h"])("span",{key:e,class:"tag"},Object(c["H"])(e),1))),128))])]),Object(c["i"])("div",xa,[Object(c["i"])("button",{onClick:t=>s.editArticle(e),class:"icon-button"},t[10]||(t[10]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"edit",-1)]),8,Aa),Object(c["i"])("button",{onClick:t=>s.deleteArticle(e.id),class:"icon-button danger"},t[11]||(t[11]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"delete",-1)]),8,Pa)])]))),128))]),s.showModal?(Object(c["x"])(),Object(c["f"])(r,{key:0,onClose:s.closeModal},{header:Object(c["O"])(()=>[Object(c["i"])("h2",null,Object(c["H"])(s.editingArticle?"Edit Article":"Create Article"),1)]),default:Object(c["O"])(()=>[Object(c["i"])("form",{onSubmit:t[7]||(t[7]=Object(c["R"])((...e)=>s.saveArticle&&s.saveArticle(...e),["prevent"])),class:"article-form"},[Object(c["i"])("div",Ma,[t[12]||(t[12]=Object(c["i"])("label",null,"Title *",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.articleForm.title=e),required:"",type:"text"},null,512),[[c["M"],s.articleForm.title]])]),Object(c["i"])("div",Ha,[t[13]||(t[13]=Object(c["i"])("label",null,"Excerpt *",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>s.articleForm.excerpt=e),required:"",type:"text"},null,512),[[c["M"],s.articleForm.excerpt]])]),Object(c["i"])("div",Ia,[t[14]||(t[14]=Object(c["i"])("label",null,"Content *",-1)),Object(c["P"])(Object(c["i"])("textarea",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.articleForm.content=e),required:"",rows:"6"},null,512),[[c["M"],s.articleForm.content]])]),Object(c["i"])("div",Da,[t[15]||(t[15]=Object(c["i"])("label",null,"Tags",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>s.tagInput=e),onKeydown:t[5]||(t[5]=Object(c["Q"])(Object(c["R"])((...e)=>s.addTag&&s.addTag(...e),["prevent"]),["enter"])),placeholder:"Press enter to add tag"},null,544),[[c["M"],s.tagInput]]),Object(c["i"])("div",Ua,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.articleForm.tags,e=>(Object(c["x"])(),Object(c["h"])("span",{key:e,class:"tag",onClick:t=>s.removeTag(e)},Object(c["H"])(e)+" Ã— ",9,Ta))),128))])]),Object(c["i"])("div",qa,[Object(c["i"])("button",{type:"button",onClick:t[6]||(t[6]=(...e)=>s.closeModal&&s.closeModal(...e))},"Cancel"),t[16]||(t[16]=Object(c["i"])("button",{type:"submit",class:"primary"},"Save Article",-1))])],32)]),_:1},8,["onClose"])):Object(c["g"])("",!0)])}var Fa={name:"NewsManager",components:{Modal:fa},setup(){const e=Object(c["A"])([]),t=Object(c["A"])(!1),a=Object(c["A"])(null),s=Object(c["A"])(""),i=Object(c["A"])({title:"",excerpt:"",content:"",tags:[]}),l=()=>{i.value={title:"",excerpt:"",content:"",tags:[]},a.value=null,s.value=""},r=async()=>{const{data:t,error:a}=await H["a"].from("news_articles").select("*").order("created_at",{ascending:!1});a||(e.value=t)},n=()=>{l(),t.value=!0},o=e=>{a.value=e,i.value={...e},t.value=!0},d=async()=>{const e={...i.value,updated_at:new Date};a.value?await H["a"].from("news_articles").update(e).eq("id",a.value.id):await H["a"].from("news_articles").insert([e]),await r(),j()},u=async e=>{confirm("Are you sure you want to delete this article?")&&(await H["a"].from("news_articles").delete().eq("id",e),await r())},b=()=>{const e=s.value.trim();e&&!i.value.tags.includes(e)&&i.value.tags.push(e),s.value=""},O=e=>{i.value.tags=i.value.tags.filter(t=>t!==e)},j=()=>{t.value=!1,l()};return Object(c["v"])(r),{articles:e,showModal:t,editingArticle:a,articleForm:i,tagInput:s,showAddModal:n,editArticle:o,saveArticle:d,deleteArticle:u,addTag:b,removeTag:O,closeModal:j,formatDate:e=>new Date(e).toLocaleDateString()}}};a("5e33");const Va=U()(Fa,[["render",Ra],["__scopeId","data-v-075acf4a"]]);var Ea=Va;const La={class:"cards-manager"},Na={class:"panel-header"},Ba={class:"actions"},Wa={class:"panel-content"},$a={class:"cards-stats"},za={class:"stat-item"},Qa={class:"stat-item"},Ja={class:"cards-grid"},Ka=["src","alt"],Ga={class:"card-info"},Xa={class:"card-actions"},Za=["onClick"],Ya=["onClick"];function ec(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",La,[Object(c["i"])("div",Na,[Object(c["i"])("div",Ba,[Object(c["i"])("button",{class:"action-button",onClick:t[0]||(t[0]=(...t)=>e.syncCards&&e.syncCards(...t))},t[2]||(t[2]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"sync",-1),Object(c["k"])(" Sync with API ")])),Object(c["i"])("button",{class:"action-button",onClick:t[1]||(t[1]=(...t)=>e.importCards&&e.importCards(...t))},t[3]||(t[3]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"upload_file",-1),Object(c["k"])(" Import Cards ")]))])]),Object(c["i"])("div",Wa,[Object(c["i"])("div",$a,[Object(c["i"])("div",za,[t[4]||(t[4]=Object(c["i"])("h4",null,"Total Cards",-1)),Object(c["i"])("p",null,Object(c["H"])(s.stats.total),1)]),Object(c["i"])("div",Qa,[t[5]||(t[5]=Object(c["i"])("h4",null,"Last Synced",-1)),Object(c["i"])("p",null,Object(c["H"])(s.stats.lastSync?s.formatDate(s.stats.lastSync):"Never"),1)])]),Object(c["i"])("div",Ja,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.cards,a=>(Object(c["x"])(),Object(c["h"])("div",{key:a.id,class:"card-item"},[Object(c["i"])("img",{src:a.imageUrl,alt:a.name},null,8,Ka),Object(c["i"])("div",Ga,[Object(c["i"])("h3",null,Object(c["H"])(a.name),1),Object(c["i"])("p",null,"$"+Object(c["H"])(a.price),1),Object(c["i"])("div",Xa,[Object(c["i"])("button",{onClick:t=>e.editCard(a)},t[6]||(t[6]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"edit",-1)]),8,Za),Object(c["i"])("button",{onClick:t=>e.deleteCard(a.id),class:"danger"},t[7]||(t[7]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"delete",-1)]),8,Ya)])])]))),128))])])])}var tc={name:"CardsManager",setup(){const e=Object(c["A"])([]),t=Object(c["A"])({total:0,lastSync:null});async function a(){const{data:a,error:c}=await H["a"].from("cards").select("*").order("name");c||(e.value=a,t.value.total=a.length)}return Object(c["v"])(a),{cards:e,stats:t,formatDate:e=>new Date(e).toLocaleDateString()}}};a("0e58");const ac=U()(tc,[["render",ec],["__scopeId","data-v-1bee8475"]]);var cc=ac;const sc={class:"reports-manager"},ic={class:"reports-grid"},lc={class:"report-card"},rc={class:"stat-list"},nc={class:"stat-item"},oc={class:"stat-value"},dc={class:"stat-item"},uc={class:"stat-value"},bc={class:"report-card"},Oc={class:"stat-list"},jc={class:"stat-item"},pc={class:"stat-value"},mc={class:"stat-item"},vc={class:"stat-value"},hc={class:"report-card highlight"},gc={class:"ranking-list"},fc={class:"rank-info"},yc=["src","alt"],kc={class:"report-card"},wc={class:"activity-list"},Cc={class:"activity-content"},Sc={class:"activity-time"};function _c(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",sc,[Object(c["i"])("div",ic,[Object(c["i"])("div",lc,[t[4]||(t[4]=Object(c["i"])("h3",null,"User Analytics",-1)),Object(c["i"])("div",rc,[Object(c["i"])("div",nc,[t[0]||(t[0]=Object(c["i"])("span",{class:"stat-label"},"Active Users",-1)),Object(c["i"])("span",oc,Object(c["H"])(s.stats.activeUsers),1),t[1]||(t[1]=Object(c["i"])("span",{class:"stat-trend up"},"+12.5%",-1))]),Object(c["i"])("div",dc,[t[2]||(t[2]=Object(c["i"])("span",{class:"stat-label"},"Average Collection Size",-1)),Object(c["i"])("span",uc,Object(c["H"])(s.stats.avgCollectionSize),1),t[3]||(t[3]=Object(c["i"])("span",{class:"stat-trend up"},"+5.2%",-1))])])]),Object(c["i"])("div",bc,[t[8]||(t[8]=Object(c["i"])("h3",null,"Market Overview",-1)),Object(c["i"])("div",Oc,[Object(c["i"])("div",jc,[t[5]||(t[5]=Object(c["i"])("span",{class:"stat-label"},"Total Market Value",-1)),Object(c["i"])("span",pc,"$"+Object(c["H"])(s.formatNumber(s.stats.totalMarketValue)),1)]),Object(c["i"])("div",mc,[t[6]||(t[6]=Object(c["i"])("span",{class:"stat-label"},"Average Card Price",-1)),Object(c["i"])("span",vc,"$"+Object(c["H"])(s.stats.avgCardPrice),1),t[7]||(t[7]=Object(c["i"])("span",{class:"stat-trend down"},"-2.1%",-1))])])]),Object(c["i"])("div",hc,[t[9]||(t[9]=Object(c["i"])("h3",null,"Most Popular Cards",-1)),Object(c["i"])("ol",gc,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.popularCards,e=>(Object(c["x"])(),Object(c["h"])("li",{key:e.id},[Object(c["i"])("div",fc,[Object(c["i"])("img",{src:e.imageUrl,alt:e.name},null,8,yc),Object(c["i"])("div",null,[Object(c["i"])("h4",null,Object(c["H"])(e.name),1),Object(c["i"])("p",null,Object(c["H"])(e.count)+" collections",1)])]),Object(c["i"])("span",{class:Object(c["r"])(["trend",e.trend])},Object(c["H"])(e.change)+"%",3)]))),128))])]),Object(c["i"])("div",kc,[t[10]||(t[10]=Object(c["i"])("h3",null,"Recent Activity",-1)),Object(c["i"])("div",wc,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.recentActivity,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:"activity-item"},[Object(c["i"])("span",{class:"material-symbols-rounded",style:Object(c["s"])({color:e.color})},Object(c["H"])(e.icon),5),Object(c["i"])("div",Cc,[Object(c["i"])("p",null,Object(c["H"])(e.description),1),Object(c["i"])("span",Sc,Object(c["H"])(e.time),1)])]))),128))])])])])}var xc={name:"ReportsManager",setup(){const e=Object(c["A"])({activeUsers:1234,avgCollectionSize:156,totalMarketValue:25e5,avgCardPrice:45.99}),t=Object(c["A"])([{id:1,name:"Charizard VMAX",imageUrl:"/path/to/image",count:1560,trend:"up",change:"+15.2"}]),a=Object(c["A"])([{id:1,icon:"add_circle",color:"var(--system-green)",description:"New user registered",time:"5 minutes ago"}]),s=e=>(new Intl.NumberFormat).format(e);async function i(){}return Object(c["v"])(i),{stats:e,popularCards:t,recentActivity:a,formatNumber:s}}};a("c395");const Ac=U()(xc,[["render",_c],["__scopeId","data-v-df595634"]]);var Pc=Ac;const Mc={class:"settings-manager"},Hc={class:"settings-grid"},Ic={class:"settings-card"},Dc={class:"settings-section"},Uc={class:"setting-item"},Tc={class:"switch"},qc={class:"setting-item"},Rc={class:"switch"},Fc={class:"setting-item"},Vc={class:"switch"},Ec={class:"settings-card"},Lc={class:"settings-section"},Nc={class:"setting-field"},Bc={class:"input-group"},Wc=["type"],$c={class:"material-symbols-rounded"},zc={class:"setting-field"},Qc={class:"setting-field"},Jc={class:"settings-card"},Kc={class:"settings-section"},Gc={class:"setting-field"},Xc={class:"settings-actions"},Zc=["disabled"];function Yc(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",Mc,[Object(c["i"])("div",Hc,[Object(c["i"])("div",Ic,[t[17]||(t[17]=Object(c["i"])("h3",null,"General Settings",-1)),Object(c["i"])("div",Dc,[Object(c["i"])("div",Uc,[t[12]||(t[12]=Object(c["i"])("div",{class:"setting-content"},[Object(c["i"])("h4",null,"Maintenance Mode"),Object(c["i"])("p",null,"Block access to the application")],-1)),Object(c["i"])("label",Tc,[Object(c["P"])(Object(c["i"])("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>s.settings.maintenanceMode=e)},null,512),[[c["J"],s.settings.maintenanceMode]]),t[11]||(t[11]=Object(c["i"])("span",{class:"slider"},null,-1))])]),Object(c["i"])("div",qc,[t[14]||(t[14]=Object(c["i"])("div",{class:"setting-content"},[Object(c["i"])("h4",null,"User Registration"),Object(c["i"])("p",null,"Allow new users to register")],-1)),Object(c["i"])("label",Rc,[Object(c["P"])(Object(c["i"])("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=e=>s.settings.allowRegistration=e)},null,512),[[c["J"],s.settings.allowRegistration]]),t[13]||(t[13]=Object(c["i"])("span",{class:"slider"},null,-1))])]),Object(c["i"])("div",Fc,[t[16]||(t[16]=Object(c["i"])("div",{class:"setting-content"},[Object(c["i"])("h4",null,"Email Notifications"),Object(c["i"])("p",null,"Send emails for important updates")],-1)),Object(c["i"])("label",Vc,[Object(c["P"])(Object(c["i"])("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=e=>s.settings.emailNotifications=e)},null,512),[[c["J"],s.settings.emailNotifications]]),t[15]||(t[15]=Object(c["i"])("span",{class:"slider"},null,-1))])])])]),Object(c["i"])("div",Ec,[t[22]||(t[22]=Object(c["i"])("h3",null,"API Configuration",-1)),Object(c["i"])("div",Lc,[Object(c["i"])("div",Nc,[t[18]||(t[18]=Object(c["i"])("label",null,"API Key",-1)),Object(c["i"])("div",Bc,[Object(c["P"])(Object(c["i"])("input",{type:s.showApiKey?"text":"password","onUpdate:modelValue":t[3]||(t[3]=e=>s.settings.apiKey=e)},null,8,Wc),[[c["K"],s.settings.apiKey]]),Object(c["i"])("button",{onClick:t[4]||(t[4]=e=>s.showApiKey=!s.showApiKey),class:"icon-button"},[Object(c["i"])("span",$c,Object(c["H"])(s.showApiKey?"visibility_off":"visibility"),1)])])]),Object(c["i"])("div",zc,[t[19]||(t[19]=Object(c["i"])("label",null,"Rate Limit (requests/minute)",-1)),Object(c["P"])(Object(c["i"])("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=e=>s.settings.rateLimit=e),min:"1",max:"1000"},null,512),[[c["M"],s.settings.rateLimit]])]),Object(c["i"])("div",Qc,[t[21]||(t[21]=Object(c["i"])("label",null,"API Version",-1)),Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>s.settings.apiVersion=e)},t[20]||(t[20]=[Object(c["i"])("option",{value:"v1"},"Version 1.0",-1),Object(c["i"])("option",{value:"v2"},"Version 2.0",-1)]),512),[[c["L"],s.settings.apiVersion]])])])]),Object(c["i"])("div",Jc,[t[25]||(t[25]=Object(c["i"])("h3",null,"Cache Settings",-1)),Object(c["i"])("div",Kc,[Object(c["i"])("div",Gc,[t[23]||(t[23]=Object(c["i"])("label",null,"Cache Duration (minutes)",-1)),Object(c["P"])(Object(c["i"])("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=e=>s.settings.cacheDuration=e),min:"5",max:"1440"},null,512),[[c["M"],s.settings.cacheDuration]])]),Object(c["i"])("button",{onClick:t[8]||(t[8]=(...e)=>s.clearCache&&s.clearCache(...e)),class:"action-button"},t[24]||(t[24]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"delete",-1),Object(c["k"])(" Clear Cache ")]))])])]),Object(c["i"])("div",Xc,[Object(c["i"])("button",{class:"secondary",onClick:t[9]||(t[9]=(...e)=>s.resetSettings&&s.resetSettings(...e))},"Reset to Defaults"),Object(c["i"])("button",{class:"primary",onClick:t[10]||(t[10]=(...e)=>s.saveSettings&&s.saveSettings(...e)),disabled:s.isSaving},Object(c["H"])(s.isSaving?"Saving...":"Save Changes"),9,Zc)])])}var es={name:"SettingsManager",setup(){const e=Object(c["A"])({maintenanceMode:!1,allowRegistration:!0,emailNotifications:!1,apiKey:"",rateLimit:100,apiVersion:"v1",cacheDuration:60}),t=Object(c["A"])(!1),a=Object(c["A"])(!1);async function s(){const{data:t}=await H["a"].from("app_settings").select("*").single();t&&(e.value={...e.value,...t})}async function i(){a.value=!0,await H["a"].from("app_settings").upsert(e.value),a.value=!1}async function l(){}function r(){e.value={maintenanceMode:!1,allowRegistration:!0,emailNotifications:!1,apiKey:"",rateLimit:100,apiVersion:"v1",cacheDuration:60}}return Object(c["v"])(s),{settings:e,showApiKey:t,isSaving:a,saveSettings:i,clearCache:l,resetSettings:r}}};a("5121");const ts=U()(es,[["render",Yc],["__scopeId","data-v-573dd3cd"]]);var as=ts;const cs={class:"store-manager"},ss={class:"stats-grid"},is={class:"stat-card"},ls={class:"stat-value"},rs={key:0,class:"stat-trend up"},ns={class:"stat-card"},os={class:"stat-value"},ds={key:0,class:"stat-card warning"},us={class:"stat-value"},bs={class:"stat-action"},Os={class:"actions-bar"},js={class:"search-box"},ps={class:"action-buttons"},ms={key:0,class:"bulk-actions-bar"},vs={class:"selection-info"},hs={class:"bulk-actions"},gs={class:"products-table"},fs=["checked"],ys=["value"],ks={class:"product-cell"},ws=["src","alt"],Cs={class:"product-info"},Ss={key:0},_s={class:"actions-cell"},xs=["onClick"],As=["onClick"],Ps=["onClick"],Ms={class:"material-symbols-rounded"},Hs={class:"delete-confirmation"},Is={key:0},Ds={key:1},Us={class:"modal-actions"};function Ts(e,t,a,s,i,l){const r=Object(c["D"])("ProductForm"),n=Object(c["D"])("Modal"),o=Object(c["D"])("StockAdjustmentForm");return Object(c["x"])(),Object(c["h"])("div",cs,[Object(c["i"])("div",ss,[Object(c["i"])("div",is,[t[10]||(t[10]=Object(c["i"])("h3",null,"Total Products",-1)),Object(c["i"])("p",ls,Object(c["H"])(s.stats.totalProducts),1),s.stats.productTrend>0?(Object(c["x"])(),Object(c["h"])("div",rs," +"+Object(c["H"])(s.stats.productTrend)+"% from last month ",1)):Object(c["g"])("",!0)]),Object(c["i"])("div",ns,[t[11]||(t[11]=Object(c["i"])("h3",null,"Total Sales",-1)),Object(c["i"])("p",os,"$"+Object(c["H"])(s.stats.totalSales),1),Object(c["i"])("div",{class:Object(c["r"])(["stat-trend",s.stats.salesTrend>0?"up":"down"])},Object(c["H"])(s.stats.salesTrend>0?"+":"")+Object(c["H"])(s.stats.salesTrend)+"% from last month ",3)]),s.stats.lowStock>0?(Object(c["x"])(),Object(c["h"])("div",ds,[t[12]||(t[12]=Object(c["i"])("h3",null,"Low Stock Items",-1)),Object(c["i"])("p",us,Object(c["H"])(s.stats.lowStock),1),Object(c["i"])("div",bs,[Object(c["i"])("button",{onClick:t[0]||(t[0]=(...t)=>e.showLowStock&&e.showLowStock(...t))},"View Items")])])):Object(c["g"])("",!0)]),Object(c["i"])("div",Os,[Object(c["i"])("div",js,[t[13]||(t[13]=Object(c["i"])("span",{class:"material-symbols-rounded"},"search",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.search=e),type:"text",placeholder:"Search products..."},null,512),[[c["M"],s.search]])]),Object(c["i"])("div",ps,[Object(c["i"])("button",{class:"secondary",onClick:t[2]||(t[2]=(...e)=>s.syncWithApi&&s.syncWithApi(...e))},t[14]||(t[14]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"sync",-1),Object(c["k"])(" Sync with API ")])),Object(c["i"])("button",{class:"primary",onClick:t[3]||(t[3]=e=>s.showAddProduct=!0)},t[15]||(t[15]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"add",-1),Object(c["k"])(" Add Product ")]))])]),s.selectedProducts.length>0?(Object(c["x"])(),Object(c["h"])("div",ms,[Object(c["i"])("div",vs,Object(c["H"])(s.selectedProducts.length)+" items selected ",1),Object(c["i"])("div",hs,[Object(c["i"])("button",{class:"danger",onClick:t[4]||(t[4]=(...e)=>s.confirmDeleteSelected&&s.confirmDeleteSelected(...e))},t[16]||(t[16]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"delete",-1),Object(c["k"])(" Delete Selected ")]))])])):Object(c["g"])("",!0),Object(c["i"])("div",gs,[Object(c["i"])("table",null,[Object(c["i"])("thead",null,[Object(c["i"])("tr",null,[Object(c["i"])("th",null,[Object(c["i"])("input",{type:"checkbox",checked:s.isAllSelected,onChange:t[5]||(t[5]=(...e)=>s.toggleSelectAll&&s.toggleSelectAll(...e))},null,40,fs)]),t[17]||(t[17]=Object(c["i"])("th",null,"Product",-1)),t[18]||(t[18]=Object(c["i"])("th",null,"Type",-1)),t[19]||(t[19]=Object(c["i"])("th",null,"CMP",-1)),t[20]||(t[20]=Object(c["i"])("th",null,"CSP",-1)),t[21]||(t[21]=Object(c["i"])("th",null,"Stock",-1)),t[22]||(t[22]=Object(c["i"])("th",null,"Status",-1)),t[23]||(t[23]=Object(c["i"])("th",null,"Actions",-1))])]),Object(c["i"])("tbody",null,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.filteredProducts,e=>(Object(c["x"])(),Object(c["h"])("tr",{key:e.id},[Object(c["i"])("td",null,[Object(c["P"])(Object(c["i"])("input",{type:"checkbox",value:e.id,"onUpdate:modelValue":t[6]||(t[6]=e=>s.selectedProducts=e)},null,8,ys),[[c["J"],s.selectedProducts]])]),Object(c["i"])("td",ks,[Object(c["i"])("img",{src:e.image_url,alt:e.name},null,8,ws),Object(c["i"])("div",Cs,[Object(c["i"])("h4",null,Object(c["H"])(e.name),1),e.metadata&&e.metadata.set?(Object(c["x"])(),Object(c["h"])("p",Ss,Object(c["H"])(e.metadata.set.name),1)):Object(c["g"])("",!0)])]),Object(c["i"])("td",null,Object(c["H"])(e.type),1),Object(c["i"])("td",null,"$"+Object(c["H"])(s.getMarketPrice(e)),1),Object(c["i"])("td",null,"$"+Object(c["H"])(e.price),1),Object(c["i"])("td",{class:Object(c["r"])({"low-stock":e.stock<5})},Object(c["H"])(e.stock),3),Object(c["i"])("td",null,[Object(c["i"])("span",{class:Object(c["r"])(["status-badge",e.active?"active":"inactive"])},Object(c["H"])(e.active?"Active":"Inactive"),3)]),Object(c["i"])("td",_s,[Object(c["i"])("button",{class:"icon-button",onClick:t=>s.editProduct(e)},t[24]||(t[24]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"edit",-1)]),8,xs),Object(c["i"])("button",{class:"icon-button",onClick:t=>s.adjustStock(e)},t[25]||(t[25]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"inventory",-1)]),8,As),Object(c["i"])("button",{class:"icon-button",onClick:t=>s.toggleProductStatus(e)},[Object(c["i"])("span",Ms,Object(c["H"])(e.active?"visibility":"visibility_off"),1)],8,Ps)])]))),128))])])]),s.showAddProduct?(Object(c["x"])(),Object(c["f"])(n,{key:1,onClose:s.closeAddModal},{header:Object(c["O"])(()=>[Object(c["i"])("h2",null,Object(c["H"])(s.editingProduct?"Edit Product":"Add Product"),1)]),default:Object(c["O"])(()=>[Object(c["l"])(r,{product:s.editingProduct,onSave:s.saveProduct,onCancel:s.closeAddModal},null,8,["product","onSave","onCancel"])]),_:1},8,["onClose"])):Object(c["g"])("",!0),s.showStockModal?(Object(c["x"])(),Object(c["f"])(n,{key:2,onClose:s.closeStockModal},{header:Object(c["O"])(()=>t[26]||(t[26]=[Object(c["i"])("h2",null,"Adjust Stock",-1)])),default:Object(c["O"])(()=>[Object(c["l"])(o,{product:s.selectedProduct,onSave:s.updateStock,onCancel:s.closeStockModal},null,8,["product","onSave","onCancel"])]),_:1},8,["onClose"])):Object(c["g"])("",!0),s.showDeleteModal?(Object(c["x"])(),Object(c["f"])(n,{key:3,onClose:t[9]||(t[9]=e=>s.showDeleteModal=!1)},{header:Object(c["O"])(()=>t[27]||(t[27]=[Object(c["i"])("h2",null,"Confirm Delete",-1)])),default:Object(c["O"])(()=>[Object(c["i"])("div",Hs,[s.selectedProducts.length===s.filteredProducts.length?(Object(c["x"])(),Object(c["h"])("p",Is," Are you sure you want to delete all products? ")):(Object(c["x"])(),Object(c["h"])("p",Ds," Are you sure you want to delete "+Object(c["H"])(s.selectedProducts.length)+" selected products? ",1)),t[28]||(t[28]=Object(c["i"])("div",{class:"warning"},[Object(c["i"])("span",{class:"material-symbols-rounded"},"warning"),Object(c["k"])(" This action cannot be undone. ")],-1)),Object(c["i"])("div",Us,[Object(c["i"])("button",{class:"secondary",onClick:t[7]||(t[7]=e=>s.showDeleteModal=!1)}," Cancel "),Object(c["i"])("button",{class:"danger",onClick:t[8]||(t[8]=(...e)=>s.deleteSelected&&s.deleteSelected(...e))}," Delete ")])])]),_:1})):Object(c["g"])("",!0)])}const qs={class:"product-form-container"},Rs={key:0,class:"mode-selection"},Fs={key:1,class:"search-mode"},Vs={class:"search-container"},Es={class:"search-box"},Ls=["disabled"],Ns={key:0,class:"search-loading"},Bs={key:1,class:"search-error"},Ws={key:2,class:"no-results"},$s={key:3,class:"search-results"},zs=["onClick"],Qs={class:"card-image"},Js=["src","alt"],Ks={class:"card-info"},Gs={class:"card-meta"},Xs={class:"set-name"},Zs={key:0,class:"price-info"},Ys={key:0,class:"load-more"},ei=["disabled"],ti={key:0,class:"loading-spinner small"},ai={key:1},ci={class:"form-section"},si={class:"form-group"},ii={class:"form-group"},li={class:"form-group"},ri={class:"form-group"},ni={class:"form-group"},oi={class:"form-group"},di={class:"form-group"},ui={class:"checkbox-label"},bi={class:"form-actions"},Oi={type:"submit",class:"primary"};function ji(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",qs,[s.selectedMode||a.product?"search"===s.selectedMode?(Object(c["x"])(),Object(c["h"])("div",Fs,[Object(c["i"])("button",{class:"back-button",onClick:t[2]||(t[2]=e=>s.selectedMode=null)},t[20]||(t[20]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"arrow_back",-1),Object(c["k"])(" Back to selection ")])),Object(c["i"])("div",Vs,[Object(c["i"])("div",Es,[t[22]||(t[22]=Object(c["i"])("span",{class:"material-symbols-rounded"},"search",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.searchQuery=e),type:"text",placeholder:"Search by name, set, or number...",onInput:t[4]||(t[4]=(...e)=>s.debouncedSearch&&s.debouncedSearch(...e)),ref:"searchInput",disabled:s.isSearching},null,40,Ls),[[c["M"],s.searchQuery]]),s.searchQuery?(Object(c["x"])(),Object(c["h"])("div",{key:0,class:"search-clear",onClick:t[5]||(t[5]=(...e)=>s.clearSearch&&s.clearSearch(...e))},t[21]||(t[21]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1)]))):Object(c["g"])("",!0)])]),s.isSearching?(Object(c["x"])(),Object(c["h"])("div",Ns,t[23]||(t[23]=[Object(c["i"])("div",{class:"loading-spinner"},null,-1),Object(c["i"])("p",null,"Searching cards...",-1)]))):Object(c["g"])("",!0),s.searchError?(Object(c["x"])(),Object(c["h"])("div",Bs,[t[24]||(t[24]=Object(c["i"])("span",{class:"material-symbols-rounded"},"error",-1)),t[25]||(t[25]=Object(c["i"])("h3",null,"Error searching cards",-1)),Object(c["i"])("p",null,Object(c["H"])(s.searchError),1),Object(c["i"])("button",{onClick:t[6]||(t[6]=(...e)=>s.retrySearch&&s.retrySearch(...e)),class:"retry-button"}," Try Again ")])):!s.searchQuery||s.isSearching||s.searchResults.length?s.searchResults.length?(Object(c["x"])(),Object(c["h"])("div",$s,[Object(c["l"])(c["c"],{name:"card-result"},{default:Object(c["O"])(()=>[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.searchResults,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:"card-result",onClick:t=>s.selectCard(e)},[Object(c["i"])("div",Qs,[Object(c["i"])("img",{src:e.images.small,alt:e.name,loading:"lazy"},null,8,Js),t[27]||(t[27]=Object(c["i"])("div",{class:"quick-actions"},[Object(c["i"])("button",{class:"select-button"},[Object(c["i"])("span",{class:"material-symbols-rounded"},"add"),Object(c["k"])(" Select ")])],-1))]),Object(c["i"])("div",Ks,[Object(c["i"])("h4",null,Object(c["H"])(e.name),1),Object(c["i"])("div",Gs,[Object(c["i"])("span",Xs,Object(c["H"])(e.set.name),1),Object(c["i"])("span",{class:Object(c["r"])(["rarity",s.getRarityClass(e.rarity)])},Object(c["H"])(e.rarity),3)]),s.getCardPrice(e)?(Object(c["x"])(),Object(c["h"])("div",Zs,[t[28]||(t[28]=Object(c["i"])("span",{class:"material-symbols-rounded"},"payments",-1)),Object(c["k"])(" $"+Object(c["H"])(s.getCardPrice(e)),1)])):Object(c["g"])("",!0)])],8,zs))),128))]),_:1}),s.hasMoreResults?(Object(c["x"])(),Object(c["h"])("div",Ys,[Object(c["i"])("button",{onClick:t[7]||(t[7]=(...e)=>s.loadMoreResults&&s.loadMoreResults(...e)),disabled:s.isLoadingMore,class:"load-more-button"},[s.isLoadingMore?(Object(c["x"])(),Object(c["h"])("span",ti)):(Object(c["x"])(),Object(c["h"])("span",ai,"Load More Results"))],8,ei)])):Object(c["g"])("",!0)])):Object(c["g"])("",!0):(Object(c["x"])(),Object(c["h"])("div",Ws,t[26]||(t[26]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"search_off",-1),Object(c["i"])("h3",null,"No cards found",-1),Object(c["i"])("p",null,"Try:",-1),Object(c["i"])("ul",{class:"search-tips"},[Object(c["i"])("li",null,'Using the full card name (e.g., "Pikachu V")'),Object(c["i"])("li",null,"Checking for typos"),Object(c["i"])("li",null,"Using fewer keywords"),Object(c["i"])("li",null,"Searching by set name")],-1)])))])):(Object(c["x"])(),Object(c["h"])("form",{key:2,onSubmit:t[17]||(t[17]=Object(c["R"])((...e)=>s.handleSubmit&&s.handleSubmit(...e),["prevent"])),class:"product-form"},[a.product||"manual"!==s.selectedMode?Object(c["g"])("",!0):(Object(c["x"])(),Object(c["h"])("button",{key:0,class:"back-button",onClick:t[8]||(t[8]=e=>s.selectedMode=null)},t[29]||(t[29]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"arrow_back",-1),Object(c["k"])(" Back to selection ")]))),Object(c["i"])("div",ci,[Object(c["i"])("div",si,[t[30]||(t[30]=Object(c["i"])("label",null,"Name *",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>s.form.name=e),type:"text",required:"",placeholder:"Enter product name"},null,512),[[c["M"],s.form.name]])]),Object(c["i"])("div",ii,[t[32]||(t[32]=Object(c["i"])("label",null,"Type *",-1)),Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[10]||(t[10]=e=>s.form.type=e),required:""},t[31]||(t[31]=[Object(c["i"])("option",{value:"single"},"Single Card",-1),Object(c["i"])("option",{value:"booster"},"Booster Pack",-1),Object(c["i"])("option",{value:"set"},"Card Set",-1)]),512),[[c["L"],s.form.type]])]),Object(c["i"])("div",li,[t[33]||(t[33]=Object(c["i"])("label",null,"Price ($) *",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>s.form.price=e),type:"number",step:"0.01",min:"0",required:""},null,512),[[c["M"],s.form.price,void 0,{number:!0}]])]),Object(c["i"])("div",ri,[t[34]||(t[34]=Object(c["i"])("label",null,"Stock *",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>s.form.stock=e),type:"number",min:"0",required:""},null,512),[[c["M"],s.form.stock,void 0,{number:!0}]])]),Object(c["i"])("div",ni,[t[35]||(t[35]=Object(c["i"])("label",null,"Image URL",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[13]||(t[13]=e=>s.form.image_url=e),type:"url",placeholder:"https://..."},null,512),[[c["M"],s.form.image_url]])]),Object(c["i"])("div",oi,[t[36]||(t[36]=Object(c["i"])("label",null,"Description",-1)),Object(c["P"])(Object(c["i"])("textarea",{"onUpdate:modelValue":t[14]||(t[14]=e=>s.form.description=e),rows:"3",placeholder:"Enter product description"},null,512),[[c["M"],s.form.description]])]),Object(c["i"])("div",di,[Object(c["i"])("label",ui,[Object(c["P"])(Object(c["i"])("input",{type:"checkbox","onUpdate:modelValue":t[15]||(t[15]=e=>s.form.active=e)},null,512),[[c["J"],s.form.active]]),t[37]||(t[37]=Object(c["k"])(" Active (available for purchase) "))])])]),Object(c["i"])("div",bi,[Object(c["i"])("button",{type:"button",class:"secondary",onClick:t[16]||(t[16]=t=>e.$emit("cancel"))}," Cancel "),Object(c["i"])("button",Oi,Object(c["H"])(a.product?"Update Product":"Create Product"),1)])],32)):(Object(c["x"])(),Object(c["h"])("div",Rs,[Object(c["i"])("button",{class:"mode-button",onClick:t[0]||(t[0]=e=>s.selectedMode="manual")},t[18]||(t[18]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"edit_note",-1),Object(c["i"])("h3",null,"Create Product from Scratch",-1),Object(c["i"])("p",null,"Manually enter all product details",-1)])),Object(c["i"])("button",{class:"mode-button",onClick:t[1]||(t[1]=e=>s.selectedMode="search")},t[19]||(t[19]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"search",-1),Object(c["i"])("h3",null,"Search and Add Product",-1),Object(c["i"])("p",null,"Search Pokemon TCG database to auto-fill details",-1)]))]))])}var pi=a("bc3a"),mi=a.n(pi);const vi="0c4b0264-73d6-4ada-8edf-ef3ec5db80ea",hi="https://api.pokemontcg.io/v2",gi=mi.a.create({baseURL:hi,headers:{"X-Api-Key":vi}}),fi={async searchCards({q:e,page:t=1,pageSize:a=20}){try{const c=await gi.get("/cards",{params:{q:`name:${e}*`,page:t,pageSize:a,orderBy:"name",select:"id,name,images,types,rarity,cardmarket,set,flavorText"}});if(!c.data||!c.data.data)throw new Error("Invalid API response format");return{data:c.data.data,hasMore:c.data.totalCount>t*a,total:c.data.totalCount}}catch(c){if(c.response&&401===c.response.status)throw new Error("Invalid API key. Please check your configuration.");if(c.response&&429===c.response.status)throw new Error("Rate limit exceeded. Please try again later.");throw console.error("Pokemon TCG API Error:",c),new Error("Failed to fetch cards. Please try again.")}}};var yi=a("b047"),ki=a.n(yi),wi={name:"ProductForm",props:{product:{type:Object,default:null}},emits:["save","cancel"],setup(e,{emit:t}){const a=Object(c["A"])(null),s=Object(c["A"])(""),i=Object(c["A"])([]),l=Object(c["A"])(!1),r=Object(c["A"])(!1),n=Object(c["A"])({name:"",type:"single",price:0,stock:0,image_url:"",description:"",active:!0,metadata:{},...e.product||{}}),o=Object(c["A"])(1),d=Object(c["A"])(!1),u=Object(c["A"])(!1),b=Object(c["A"])(null),O=Object(c["A"])(null),j=ki()(async()=>{o.value=1,await p()},500);async function p(){if(!s.value||s.value.length<2)i.value=[];else{l.value=!0,O.value=null;try{const e=await fi.searchCards({q:s.value,page:o.value,pageSize:20});1===o.value?i.value=e.data:i.value=[...i.value,...e.data],d.value=e.hasMore,0===i.value.length&&(O.value="No cards found matching your search.")}catch(e){console.error("Search error:",e),O.value=e.message,i.value=[]}finally{l.value=!1}}}async function m(){u.value=!0,o.value++,await p(),u.value=!1}function v(){s.value="",i.value=[],o.value=1,d.value=!1,b.value&&b.value.focus()}function h(){O.value=null,p()}function g(e){return e.cardmarket&&e.cardmarket.prices&&e.cardmarket.prices.averageSellPrice?e.cardmarket.prices.averageSellPrice.toFixed(2):null}function f(e){return e?e.toLowerCase():""}function y(e){const t=g(e)||0;console.log("Selected card:",e),console.log("Card price:",t),n.value={name:e.name,type:"single",price:parseFloat(t),stock:0,image_url:e.images.large,description:e.flavorText||"",active:!0,tcg_id:e.id,metadata:{set:e.set,rarity:e.rarity,number:e.number,artist:e.artist}},console.log("Updated form:",n.value),a.value="manual"}async function k(){if(!r.value){r.value=!0;try{const c={...n.value,price:parseFloat(n.value.price)||0,stock:parseInt(n.value.stock)||0};console.log("Submitting product data:",c),await t("save",c),e.product||(n.value={name:"",type:"single",price:0,stock:0,image_url:"",description:"",active:!0,metadata:{}},a.value=null)}catch(c){console.error("Error submitting form:",c),alert("Failed to save product: "+c.message)}finally{r.value=!1}}}return Object(c["v"])(()=>{"search"===a.value&&b.value&&b.value.focus()}),{selectedMode:a,searchQuery:s,searchResults:i,isSearching:l,form:n,isSubmitting:r,handleSubmit:k,getCardPrice:g,hasMoreResults:d,isLoadingMore:u,searchInput:b,debouncedSearch:j,loadMoreResults:m,clearSearch:v,getRarityClass:f,searchError:O,retrySearch:h,selectCard:y}}};a("9359");const Ci=U()(wi,[["render",ji],["__scopeId","data-v-d40ffdc6"]]);var Si=Ci;const _i={class:"form-section"},xi={class:"product-info"},Ai=["src","alt"],Pi={class:"form-group"},Mi={class:"adjustment-input"},Hi=["disabled"],Ii={class:"form-group"},Di={key:0,class:"form-group"},Ui={class:"form-actions"},Ti=["disabled"];function qi(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("form",{onSubmit:t[6]||(t[6]=Object(c["R"])((...e)=>s.handleSubmit&&s.handleSubmit(...e),["prevent"])),class:"stock-form"},[Object(c["i"])("div",_i,[Object(c["i"])("div",xi,[Object(c["i"])("img",{src:a.product.image_url,alt:a.product.name},null,8,Ai),Object(c["i"])("div",null,[Object(c["i"])("h3",null,Object(c["H"])(a.product.name),1),Object(c["i"])("p",null,"Current Stock: "+Object(c["H"])(a.product.stock),1)])]),Object(c["i"])("div",Pi,[t[7]||(t[7]=Object(c["i"])("label",null,"Adjustment *",-1)),Object(c["i"])("div",Mi,[Object(c["i"])("button",{type:"button",class:"adjust-button",disabled:s.form.quantity<=-a.product.stock,onClick:t[0]||(t[0]=e=>s.form.quantity--)},"-",8,Hi),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.form.quantity=e),type:"number",required:""},null,512),[[c["M"],s.form.quantity]]),Object(c["i"])("button",{type:"button",class:"adjust-button",onClick:t[2]||(t[2]=e=>s.form.quantity++)},"+")])]),Object(c["i"])("div",Ii,[t[9]||(t[9]=Object(c["i"])("label",null,"Reason *",-1)),Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.form.reason=e),required:""},t[8]||(t[8]=[Object(c["i"])("option",{value:"restock"},"Restock",-1),Object(c["i"])("option",{value:"adjustment"},"Inventory Adjustment",-1),Object(c["i"])("option",{value:"damage"},"Damaged/Lost",-1),Object(c["i"])("option",{value:"other"},"Other",-1)]),512),[[c["L"],s.form.reason]])]),"other"===s.form.reason?(Object(c["x"])(),Object(c["h"])("div",Di,[t[10]||(t[10]=Object(c["i"])("label",null,"Specify Reason",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>s.form.customReason=e),type:"text",placeholder:"Enter reason",required:""},null,512),[[c["M"],s.form.customReason]])])):Object(c["g"])("",!0)]),Object(c["i"])("div",Ui,[Object(c["i"])("button",{type:"button",class:"secondary",onClick:t[5]||(t[5]=t=>e.$emit("cancel"))}," Cancel "),Object(c["i"])("button",{type:"submit",class:"primary",disabled:s.isSubmitting},Object(c["H"])(s.isSubmitting?"Saving...":"Update Stock"),9,Ti)])],32)}var Ri={name:"StockAdjustmentForm",props:{product:{type:Object,required:!0}},emits:["save","cancel"],setup(e){const t=Object(c["A"])(!1),a=Object(c["A"])({quantity:0,reason:"restock",customReason:""});async function s(){t.value=!0;try{await this.$emit("save",{productId:e.product.id,quantity:a.value.quantity,reason:"other"===a.value.reason?a.value.customReason:a.value.reason})}finally{t.value=!1}}return{form:a,isSubmitting:t,handleSubmit:s}}};a("a3ba");const Fi=U()(Ri,[["render",qi],["__scopeId","data-v-5151e452"]]);var Vi=Fi,Ei={name:"StoreManager",components:{Modal:fa,ProductForm:Si,StockAdjustmentForm:Vi},setup(){const e=Object(c["A"])(""),t=Object(c["A"])([]),a=Object(c["A"])(!1),s=Object(c["A"])(!1),i=Object(c["A"])(null),l=Object(c["A"])(null),r=Object(c["A"])({totalProducts:0,totalSales:0,lowStock:0,productTrend:0,salesTrend:0}),n=Object(c["A"])([]),o=Object(c["A"])(!1),d=Object(c["d"])(()=>{if(console.log("Filtering products:",t.value),!e.value)return t.value||[];const a=e.value.toLowerCase();return(t.value||[]).filter(e=>{const t=e.name&&e.name.toLowerCase().includes(a),c=e.type&&e.type.toLowerCase().includes(a);return t||c})}),u=Object(c["d"])(()=>d.value.length>0&&n.value.length===d.value.length);async function b(){try{const{data:e,error:a}=await H["a"].from("products").select("\n            id,\n            name,\n            description,\n            price,\n            stock,\n            type,\n            condition,\n            tcg_id,\n            image_url,\n            admin_id,\n            active,\n            metadata,\n            created_at,\n            updated_at\n          ").order("created_at",{ascending:!1});if(a)throw console.error("Database error:",a),a;console.log("Raw products data:",e),t.value=(e||[]).map(e=>({...e,price:parseFloat(e.price)||0,stock:parseInt(e.stock)||0,active:"boolean"!==typeof e.active||e.active,metadata:e.metadata||{},condition:e.condition||"New",type:e.type||"single"})),console.log("Transformed products:",t.value),m()}catch(e){console.error("Error fetching products:",e),alert("Failed to load products. Please try again.")}}function O(){return t.value.reduce((e,t)=>e+t.price*(t.total_sold||0),0).toFixed(2)}function j(){return 0}function p(){return 0}function m(){r.value={totalProducts:t.value.length,totalSales:O(),lowStock:t.value.filter(e=>e.stock<5).length,productTrend:j(),salesTrend:p()}}async function v(){try{const{data:e}=await He["a"].getCards();if(!e)throw new Error("No data received from API");const t=e.map(e=>{const t=e.cardmarket&&e.cardmarket.prices&&e.cardmarket.prices.averageSellPrice||0;return{name:e.name,type:"single",tcg_id:e.id,price:t,stock:0,image_url:e.images.large,active:!0,metadata:{set:e.set,rarity:e.rarity,number:e.number,artist:e.artist}}}),{error:a}=await H["a"].from("products").upsert(t,{onConflict:"tcg_id",ignoreDuplicates:!1});if(a)throw a;await b()}catch(e){console.error("Error syncing with API:",e),alert("Failed to sync products with API. Please try again.")}}async function h(e){try{const t={name:e.name,description:e.description||"",price:parseFloat(e.price)||0,stock:parseInt(e.stock)||0,type:e.type||"single",condition:e.condition||"New",tcg_id:e.tcg_id||null,image_url:e.image_url||"",active:"boolean"!==typeof e.active||e.active,metadata:e.metadata||{},updated_at:(new Date).toISOString()};if(console.log("Saving product with data:",t),i.value){const{data:e,error:a}=await H["a"].from("products").update(t).eq("id",i.value.id).select();if(a)throw a;console.log("Updated product:",e)}else{const{data:e,error:a}=await H["a"].from("products").insert([{...t,created_at:(new Date).toISOString()}]).select();if(a)throw a;console.log("Created product:",e)}await b(),g()}catch(t){console.error("Error saving product:",t),alert("Failed to save product: "+t.message)}}function g(){a.value=!1,i.value=null}function f(){s.value=!1,l.value=null}async function y({productId:e,quantity:t,reason:a}){await H["a"].from("stock_movements").insert({product_id:e,quantity:t,reason:a}),await b(),f()}function k(e){console.log("Editing product:",e),i.value={...e},a.value=!0}function w(e){console.log("Adjusting stock for:",e),l.value=e,s.value=!0}async function C(e){try{const{error:t}=await H["a"].from("products").update({active:!e.active}).eq("id",e.id);if(t)throw t;await b()}catch(t){console.error("Error toggling product status:",t),alert("Failed to update product status")}}function S(e){if(!e.metadata)return"0.00";const t=e.metadata.tcg_pricing&&e.metadata.tcg_pricing.market,a=e.metadata.cardmarket&&e.metadata.cardmarket.prices&&e.metadata.cardmarket.prices.averageSellPrice,c=t||a||0;return c.toFixed(2)}function _(e){e.target.checked?n.value=d.value.map(e=>e.id):n.value=[]}function x(){o.value=!0}async function A(){try{const{error:e}=await H["a"].from("products").delete().in("id",n.value);if(e)throw e;await b(),n.value=[],o.value=!1}catch(e){console.error("Error deleting products:",e),alert("Failed to delete products: "+e.message)}}return Object(c["v"])(()=>{console.log("StoreManager mounted"),b()}),b(),{search:e,filteredProducts:d,products:t,stats:r,showAddProduct:a,showStockModal:s,editingProduct:i,selectedProduct:l,syncWithApi:v,saveProduct:h,closeAddModal:g,closeStockModal:f,updateStock:y,calculateTotalSales:O,calculateProductTrend:j,calculateSalesTrend:p,editProduct:k,adjustStock:w,toggleProductStatus:C,getMarketPrice:S,selectedProducts:n,isAllSelected:u,showDeleteModal:o,toggleSelectAll:_,confirmDeleteSelected:x,deleteSelected:A}}};a("c63d");const Li=U()(Ei,[["render",Ts],["__scopeId","data-v-4fe5c552"]]);var Ni=Li;const Bi={class:"orders-panel"},Wi={class:"panel-header"},$i={class:"status-filters"},zi=["onClick"],Qi={class:"orders-list"},Ji={class:"order-header"},Ki={class:"order-details"},Gi={class:"items-summary"},Xi={class:"items-list"},Zi={class:"item-info"},Yi=["src","alt"],el={class:"item-quantity"},tl={class:"item-price"},al={class:"order-totals"},cl={class:"total-row"},sl={class:"total-row grand-total"},il={class:"order-info"},ll={class:"shipping-info"},rl={class:"payment-info"},nl={key:0},ol={key:0,class:"order-actions"},dl=["onClick"],ul=["onClick"],bl={class:"approval-options"},Ol={class:"modal-actions"};function jl(e,t,a,s,i,l){const r=Object(c["D"])("Modal");return Object(c["x"])(),Object(c["h"])(c["a"],null,[Object(c["i"])("div",Bi,[Object(c["i"])("div",Wi,[t[4]||(t[4]=Object(c["i"])("h2",null,"Orders Management",-1)),Object(c["i"])("div",$i,[(Object(c["x"])(),Object(c["h"])(c["a"],null,Object(c["B"])(["all","pending","approved","rejected"],e=>Object(c["i"])("button",{key:e,class:Object(c["r"])({active:s.currentStatus===e}),onClick:t=>s.currentStatus=e},Object(c["H"])(e.charAt(0).toUpperCase()+e.slice(1)),11,zi)),64))])]),Object(c["i"])("div",Qi,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.filteredOrders,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:"order-card"},[Object(c["i"])("div",Ji,[Object(c["i"])("div",null,[Object(c["i"])("h3",null,"Order #"+Object(c["H"])(e.id.slice(0,8)),1),Object(c["i"])("p",null,Object(c["H"])(new Date(e.created_at).toLocaleString()),1)]),Object(c["i"])("span",{class:Object(c["r"])(["status-badge",e.status])},Object(c["H"])(e.status),3)]),Object(c["i"])("div",Ki,[Object(c["i"])("div",Gi,[Object(c["i"])("h4",null,"Items ("+Object(c["H"])(e.items.length)+")",1),Object(c["i"])("ul",Xi,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(e.items,e=>(Object(c["x"])(),Object(c["h"])("li",{key:e.id,class:"item-row"},[Object(c["i"])("div",Zi,[Object(c["i"])("img",{src:e.image_url,alt:e.name,class:"item-thumbnail"},null,8,Yi),Object(c["i"])("div",null,[Object(c["i"])("strong",null,Object(c["H"])(e.name),1),Object(c["i"])("span",el,"x"+Object(c["H"])(e.quantity),1)])]),Object(c["i"])("div",tl,"â‚¬"+Object(c["H"])((e.price*e.quantity).toFixed(2)),1)]))),128))]),Object(c["i"])("div",al,[Object(c["i"])("div",cl,[t[5]||(t[5]=Object(c["i"])("span",null,"Subtotal:",-1)),Object(c["i"])("span",null,"â‚¬"+Object(c["H"])(s.calculateSubtotal(e).toFixed(2)),1)]),t[7]||(t[7]=Object(c["i"])("div",{class:"total-row"},[Object(c["i"])("span",null,"Shipping:"),Object(c["i"])("span",null,"Free")],-1)),Object(c["i"])("div",sl,[t[6]||(t[6]=Object(c["i"])("span",null,"Total:",-1)),Object(c["i"])("span",null,"â‚¬"+Object(c["H"])(e.total_amount.toFixed(2)),1)])])]),Object(c["i"])("div",il,[Object(c["i"])("div",ll,[t[8]||(t[8]=Object(c["i"])("h4",null,"Shipping Details",-1)),Object(c["i"])("p",null,Object(c["H"])(e.shipping_address.address),1),Object(c["i"])("p",null,Object(c["H"])(e.shipping_address.postalCode)+" "+Object(c["H"])(e.shipping_address.city),1),Object(c["i"])("p",null,Object(c["H"])(e.shipping_address.phone),1)]),Object(c["i"])("div",rl,[t[13]||(t[13]=Object(c["i"])("h4",null,"Payment Details",-1)),Object(c["i"])("p",null,[t[9]||(t[9]=Object(c["i"])("strong",null,"Method:",-1)),Object(c["k"])(" "+Object(c["H"])(e.payment_method),1)]),Object(c["i"])("p",null,[t[10]||(t[10]=Object(c["i"])("strong",null,"Status:",-1)),Object(c["k"])(" "+Object(c["H"])(e.status),1)]),e.stripe_session_id?(Object(c["x"])(),Object(c["h"])("p",nl,[t[11]||(t[11]=Object(c["i"])("strong",null,"Stripe Session:",-1)),Object(c["i"])("code",null,Object(c["H"])(e.stripe_session_id),1)])):Object(c["g"])("",!0),Object(c["i"])("p",null,[t[12]||(t[12]=Object(c["i"])("strong",null,"Order Date:",-1)),Object(c["k"])(" "+Object(c["H"])(s.formatDate(e.created_at)),1)])])]),"pending"===e.status?(Object(c["x"])(),Object(c["h"])("div",ol,[Object(c["i"])("button",{class:"approve-btn",onClick:t=>s.showApprovalModal(e)},t[14]||(t[14]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"check_circle",-1),Object(c["k"])(" Approve ")]),8,dl),Object(c["i"])("button",{class:"reject-btn",onClick:t=>s.updateOrderStatus(e.id,"rejected")},t[15]||(t[15]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"block",-1),Object(c["k"])(" Reject ")]),8,ul)])):Object(c["g"])("",!0)])]))),128))])]),s.showModal?(Object(c["x"])(),Object(c["f"])(r,{key:0,onClose:t[3]||(t[3]=e=>s.showModal=!1)},{header:Object(c["O"])(()=>t[16]||(t[16]=[Object(c["i"])("h2",null,"Approve Order",-1)])),default:Object(c["O"])(()=>[Object(c["i"])("div",bl,[t[19]||(t[19]=Object(c["i"])("p",null,"Choose how you want to approve this order:",-1)),Object(c["i"])("button",{class:"approval-option",onClick:t[0]||(t[0]=(...e)=>s.approveWithPayment&&s.approveWithPayment(...e))},t[17]||(t[17]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"payments",-1),Object(c["i"])("div",null,[Object(c["i"])("h3",null,"Approve with Payment URL"),Object(c["i"])("p",null,"Generate a Stripe payment link and copy to clipboard")],-1)])),Object(c["i"])("button",{class:"approval-option",onClick:t[1]||(t[1]=(...e)=>s.approveWithoutPayment&&s.approveWithoutPayment(...e))},t[18]||(t[18]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"done_all",-1),Object(c["i"])("div",null,[Object(c["i"])("h3",null,"Approve without Payment URL"),Object(c["i"])("p",null,"Mark as approved without generating payment link")],-1)])),Object(c["i"])("div",Ol,[Object(c["i"])("button",{class:"cancel-btn",onClick:t[2]||(t[2]=e=>s.showModal=!1)},"Cancel")])])]),_:1})):Object(c["g"])("",!0)],64)}var pl={name:"OrderManager",components:{Modal:fa},setup(){const e=Object(c["A"])([]),t=Object(c["A"])("all"),a=Object(c["A"])(!1),s=Object(c["A"])(null),i=Object(c["d"])(()=>"all"===t.value?e.value:e.value.filter(e=>e.status===t.value));async function l(){const{data:t,error:a}=await H["a"].from("orders").select("*").order("created_at",{ascending:!1});a?console.error("Error fetching orders:",a):e.value=t}function r(e){s.value=e,a.value=!0}async function n(){const e=s.value;try{const{data:t,error:a}=await H["a"].functions.invoke("create-payment",{body:{items:e.items.map(e=>({...e,price_in_cents:Math.round(100*e.price)})),email:e.customer_email,user_id:e.user_id,shipping_address:e.shipping_address,order_id:e.id}});if(a)throw a;const c=`${window.location.origin}/checkout?session=${t.sessionId}`;await navigator.clipboard.writeText(c),alert("Payment link copied to clipboard!"),await d(e.id,"approved",t.sessionId)}catch(t){console.error("Error creating payment link:",t),alert("Failed to create payment link")}a.value=!1}async function o(){await d(s.value.id,"approved"),a.value=!1}async function d(e,t,a=null){const c={status:t};a&&(c.stripe_session_id=a);const{error:s}=await H["a"].from("orders").update(c).eq("id",e);s?console.error("Error updating order:",s):await l()}function u(e){return e.items.reduce((e,t)=>e+t.price*t.quantity,0)}function b(e){return new Date(e).toLocaleString("nl-NL",{dateStyle:"medium",timeStyle:"short"})}return Object(c["v"])(l),{orders:e,currentStatus:t,filteredOrders:i,updateOrderStatus:d,showModal:a,showApprovalModal:r,approveWithPayment:n,approveWithoutPayment:o,calculateSubtotal:u,formatDate:b}}};a("b48c");const ml=U()(pl,[["render",jl],["__scopeId","data-v-0495f0fd"]]);var vl=ml,hl={name:"Admin",components:{Modal:fa,NewsManager:Ea,CardsManager:cc,ReportsManager:Pc,SettingsManager:as,StoreManager:Ni,OrderManager:vl},setup(){const e=Object(c["A"])("users"),t=Object(c["A"])([]),a=Object(c["A"])(""),s=Object(c["A"])(!1),i=Object(c["A"])(!1),l=Object(c["A"])(null),r=Object(c["A"])({totalUsers:0,totalCards:0,newToday:0,totalArticles:0,activeUsers:0,pendingReports:0}),n=Object(c["A"])({maintenanceMode:!1,allowRegistrations:!0}),o=Object(c["A"])({email:"",password:"",first_name:"",last_name:"",role:"user",status:"active"}),d=Object(c["A"])(""),u=Object(c["A"])(!1),b=[{id:"users",name:"Users",icon:"group"},{id:"store",name:"Store",icon:"store"},{id:"orders",name:"Orders",icon:"local_shipping"},{id:"news",name:"News",icon:"newspaper"},{id:"cards",name:"Cards",icon:"style"},{id:"reports",name:"Reports",icon:"monitoring"},{id:"settings",name:"Settings",icon:"settings"}],O=Object(c["d"])(()=>{if(!a.value)return t.value;const e=a.value.toLowerCase();return t.value.filter(t=>t.email.toLowerCase().includes(e)||t.full_name&&t.full_name.toLowerCase().includes(e))});async function j(){const e=new Date;e.setHours(0,0,0,0);const{count:t}=await H["a"].from("profiles").select("*",{count:"exact"}).gte("created_at",e.toISOString());r.value.newToday=t||0}async function p(){try{const{data:e,error:a}=await H["a"].rpc("get_users_with_profiles");if(a)return void console.error("Error fetching users:",a);console.log("Fetched users:",e),t.value=e.map(e=>({id:e.id,email:e.email,full_name:e.first_name&&e.last_name?`${e.first_name} ${e.last_name}`:"-",role:e.role||"user",status:e.status||"active",created_at:e.created_at})),r.value.totalUsers=t.value.length}catch(e){console.error("Unexpected error:",e)}}function m(){l.value=null,o.value={email:"",password:"",first_name:"",last_name:"",role:"user",status:"active"},s.value=!0}async function v(e){const[t,a]=(e.full_name||"-").split(" ");l.value=e,o.value={...o.value,first_name:"-"!==t?t:"",last_name:a||"",role:e.role||"user",status:e.status||"active"},s.value=!0}async function h(e){l.value=e,i.value=!0}async function g(){if(!l.value)return;const{error:e}=await H["a"].from("profiles").delete().eq("id",l.value.id);e?console.error("Error deleting user:",e):(i.value=!1,l.value=null,await p())}async function f(){u.value=!0,d.value="";try{if(l.value&&l.value.id){const{error:e}=await H["a"].from("profiles").update({first_name:o.value.first_name,last_name:o.value.last_name,role:o.value.role,status:o.value.status}).eq("id",l.value.id);if(e)throw e}else{const{data:e,error:t}=await H["a"].auth.signUp({email:o.value.email,password:o.value.password});if(t)throw t;const{error:a}=await H["a"].from("profiles").insert({id:e.user.id,first_name:o.value.first_name,last_name:o.value.last_name,role:o.value.role,status:o.value.status});if(a)throw a}C(),await p()}catch(e){console.error("Error saving user:",e),d.value=e.message}finally{u.value=!1}}async function y(){console.log("Saving settings:",n.value)}async function k(){console.log("Backing up database...")}async function w(){console.log("Syncing cards...")}function C(){s.value=!1,l.value=null,o.value={email:"",password:"",first_name:"",last_name:"",role:"user",status:"active"},d.value=""}return Object(c["v"])(async()=>{await p(),await j()}),{currentTab:e,tabs:b,users:t,userSearch:a,filteredUsers:O,stats:r,settings:n,showEditModal:s,showDeleteModal:i,editingUser:l,userForm:o,formError:d,isSubmitting:u,editUser:v,confirmDeleteUser:h,deleteUser:g,saveUser:f,saveSettings:y,backupDatabase:k,syncCards:w,closeEditModal:C,initNewUser:m,formatDate:e=>new Date(e).toLocaleDateString()}}};a("cf5f");const gl=U()(hl,[["render",ja],["__scopeId","data-v-c4d0a374"]]);var fl=gl;const yl={class:"store"},kl={class:"store-hero"},wl={class:"quick-categories"},Cl=["onClick"],Sl={class:"material-symbols-rounded"},_l={class:"filter-section"},xl={class:"search-container"},Al={class:"search-box"},Pl={class:"advanced-filters"},Ml={key:0,class:"active-filters"},Hl={class:"products-grid"},Il={class:"product-image"},Dl=["src","alt"],Ul={key:0,class:"product-badges"},Tl={key:0,class:"rarity-badge"},ql={key:1,class:"stock-badge"},Rl={class:"product-info"},Fl={class:"product-header"},Vl={class:"product-type"},El={class:"product-meta"},Ll={key:0,class:"product-set"},Nl={class:"product-price"},Bl=["disabled","onClick"],Wl={class:"product-actions"},$l=["onClick"],zl={class:"material-symbols-rounded"},Ql=["onClick"],Jl={key:1,class:"pagination"},Kl=["disabled"],Gl=["onClick"],Xl=["disabled"],Zl={class:"quick-view"},Yl={class:"quick-view-image"},er=["src","alt"],tr={class:"quick-view-details"},ar={class:"meta-info"},cr={key:0,class:"set"},sr={key:1,class:"rarity"},ir={class:"pricing"},lr={class:"market-price"},rr={class:"our-price"},nr={class:"stock-info"},or={class:"material-symbols-rounded"},dr=["disabled"];function ur(e,t,a,s,i,l){const r=Object(c["D"])("Modal");return Object(c["x"])(),Object(c["h"])("div",yl,[Object(c["i"])("div",kl,[t[13]||(t[13]=Object(c["i"])("div",{class:"hero-content"},[Object(c["i"])("h1",null,"Card Market"),Object(c["i"])("p",{class:"subtitle"},"Discover rare and valuable PokÃ©mon cards")],-1)),Object(c["i"])("div",wl,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.categories,e=>(Object(c["x"])(),Object(c["h"])("button",{key:e.id,class:Object(c["r"])(["category-pill",{active:s.filters.category===e.id}]),onClick:t=>s.filters.category=e.id},[Object(c["i"])("span",Sl,Object(c["H"])(e.icon),1),Object(c["k"])(" "+Object(c["H"])(e.name),1)],10,Cl))),128))])]),Object(c["i"])("div",_l,[Object(c["i"])("div",xl,[Object(c["i"])("div",Al,[t[14]||(t[14]=Object(c["i"])("span",{class:"material-symbols-rounded"},"search",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.search=e),type:"text",placeholder:"Search for cards, sets, or boosters..."},null,512),[[c["M"],s.search]])]),Object(c["i"])("div",Pl,[Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.filters.priceRange=e)},t[15]||(t[15]=[Object(c["i"])("option",{value:""},"All Prices",-1),Object(c["i"])("option",{value:"under10"},"Under $10",-1),Object(c["i"])("option",{value:"10to50"},"$10 - $50",-1),Object(c["i"])("option",{value:"50plus"},"$50+",-1)]),512),[[c["L"],s.filters.priceRange]]),Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>s.filters.rarity=e)},t[16]||(t[16]=[Object(c["j"])('<option value="" data-v-6d24316e>All Rarities</option><option value="common" data-v-6d24316e>Common</option><option value="uncommon" data-v-6d24316e>Uncommon</option><option value="rare" data-v-6d24316e>Rare</option><option value="ultra" data-v-6d24316e>Ultra Rare</option>',5)]),512),[[c["L"],s.filters.rarity]]),Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.filters.condition=e)},t[17]||(t[17]=[Object(c["j"])('<option value="" data-v-6d24316e>All Conditions</option><option value="mint" data-v-6d24316e>Mint</option><option value="near_mint" data-v-6d24316e>Near Mint</option><option value="excellent" data-v-6d24316e>Excellent</option><option value="good" data-v-6d24316e>Good</option>',5)]),512),[[c["L"],s.filters.condition]])])])]),s.activeFiltersCount?(Object(c["x"])(),Object(c["h"])("div",Ml,[s.filters.priceRange?(Object(c["x"])(),Object(c["h"])("span",{key:0,class:"filter-tag",onClick:t[4]||(t[4]=e=>s.filters.priceRange="")},[Object(c["k"])(Object(c["H"])(e.formatPriceRange(s.filters.priceRange))+" ",1),t[18]||(t[18]=Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1))])):Object(c["g"])("",!0),s.filters.rarity?(Object(c["x"])(),Object(c["h"])("span",{key:1,class:"filter-tag",onClick:t[5]||(t[5]=e=>s.filters.rarity="")},[Object(c["k"])(Object(c["H"])(s.filters.rarity)+" ",1),t[19]||(t[19]=Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1))])):Object(c["g"])("",!0),s.filters.condition?(Object(c["x"])(),Object(c["h"])("span",{key:2,class:"filter-tag",onClick:t[6]||(t[6]=e=>s.filters.condition="")},[Object(c["k"])(Object(c["H"])(s.filters.condition)+" ",1),t[20]||(t[20]=Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1))])):Object(c["g"])("",!0),Object(c["i"])("button",{class:"clear-filters",onClick:t[7]||(t[7]=(...e)=>s.clearFilters&&s.clearFilters(...e))},"Clear All")])):Object(c["g"])("",!0),Object(c["i"])("div",Hl,[Object(c["l"])(c["c"],{name:"product-card"},{default:Object(c["O"])(()=>[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.paginatedProducts,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:Object(c["r"])(["product-card",{"out-of-stock":e.stock<=0,"in-wishlist":s.isInWishlist(e.id)}])},[Object(c["i"])("div",Il,[Object(c["i"])("img",{src:e.image_url,alt:e.name},null,8,Dl),e.metadata?(Object(c["x"])(),Object(c["h"])("div",Ul,[e.metadata.rarity?(Object(c["x"])(),Object(c["h"])("span",Tl,Object(c["H"])(e.metadata.rarity),1)):Object(c["g"])("",!0),e.stock<5&&e.stock>0?(Object(c["x"])(),Object(c["h"])("span",ql," Low Stock ")):Object(c["g"])("",!0)])):Object(c["g"])("",!0)]),Object(c["i"])("div",Rl,[Object(c["i"])("div",Fl,[Object(c["i"])("span",Vl,Object(c["H"])(e.type),1),Object(c["i"])("h3",null,Object(c["H"])(e.name),1)]),Object(c["i"])("div",El,[e.metadata&&e.metadata.set?(Object(c["x"])(),Object(c["h"])("span",Ll,Object(c["H"])(e.metadata.set.name),1)):Object(c["g"])("",!0),Object(c["i"])("span",Nl,"$"+Object(c["H"])(e.price),1)]),Object(c["i"])("button",{class:"buy-button",disabled:e.stock<=0,onClick:t=>s.addToCart(e,t)},Object(c["H"])(e.stock<=0?"Out of Stock":"Add to Cart"),9,Bl)]),Object(c["i"])("div",Wl,[Object(c["i"])("button",{class:Object(c["r"])(["wishlist-button",{active:s.isInWishlist(e.id)}]),onClick:Object(c["R"])(t=>s.toggleWishlist(e),["stop"])},[Object(c["i"])("span",zl,Object(c["H"])(s.isInWishlist(e.id)?"favorite":"favorite_border"),1)],10,$l),Object(c["i"])("button",{class:"quick-view-button",onClick:Object(c["R"])(t=>s.showQuickView(e),["stop"])},t[21]||(t[21]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"visibility",-1)]),8,Ql)])],2))),128))]),_:1})]),s.totalPages>1?(Object(c["x"])(),Object(c["h"])("div",Jl,[Object(c["i"])("button",{disabled:1===s.currentPage,onClick:t[8]||(t[8]=e=>s.currentPage--)},t[22]||(t[22]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"chevron_left",-1)]),8,Kl),(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.displayedPages,e=>(Object(c["x"])(),Object(c["h"])("button",{key:e,class:Object(c["r"])({active:s.currentPage===e}),onClick:t=>s.currentPage=e},Object(c["H"])(e),11,Gl))),128)),Object(c["i"])("button",{disabled:s.currentPage===s.totalPages,onClick:t[9]||(t[9]=e=>s.currentPage++)},t[23]||(t[23]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"chevron_right",-1)]),8,Xl)])):Object(c["g"])("",!0),s.quickViewProduct?(Object(c["x"])(),Object(c["f"])(r,{key:2,onClose:t[11]||(t[11]=e=>s.quickViewProduct=null)},{default:Object(c["O"])(()=>[Object(c["i"])("div",Zl,[Object(c["i"])("div",Yl,[Object(c["i"])("img",{src:s.quickViewProduct.image_url,alt:s.quickViewProduct.name},null,8,er)]),Object(c["i"])("div",tr,[Object(c["i"])("h2",null,Object(c["H"])(s.quickViewProduct.name),1),Object(c["i"])("div",ar,[s.quickViewProduct.metadata&&s.quickViewProduct.metadata.set?(Object(c["x"])(),Object(c["h"])("span",cr,Object(c["H"])(s.quickViewProduct.metadata.set.name),1)):Object(c["g"])("",!0),s.quickViewProduct.metadata?(Object(c["x"])(),Object(c["h"])("span",sr,Object(c["H"])(s.quickViewProduct.metadata.rarity),1)):Object(c["g"])("",!0)]),Object(c["i"])("div",ir,[Object(c["i"])("div",lr,[t[24]||(t[24]=Object(c["i"])("span",null,"Market Price",-1)),Object(c["i"])("strong",null,"$"+Object(c["H"])(s.getMarketPrice(s.quickViewProduct)),1)]),Object(c["i"])("div",rr,[t[25]||(t[25]=Object(c["i"])("span",null,"Our Price",-1)),Object(c["i"])("strong",null,"$"+Object(c["H"])(s.quickViewProduct.price),1)])]),Object(c["i"])("div",nr,[Object(c["i"])("span",or,Object(c["H"])(s.quickViewProduct.stock>0?"inventory_2":"inventory_2_off"),1),Object(c["k"])(" "+Object(c["H"])(s.quickViewProduct.stock>0?s.quickViewProduct.stock+" in stock":"Out of stock"),1)]),Object(c["i"])("button",{class:"add-to-cart",disabled:s.quickViewProduct.stock<=0,onClick:t[10]||(t[10]=e=>s.addToCart(s.quickViewProduct,e))}," Add to Cart ",8,dr)])])]),_:1})):Object(c["g"])("",!0),s.showFilters?(Object(c["x"])(),Object(c["f"])(r,{key:3,onClose:t[12]||(t[12]=e=>s.showFilters=!1)},{header:Object(c["O"])(()=>t[26]||(t[26]=[Object(c["i"])("h2",null,"Filter Products",-1)])),default:Object(c["O"])(()=>t[27]||(t[27]=[Object(c["i"])("div",{class:"filters-form"},null,-1)])),_:1})):Object(c["g"])("",!0)])}const br={key:0,class:"preview-content"},Or={class:"preview-image"},jr=["src","alt"],pr={class:"preview-info"},mr={class:"product-type"},vr={class:"product-meta"},hr={key:0,class:"meta-item"},gr={key:1,class:"meta-item"},fr={class:"price-section"},yr={class:"price"},kr=["disabled"];function wr(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",{class:Object(c["r"])(["preview-overlay",{"is-open":e.isOpen}]),onClick:t[3]||(t[3]=(...t)=>e.close&&e.close(...t))},[Object(c["i"])("div",{class:Object(c["r"])(["preview-panel",{"is-open":e.isOpen}]),onClick:t[2]||(t[2]=Object(c["R"])(()=>{},["stop"]))},[Object(c["i"])("button",{class:"close-button",onClick:t[0]||(t[0]=(...t)=>e.close&&e.close(...t))},t[4]||(t[4]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1)])),e.product?(Object(c["x"])(),Object(c["h"])("div",br,[Object(c["i"])("div",Or,[Object(c["i"])("img",{src:e.product.image_url,alt:e.product.name},null,8,jr)]),Object(c["i"])("div",pr,[Object(c["i"])("span",mr,Object(c["H"])(e.product.type),1),Object(c["i"])("h2",null,Object(c["H"])(e.product.name),1),Object(c["i"])("div",vr,[e.product.metadata&&e.product.metadata.set?(Object(c["x"])(),Object(c["h"])("div",hr,[t[5]||(t[5]=Object(c["i"])("h4",null,"Set",-1)),Object(c["i"])("p",null,Object(c["H"])(e.product.metadata.set.name),1)])):Object(c["g"])("",!0),e.product.metadata&&e.product.metadata.rarity?(Object(c["x"])(),Object(c["h"])("div",gr,[t[6]||(t[6]=Object(c["i"])("h4",null,"Rarity",-1)),Object(c["i"])("p",null,Object(c["H"])(e.product.metadata.rarity),1)])):Object(c["g"])("",!0)]),Object(c["i"])("div",fr,[Object(c["i"])("div",yr,"$"+Object(c["H"])(e.product.price),1),Object(c["i"])("div",{class:Object(c["r"])(["stock",e.getStockLevel(e.product.stock)])},Object(c["H"])(e.product.stock)+" in stock ",3)]),Object(c["i"])("button",{class:"add-to-cart",disabled:e.product.stock<=0,onClick:t[1]||(t[1]=(...t)=>e.addToCart&&e.addToCart(...t))}," Add to Cart ",8,kr)])])):Object(c["g"])("",!0)],2)],2)}var Cr=Object(c["m"])({name:"QuickPreview",props:{product:Object,isOpen:Boolean},emits:["close"],setup(e,{emit:t}){function a(){t("close")}function c(){m["a"].addItem(e.product),a()}function s(e){return e<=0?"out":e<5?"low":"good"}return{close:a,addToCart:c,getStockLevel:s}}});a("b09e");const Sr=U()(Cr,[["render",wr],["__scopeId","data-v-affce238"]]);var _r=Sr,xr={name:"Store",components:{Modal:fa,CartSlideOver:q,QuickPreview:_r},setup(){const e=Object(c["A"])(""),t=Object(c["A"])(!1),a=Object(c["A"])(!1),s=Object(c["A"])(!1),i=Object(c["A"])(null),l=Object(c["A"])([]),r=Object(c["A"])({condition:"",sort:"newest",category:"",priceRange:"",rarity:""}),n=Object(c["A"])(1),o=12,d=Object(c["A"])(null),u=Object(c["A"])([{id:"all",name:"All",icon:"category"},{id:"rare",name:"Rare",icon:"star"},{id:"common",name:"Common",icon:"circle"},{id:"uncommon",name:"Uncommon",icon:"diamond"}]),b=Object(c["A"])([]),O=Object(c["A"])(!0),j=Object(c["d"])(()=>p["a"].state.user?p["a"].state.user.id:null),v=Object(c["d"])(()=>Object.values(r.value).filter(Boolean).length),h=Object(c["d"])(()=>{let t=[...b.value];if(e.value){const a=e.value.toLowerCase();t=t.filter(e=>e.name.toLowerCase().includes(a))}return r.value.category&&"all"!==r.value.category&&(t=t.filter(e=>e.type===r.value.category)),r.value.priceRange&&(t=D(t,r.value.priceRange)),r.value.rarity&&(t=t.filter(e=>e.metadata&&e.metadata.rarity&&e.metadata.rarity.toLowerCase()===r.value.rarity)),r.value.condition&&(t=t.filter(e=>e.metadata&&e.metadata.condition&&e.metadata.condition.toLowerCase()===r.value.condition)),U(t,r.value.sort)}),g=Object(c["d"])(()=>{const e=(n.value-1)*o;return h.value.slice(e,e+o)}),f=Object(c["d"])(()=>Math.ceil(h.value.length/o)),y=Object(c["d"])(()=>{const e=f.value,t=n.value,a=2,c=[],s=[];let i;c.push(1);for(let l=t-a;l<=t+a;l++)l>=1&&l<=e&&c.push(l);return c.push(e),c.forEach(e=>{i&&(e-i===2?s.push(i+1):e-i!==1&&s.push("...")),s.push(e),i=e}),s});async function k(){const{data:e,error:t}=await H["a"].from("products").select("*").eq("active",!0);t?console.error("Error fetching listings:",t):l.value=e||[]}async function w(){console.log("Fetching products..."),O.value=!0;try{const{data:e,error:t}=await H["a"].from("products").select("*").eq("active",!0).order("created_at",{ascending:!1});if(t)throw console.error("Supabase error:",t),t;if(console.log("Raw data from Supabase:",e),!e||0===e.length)return console.log("No products found in database"),void(b.value=[]);b.value=e.map(e=>({...e,price:parseFloat(e.price)||0,stock:parseInt(e.stock)||0})),console.log("Transformed products:",b.value)}catch(e){console.error("Error fetching products:",e)}finally{O.value=!1}}function C(e){return e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())}function S(e){i.value=e,a.value=!0}async function _(){if(i.value&&p["a"].state.user)try{const{error:e}=await H["a"].from("orders").insert({product_id:i.value.id,user_id:p["a"].state.user.id,quantity:1,total_amount:i.value.price,status:"completed"});if(e)throw e;const{error:t}=await H["a"].from("products").update({active:!1,stock:i.value.stock-1}).eq("id",i.value.id);if(t)throw t;a.value=!1,await k()}catch(e){console.error("Error processing purchase:",e)}}const x=Object(c["A"])(null),A=Object(c["A"])(!1);function P(e){x.value=e,A.value=!0}function M(){r.value={priceRange:"",rarity:"",condition:"",sort:"newest",category:""},n.value=1}function I(e){d.value=e}function D(e,t){switch(t){case"under10":return e.filter(e=>e.price<10);case"10to50":return e.filter(e=>e.price>=10&&e.price<=50);case"50plus":return e.filter(e=>e.price>50);default:return e}}function U(e,t){switch(t){case"price_low":return e.sort((e,t)=>e.price-t.price);case"price_high":return e.sort((e,t)=>t.price-e.price);case"newest":return e.sort((e,t)=>new Date(t.created_at)-new Date(e.created_at));case"popularity":return e.sort((e,t)=>t.popularity-e.popularity);default:return e}}const T=Object(c["A"])([]);async function q(){if(p["a"].state.user)try{const{data:e,error:t}=await H["a"].from("wishlists").select("card_id").eq("user_id",p["a"].state.user.id);if(t)throw t;T.value=e.map(e=>e.card_id),console.log("Fetched wishlist:",T.value)}catch(e){console.error("Error fetching wishlist:",e)}}function R(e){return T.value.includes(e)}async function F(e){if(p["a"].state.user)try{const t=R(e.id);if(t){const{error:t}=await H["a"].from("wishlists").delete().eq("user_id",p["a"].state.user.id).eq("card_id",e.id);if(t)throw t;T.value=T.value.filter(t=>t!==e.id)}else{const{error:t}=await H["a"].from("wishlists").insert({user_id:p["a"].state.user.id,card_id:e.id,card_data:{name:e.name,image_url:e.image_url,price:e.price,type:e.type,metadata:e.metadata}});if(t)throw t;T.value.push(e.id)}}catch(t){console.error("Error updating wishlist:",t),alert("Failed to update wishlist")}else alert("Please log in to add items to your wishlist")}function V(e){if(!e.metadata)return"0.00";let t=e.price;return e.metadata.cardmarket&&e.metadata.cardmarket.prices&&e.metadata.cardmarket.prices.averageSellPrice?t=e.metadata.cardmarket.prices.averageSellPrice:e.metadata.tcgplayer&&e.metadata.tcgplayer.prices&&e.metadata.tcgplayer.prices.market&&(t=e.metadata.tcgplayer.prices.market),parseFloat(t).toFixed(2)}function E(e,t){const a=t&&t.target?t.target:null;!e.stock||e.stock<=0?alert("This product is out of stock"):(m["a"].addItem({id:e.id,name:e.name,price:e.price,image_url:e.image_url,quantity:1},a),d.value=null)}return Object(c["v"])(async()=>{await Promise.all([w(),p["a"].state.user?q():Promise.resolve()])}),{search:e,filters:r,filteredProducts:h,showSellModal:t,showBuyModal:a,showFilters:s,selectedListing:i,buyCard:S,confirmPurchase:_,formatCondition:C,currentUserId:j,categories:u,selectedProduct:x,showPreview:A,showQuickPreview:P,cart:m["a"],currentPage:n,quickViewProduct:d,activeFiltersCount:v,paginatedProducts:g,totalPages:f,displayedPages:y,clearFilters:M,showQuickView:I,products:b,isLoading:O,isInWishlist:R,toggleWishlist:F,fetchProducts:w,wishlist:T,getMarketPrice:V,addToCart:E}}};a("7325");const Ar=U()(xr,[["render",ur],["__scopeId","data-v-6d24316e"]]);var Pr=Ar;const Mr=[{path:"/",name:"Home",component:Ue,meta:{public:!0}},{path:"/collection",name:"Collection",component:()=>Promise.resolve().then(a.bind(null,"1ced")),meta:{public:!0}},{path:"/pricing",name:"Pricing",component:()=>a.e("chunk-62ad9a69").then(a.bind(null,"8aff")),meta:{public:!0}},{path:"/about",name:"About",component:()=>a.e("chunk-2fe52e9a").then(a.bind(null,"f820")),meta:{public:!0}},{path:"/my-collection",name:"MyCollection",component:ut,meta:{requiresAuth:!0}},{path:"/wishlist",name:"Wishlist",component:xt,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:Je,meta:{public:!0}},{path:"/register",name:"Register",component:()=>a.e("chunk-13be29f5").then(a.bind(null,"73cf")),meta:{public:!0}},{path:"/admin",name:"Admin",component:fl,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/profile",name:"Profile",component:()=>a.e("chunk-28a89ab6").then(a.bind(null,"c66d")),meta:{requiresAuth:!0}},{path:"/store",name:"Store",component:Pr,meta:{requiresAuth:!0}},{path:"/cart",name:"Cart",component:()=>a.e("chunk-483cb784").then(a.bind(null,"b789")),meta:{requiresAuth:!0}},{path:"/checkout/success",name:"CheckoutSuccess",component:()=>a.e("chunk-c066c090").then(a.bind(null,"4625")),meta:{requiresAuth:!0}}],Hr=Object(R["a"])({history:Object(R["b"])("/"),routes:Mr});Hr.beforeEach(async(e,t,a)=>{p["a"].state.initialized||await p["a"].initializeAuth();const c=!!p["a"].state.session,s=p["a"].state.isAdmin;!e.meta.requiresAuth||c?!e.meta.requiresAdmin||s?a():a("/"):a("/login")});var Ir=Hr;const Dr=Object(c["e"])(B);Dr.use(Ir),Dr.mount("#app")},5852:function(e,t,a){},"5e33":function(e,t,a){"use strict";a("4a66")},"621b":function(e,t,a){"use strict";a("f3ef")},"624b":function(e,t,a){"use strict";a("5852")},"6b85":function(e,t,a){"use strict";const c="pokemon-collection",s="pokemon-wishlist";t["a"]={getCollection(){return JSON.parse(localStorage.getItem(c)||"[]")},getWishlist(){return JSON.parse(localStorage.getItem(s)||"[]")},addToCollection(e){const t=this.getCollection();t.some(t=>t.id===e.id)||(t.push(e),localStorage.setItem(c,JSON.stringify(t)))},addToWishlist(e){const t=this.getWishlist();t.some(t=>t.id===e.id)||(t.push(e),localStorage.setItem(s,JSON.stringify(t)))},removeFromCollection(e){const t=this.getCollection(),a=t.filter(t=>t.id!==e);localStorage.setItem(c,JSON.stringify(a))},removeFromWishlist(e){const t=this.getWishlist(),a=t.filter(t=>t.id!==e);localStorage.setItem(s,JSON.stringify(a))},isInCollection(e){return this.getCollection().some(t=>t.id===e)},isInWishlist(e){return this.getWishlist().some(t=>t.id===e)}}},"6fe0":function(e,t,a){},7307:function(e,t,a){"use strict";a("d351")},7325:function(e,t,a){"use strict";a("f908")},"79a7":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var c=a("940b");const s="https://qhghblgzpgoftoovbmes.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFoZ2hibGd6cGdvZnRvb3ZibWVzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzkzNjI4MzUsImV4cCI6MjA1NDkzODgzNX0.ifNQ2s7hjm0VinL8m1nJTTUnL7ZOLzdZ6z9Ycp4gqmQ",l=Object(c["a"])(s,i)},"80c7":function(e,t,a){"use strict";a("f818")},8579:function(e,t,a){"use strict";a("2300")},"889e":function(e,t,a){"use strict";var c=a("7a23"),s=a("79a7");const i=Object(c["z"])({user:null,session:null,profile:null,isAdmin:!1,initialized:!1}),l={state:i,async initializeAuth(){try{const{data:e}=await s["a"].auth.getSession(),t=e.session||null;if(i.session=t,i.user=t?t.user:null,t){const{data:e}=await s["a"].from("profiles").select("*").eq("id",t.user.id).single();i.profile=e,i.isAdmin=!!e&&"admin"===e.role}}catch(e){console.error("Auth initialization error:",e),i.session=null,i.user=null,i.profile=null,i.isAdmin=!1}finally{i.initialized=!0}},async signIn(e,t){const{data:a,error:c}=await s["a"].auth.signInWithPassword({email:e,password:t});if(c)return{error:c};if(i.session=a.session,i.user=a.user,a.user){const{data:e}=await s["a"].from("profiles").select("*").eq("id",a.user.id).single();i.profile=e,i.isAdmin=!!e&&"admin"===e.role}return{user:i.user}},async signOut(){const{error:e}=await s["a"].auth.signOut();return e||(i.user=null,i.session=null,i.profile=null,i.isAdmin=!1),{error:e}}};s["a"].auth.onAuthStateChange((e,t)=>{i.session=t,i.user=t?t.user:null,t?s["a"].from("profiles").select("*").eq("id",t.user.id).single().then(({data:e})=>{i.profile=e,i.isAdmin=!!e&&"admin"===e.role}):(i.profile=null,i.isAdmin=!1)}),t["a"]=l},"8c2f":function(e,t,a){"use strict";var c=a("7a23");const s=localStorage.getItem("cart"),i=s?JSON.parse(s):{items:[],total:0,show:!1},l=Object(c["z"])(i);Object(c["N"])(()=>l.items,e=>{localStorage.setItem("cart",JSON.stringify({items:e,total:l.total,show:l.show}))},{deep:!0}),t["a"]={state:l,toggleCart(){l.show=!l.show},addItem(e,t=null){t&&this.animateToCart(t);const a=l.items.find(t=>t.id===e.id);a?a.quantity++:l.items.push({...e,quantity:1}),this.calculateTotal(),l.show=!0},removeItem(e){l.items=l.items.filter(t=>t.id!==e),this.calculateTotal()},updateQuantity(e,t){const a=l.items.find(t=>t.id===e);a&&(a.quantity=t,this.calculateTotal())},calculateTotal(){l.total=l.items.reduce((e,t)=>e+t.price*t.quantity,0)},clear(){l.items=[],l.total=0,l.show=!1},animateToCart(e){if(!e)return;const t=document.querySelector(".cart-button");if(!t)return;const a=document.createElement("div"),c=e.getBoundingClientRect(),s=t.getBoundingClientRect();Object.assign(a.style,{position:"fixed",top:c.top+"px",left:c.left+"px",width:c.width+"px",height:c.height+"px",zIndex:9999,pointerEvents:"none",transition:"all 0.6s cubic-bezier(0.16, 1, 0.3, 1)",opacity:"0.8",background:"var(--accent-primary)",borderRadius:"12px"}),document.body.appendChild(a),requestAnimationFrame(()=>{Object.assign(a.style,{transform:`translate(${s.left-c.left}px, ${s.top-c.top}px) scale(0.1)`,opacity:"0"})}),setTimeout(()=>a.remove(),600)}}},9359:function(e,t,a){"use strict";a("d683")},"996c":function(e,t,a){},a3ba:function(e,t,a){"use strict";a("f8c8")},a98f:function(e,t,a){},ae8d:function(e,t,a){"use strict";var c=a("7a23");const s={class:"card-image-container"},i=["src","alt"],l={key:0,class:"image-placeholder"},r={class:"card-details"},n={class:"card-name"},o={class:"card-type"},d={class:"card-rarity"},u={class:"card-price"};function b(e,t,a,b,O,j){return Object(c["x"])(),Object(c["h"])("div",{class:"card",onClick:t[1]||(t[1]=t=>e.$emit("card-selected",a.card))},[Object(c["i"])("div",s,[Object(c["i"])("img",{src:a.card.imageUrl,alt:a.card.name,class:"card-image",onError:t[0]||(t[0]=(...e)=>j.handleImageError&&j.handleImageError(...e)),ref:"cardImage"},null,40,i),O.hasValidImage?Object(c["g"])("",!0):(Object(c["x"])(),Object(c["h"])("div",l,t[2]||(t[2]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"broken_image",-1),Object(c["i"])("span",null,"No image available",-1)])))]),Object(c["i"])("div",r,[Object(c["i"])("h3",n,Object(c["H"])(a.card.name),1),Object(c["i"])("p",o,Object(c["H"])(a.card.type),1),Object(c["i"])("p",d,Object(c["H"])(a.card.rarity),1),Object(c["i"])("p",u,Object(c["H"])(j.formatPrice(a.card.price)),1)])])}var O={name:"Card",props:{card:{type:Object,required:!0}},data(){return{hasValidImage:!0}},methods:{handleClick(){this.$emit("card-selected",this.card)},handleImageError(){this.hasValidImage=!1},formatPrice(e){return"N/A"===e?"N/A":"$"+Number(e).toFixed(2)}}},j=(a("80c7"),a("6b0d")),p=a.n(j);const m=p()(O,[["render",b],["__scopeId","data-v-73fdae1e"]]);t["a"]=m},b09e:function(e,t,a){"use strict";a("c442")},b48c:function(e,t,a){"use strict";a("22a1")},b752:function(e,t,a){"use strict";a("e877")},b863:function(e,t,a){"use strict";a("6fe0")},bf39:function(e,t,a){},c395:function(e,t,a){"use strict";a("487e")},c442:function(e,t,a){},c63d:function(e,t,a){"use strict";a("996c")},cd3d:function(e,t,a){"use strict";a("1a55")},cf5f:function(e,t,a){"use strict";a("1b3d")},d351:function(e,t,a){},d683:function(e,t,a){},dfd6:function(e,t,a){"use strict";a("0731")},e7ed:function(e,t,a){"use strict";a("bf39")},e877:function(e,t,a){},f3ef:function(e,t,a){},f76e:function(e,t,a){},f818:function(e,t,a){},f8c8:function(e,t,a){},f908:function(e,t,a){}});
//# sourceMappingURL=app.ea076f2e.js.map