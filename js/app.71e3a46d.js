(function(e){function t(t){for(var c,s,r=t[0],n=t[1],o=t[2],d=0,b=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&b.push(i[s][0]),i[s]=0;for(c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c]);u&&u(t);while(b.length)b.shift()();return l.push.apply(l,o||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],c=!0,s=1;s<a.length;s++){var r=a[s];0!==i[r]&&(c=!1)}c&&(l.splice(t--,1),e=n(n.s=a[0]))}return e}var c={},s={app:0},i={app:0},l=[];function r(e){return n.p+"js/"+({}[e]||e)+"."+{"chunk-13be29f5":"ac94a91e","chunk-28a89ab6":"a527599e","chunk-2d0e2721":"39716f46","chunk-2fe52e9a":"5ea4ab9e","chunk-53d5b976":"7af5d1d4","chunk-5c094b52":"6f490602","chunk-62ad9a69":"08657534","chunk-7229211b":"89560697","chunk-8a95aeea":"7093d32d","chunk-c066c090":"989c5d97"}[e]+".js"}function n(t){if(c[t])return c[t].exports;var a=c[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.e=function(e){var t=[],a={"chunk-13be29f5":1,"chunk-28a89ab6":1,"chunk-2fe52e9a":1,"chunk-53d5b976":1,"chunk-5c094b52":1,"chunk-62ad9a69":1,"chunk-7229211b":1,"chunk-8a95aeea":1,"chunk-c066c090":1};s[e]?t.push(s[e]):0!==s[e]&&a[e]&&t.push(s[e]=new Promise((function(t,a){for(var c="css/"+({}[e]||e)+"."+{"chunk-13be29f5":"e02c82d6","chunk-28a89ab6":"01871f80","chunk-2d0e2721":"31d6cfe0","chunk-2fe52e9a":"2c59716c","chunk-53d5b976":"25004b7d","chunk-5c094b52":"d6534b49","chunk-62ad9a69":"dfca84cb","chunk-7229211b":"16dc44ee","chunk-8a95aeea":"09cdc2b4","chunk-c066c090":"2b6b2e4d"}[e]+".css",i=n.p+c,l=document.getElementsByTagName("link"),r=0;r<l.length;r++){var o=l[r],d=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(d===c||d===i))return t()}var b=document.getElementsByTagName("style");for(r=0;r<b.length;r++){o=b[r],d=o.getAttribute("data-href");if(d===c||d===i)return t()}var u=document.createElement("link");u.rel="stylesheet",u.type="text/css",u.onload=t,u.onerror=function(t){var c=t&&t.target&&t.target.src||i,l=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");l.code="CSS_CHUNK_LOAD_FAILED",l.request=c,delete s[e],u.parentNode.removeChild(u),a(l)},u.href=i;var O=document.getElementsByTagName("head")[0];O.appendChild(u)})).then((function(){s[e]=0})));var c=i[e];if(0!==c)if(c)t.push(c[2]);else{var l=new Promise((function(t,a){c=i[e]=[t,a]}));t.push(c[2]=l);var o,d=document.createElement("script");d.charset="utf-8",d.timeout=120,n.nc&&d.setAttribute("nonce",n.nc),d.src=r(e);var b=new Error;o=function(t){d.onerror=d.onload=null,clearTimeout(u);var a=i[e];if(0!==a){if(a){var c=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;b.message="Loading chunk "+e+" failed.\n("+c+": "+s+")",b.name="ChunkLoadError",b.type=c,b.request=s,a[1](b)}i[e]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:d})}),12e4);d.onerror=d.onload=o,document.head.appendChild(d)}return Promise.all(t)},n.m=e,n.c=c,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(a,c,function(t){return e[t]}.bind(null,c));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n.oe=function(e){throw console.error(e),e};var o=window["webpackJsonp"]=window["webpackJsonp"]||[],d=o.push.bind(o);o.push=t,o=o.slice();for(var b=0;b<o.length;b++)t(o[b]);var u=d;l.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0731":function(e,t,a){},"0e58":function(e,t,a){"use strict";a("0fae")},"0fae":function(e,t,a){},"15a5":function(e,t,a){"use strict";a("44d1")},"1b3d":function(e,t,a){},"1c4c":function(e,t,a){},2064:function(e,t,a){"use strict";var c=a("cee4");const s="0c4b0264-73d6-4ada-8edf-ef3ec5db80ea",i="https://api.pokemontcg.io/v2",l=c["a"].create({baseURL:i,headers:{"X-Api-Key":s,"Content-Type":"application/json"}});t["a"]={async getCards(e={}){const t=await l.get("/cards",{params:{pageSize:250,page:e.page||1,q:e.query||"",orderBy:e.orderBy||"name",select:"id,name,images,types,rarity,cardmarket,set",...e}});return t.data},async getSets(){const e=await l.get("/sets",{params:{orderBy:"-releaseDate",select:"id,name,images,releaseDate,series"}});return e.data},async getCardById(e){const t=await l.get("/cards/"+e);return t.data},async getCardsByQuery(e){const t=await l.get("/cards",{params:{q:e}});return t.data}}},2765:function(e,t,a){"use strict";a("1c4c")},3743:function(e,t,a){"use strict";a("3780")},3780:function(e,t,a){},"386d":function(e,t,a){},"395c":function(e,t,a){},"3b4f":function(e,t,a){"use strict";a("f76e")},"3e12":function(e,t,a){"use strict";a("a98f")},"3f66":function(e,t,a){},"44d1":function(e,t,a){},"487e":function(e,t,a){},4929:function(e,t,a){"use strict";a("84ea")},"4a66":function(e,t,a){},"4b58":function(e,t,a){"use strict";a("d959")},5121:function(e,t,a){"use strict";a("395c")},"51af":function(e,t,a){"use strict";a("b742")},"56d7":function(e,t,a){"use strict";a.r(t);var c=a("7a23");const s={key:2,class:"loading-screen"};function i(e,t,a,i,l,r){const n=Object(c["D"])("AppHeader"),o=Object(c["D"])("router-view");return Object(c["x"])(),Object(c["h"])(c["a"],null,[i.auth.state.initialized?(Object(c["x"])(),Object(c["f"])(n,{key:0})):Object(c["g"])("",!0),i.auth.state.initialized?(Object(c["x"])(),Object(c["f"])(o,{key:1})):(Object(c["x"])(),Object(c["h"])("div",s,t[0]||(t[0]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"autorenew",-1),Object(c["k"])(" Loading... ")])))],64)}const l={class:"app-header"},r={class:"nav-container"},n={class:"nav-left"},o={class:"nav-links"},d={class:"nav-right"},b={key:0,class:"cart-badge"},u={class:"username"},O={key:0,class:"user-dropdown"};function j(e,t,a,s,i,j){const m=Object(c["D"])("router-link"),p=Object(c["D"])("CartSlideOver");return Object(c["x"])(),Object(c["h"])("header",l,[Object(c["i"])("nav",r,[Object(c["i"])("div",n,[Object(c["l"])(m,{to:"/",class:"logo"},{default:Object(c["O"])(()=>t[4]||(t[4]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"style",-1),Object(c["k"])(" CardWatcher ")])),_:1}),Object(c["i"])("div",o,[Object(c["l"])(m,{to:"/collection"},{default:Object(c["O"])(()=>t[5]||(t[5]=[Object(c["k"])("Browse")])),_:1}),Object(c["l"])(m,{to:"/store"},{default:Object(c["O"])(()=>t[6]||(t[6]=[Object(c["k"])("Store")])),_:1}),s.isLoggedIn?(Object(c["x"])(),Object(c["h"])(c["a"],{key:0},[Object(c["l"])(m,{to:"/my-collection"},{default:Object(c["O"])(()=>t[7]||(t[7]=[Object(c["k"])("My Collection")])),_:1}),Object(c["l"])(m,{to:"/wishlist"},{default:Object(c["O"])(()=>t[8]||(t[8]=[Object(c["k"])("Wishlist")])),_:1})],64)):Object(c["g"])("",!0)])]),Object(c["i"])("div",d,[Object(c["i"])("button",{class:"nav-button cart-button",onClick:t[0]||(t[0]=(...e)=>s.toggleCart&&s.toggleCart(...e))},[t[9]||(t[9]=Object(c["i"])("span",{class:"material-symbols-rounded"},"shopping_cart",-1)),s.cart.state.items.length?(Object(c["x"])(),Object(c["h"])("span",b,Object(c["H"])(s.cart.state.items.length),1)):Object(c["g"])("",!0)]),s.isLoggedIn?(Object(c["x"])(),Object(c["h"])(c["a"],{key:0},[Object(c["i"])("button",{class:"user-menu",onClick:t[1]||(t[1]=(...e)=>s.toggleUserMenu&&s.toggleUserMenu(...e))},[t[10]||(t[10]=Object(c["i"])("span",{class:"material-symbols-rounded"},"account_circle",-1)),Object(c["i"])("span",u,[Object(c["k"])(Object(c["H"])(s.userDisplayName)+" ",1),Object(c["i"])("span",{class:Object(c["r"])(["role-badge",s.userRole])},Object(c["H"])(s.userRole),3)]),t[11]||(t[11]=Object(c["i"])("span",{class:"material-symbols-rounded"},"expand_more",-1))]),s.showUserMenu?(Object(c["x"])(),Object(c["h"])("div",O,[Object(c["l"])(m,{to:"/profile",class:"dropdown-item"},{default:Object(c["O"])(()=>t[12]||(t[12]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"person",-1),Object(c["k"])(" Profile ")])),_:1}),Object(c["l"])(m,{to:"/orders",class:"dropdown-item"},{default:Object(c["O"])(()=>t[13]||(t[13]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"receipt_long",-1),Object(c["k"])(" My Orders ")])),_:1}),s.isAdmin?(Object(c["x"])(),Object(c["f"])(m,{key:0,to:"/admin",class:"dropdown-item"},{default:Object(c["O"])(()=>t[14]||(t[14]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"admin_panel_settings",-1),Object(c["k"])(" Admin Panel ")])),_:1})):Object(c["g"])("",!0),Object(c["i"])("button",{onClick:t[2]||(t[2]=(...e)=>s.handleSignOut&&s.handleSignOut(...e)),class:"dropdown-item"},t[15]||(t[15]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"logout",-1),Object(c["k"])(" Sign Out ")]))])):Object(c["g"])("",!0)],64)):(Object(c["x"])(),Object(c["h"])(c["a"],{key:1},[Object(c["l"])(m,{to:"/register",class:"auth-button secondary"},{default:Object(c["O"])(()=>t[16]||(t[16]=[Object(c["k"])("Register")])),_:1}),Object(c["l"])(m,{to:"/login",class:"auth-button primary"},{default:Object(c["O"])(()=>t[17]||(t[17]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"login",-1),Object(c["k"])(" Sign In ")])),_:1})],64))])]),Object(c["l"])(p,{show:s.showCart,onClose:t[3]||(t[3]=e=>s.showCart=!1)},null,8,["show"])])}var m=a("889e"),p=a("8c2f");const h={class:"cart-header"},v={key:0,class:"empty-cart"},g={key:1,class:"cart-items"},f=["src","alt"],y={class:"item-details"},k={class:"item-price"},w={class:"quantity-controls"},C=["onClick"],S=["onClick"],_=["onClick"],x={key:2,class:"cart-footer"},A={class:"subtotal"};function P(e,t,a,s,i,l){return e.show?(Object(c["x"])(),Object(c["h"])("div",{key:0,class:"cart-overlay",onClick:t[3]||(t[3]=t=>e.$emit("close"))},[Object(c["i"])("div",{class:"cart-slideover",onClick:t[2]||(t[2]=Object(c["R"])(()=>{},["stop"]))},[Object(c["i"])("div",h,[t[5]||(t[5]=Object(c["i"])("h2",null,"Shopping Cart",-1)),Object(c["i"])("button",{class:"close-button",onClick:t[0]||(t[0]=t=>e.$emit("close"))},t[4]||(t[4]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1)]))]),e.cart.items.length?(Object(c["x"])(),Object(c["h"])("div",g,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(e.cart.items,a=>(Object(c["x"])(),Object(c["h"])("div",{key:a.id,class:"cart-item"},[Object(c["i"])("img",{src:a.image_url,alt:a.name},null,8,f),Object(c["i"])("div",y,[Object(c["i"])("h3",null,Object(c["H"])(a.name),1),Object(c["i"])("div",k,"$"+Object(c["H"])(a.price),1),Object(c["i"])("div",w,[Object(c["i"])("button",{onClick:t=>e.decrementQuantity(a)},"-",8,C),Object(c["i"])("span",null,Object(c["H"])(a.quantity),1),Object(c["i"])("button",{onClick:t=>e.incrementQuantity(a)},"+",8,S)])]),Object(c["i"])("button",{class:"remove-item",onClick:t=>e.removeItem(a)},t[7]||(t[7]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"delete",-1)]),8,_)]))),128))])):(Object(c["x"])(),Object(c["h"])("div",v,t[6]||(t[6]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"shopping_cart",-1),Object(c["i"])("p",null,"Your cart is empty",-1)]))),e.cart.items.length?(Object(c["x"])(),Object(c["h"])("div",x,[Object(c["i"])("div",A,[t[8]||(t[8]=Object(c["i"])("span",null,"Subtotal",-1)),Object(c["i"])("strong",null,"$"+Object(c["H"])(e.cart.total.toFixed(2)),1)]),Object(c["i"])("button",{class:"checkout-button",onClick:t[1]||(t[1]=(...t)=>e.checkout&&e.checkout(...t))},t[9]||(t[9]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"payments",-1),Object(c["k"])(" Checkout ")]))])):Object(c["g"])("",!0)])])):Object(c["g"])("",!0)}var M=a("4c16"),H=a("79a7"),I=Object(c["m"])({name:"CartSlideOver",props:{show:Boolean},setup(){async function e(){try{const{data:e,error:t}=await H["a"].functions.invoke("create-checkout-session",{body:{items:p["a"].items}});if(t)throw t;const a=await Object(M["a"])("pk_test_51QrkgR4CfmNPourcrOX3w5QB0d3oS76LrpMWcaGU8lnsj7mAc8SlPE3rEDZm8HLpezTqlTvAOwR2QOkl4xFTMAwu00SfIVQ1iY");await a.redirectToCheckout({sessionId:e.id})}catch(e){console.error("Checkout error:",e),alert("Failed to initiate checkout")}}function t(e){p["a"].updateQuantity(e.id,e.quantity+1)}function a(e){e.quantity>1&&p["a"].updateQuantity(e.id,e.quantity-1)}function c(e){p["a"].removeItem(e.id)}return{cart:p["a"],checkout:e,incrementQuantity:t,decrementQuantity:a,removeItem:c}}}),U=(a("3e12"),a("6b0d")),q=a.n(U);const D=q()(I,[["render",P],["__scopeId","data-v-48223bb6"]]);var T=D,F=a("6605"),R={name:"AppHeader",components:{CartSlideOver:T},setup(){const e=Object(c["A"])(!1),t=Object(c["d"])(()=>!!m["a"].state.session),a=Object(c["d"])(()=>{if(!m["a"].state.user)return"";const e=m["a"].state.profile;return e&&e.first_name&&e.last_name?`${e.first_name} ${e.last_name}`:m["a"].state.user.email}),s=Object(c["d"])(()=>m["a"].state.isAdmin),i=Object(c["d"])(()=>m["a"].state.isAdmin?"admin":"user"),l=()=>{e.value=!e.value},r=async()=>{await m["a"].signOut(),e.value=!1},n=Object(c["A"])(!1),o=Object(F["d"])();function d(){o.push("/cart")}return Object(c["N"])(()=>p["a"].state.show,e=>{n.value=e}),Object(c["N"])(()=>p["a"].state.items.length,(e,t)=>{if(e>t){const e=document.querySelector(".cart-badge");e&&(e.classList.add("pulse"),setTimeout(()=>e.classList.remove("pulse"),300))}}),{isLoggedIn:t,showUserMenu:e,toggleUserMenu:l,handleSignOut:r,userDisplayName:a,isAdmin:s,userRole:i,cart:p["a"],showCart:n,toggleCart:d}}};a("78bc");const V=q()(R,[["render",j],["__scopeId","data-v-53861716"]]);var N=V,E={name:"App",components:{AppHeader:N},setup(){return{auth:m["a"]}}};a("2765");const L=q()(E,[["render",i]]);var W=L;const B={class:"home"},$={class:"widgets-grid"},z={class:"widget-grid"},Q={class:"widget highlight-widget"},J={key:0,class:"card-preview"},K=["src","alt"],G={class:"card-info"},Z={class:"price"},X={class:"widget"},Y={class:"trend-list"},ee={class:"trend-name"},te={class:"widget"},ae={class:"news-list"},ce={class:"news-date"},se={class:"widget"},ie={class:"value-list"},le={key:0,class:"cta-section"},re={class:"cta-content"},ne={class:"cta-buttons"};function oe(e,t,a,s,i,l){const r=Object(c["D"])("MarketWidget"),n=Object(c["D"])("TrendingCardsWidget"),o=Object(c["D"])("router-link");return Object(c["x"])(),Object(c["h"])("div",B,[t[12]||(t[12]=Object(c["i"])("header",{class:"page-header"},[Object(c["i"])("div",{class:"header-content"},[Object(c["i"])("h1",null,"Welcome back!"),Object(c["i"])("p",{class:"subtitle"},"Track your Pokémon card collection and market trends")])],-1)),Object(c["i"])("div",$,[Object(c["l"])(r,{class:"widget"}),Object(c["l"])(n,{class:"widget"})]),Object(c["i"])("div",z,[Object(c["i"])("div",Q,[t[0]||(t[0]=Object(c["i"])("span",{class:"material-symbols-rounded widget-icon"},"diamond",-1)),t[1]||(t[1]=Object(c["i"])("h2",null,"Most Expensive Card",-1)),i.mostExpensiveCard?(Object(c["x"])(),Object(c["h"])("div",J,[Object(c["i"])("img",{src:i.mostExpensiveCard.imageUrl,alt:i.mostExpensiveCard.name},null,8,K),Object(c["i"])("div",G,[Object(c["i"])("h3",null,Object(c["H"])(i.mostExpensiveCard.name),1),Object(c["i"])("p",Z,"$"+Object(c["H"])(i.mostExpensiveCard.price),1)])])):Object(c["g"])("",!0)]),Object(c["i"])("div",X,[t[2]||(t[2]=Object(c["i"])("span",{class:"material-symbols-rounded widget-icon"},"trending_up",-1)),t[3]||(t[3]=Object(c["i"])("h2",null,"Market Trends",-1)),Object(c["i"])("ul",Y,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(i.trends,e=>(Object(c["x"])(),Object(c["h"])("li",{key:e.id},[Object(c["i"])("span",ee,Object(c["H"])(e.name),1),Object(c["i"])("span",{class:Object(c["r"])(["trend-change",e.direction])},Object(c["H"])(e.change)+"% ",3)]))),128))])]),Object(c["i"])("div",te,[t[4]||(t[4]=Object(c["i"])("span",{class:"material-symbols-rounded widget-icon"},"newspaper",-1)),t[5]||(t[5]=Object(c["i"])("h2",null,"Latest News",-1)),Object(c["i"])("div",ae,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(i.news,e=>(Object(c["x"])(),Object(c["h"])("article",{key:e.id,class:"news-item"},[Object(c["i"])("h4",null,Object(c["H"])(e.title),1),Object(c["i"])("p",null,Object(c["H"])(e.excerpt),1),Object(c["i"])("span",ce,Object(c["H"])(e.date),1)]))),128))])]),Object(c["i"])("div",se,[t[6]||(t[6]=Object(c["i"])("span",{class:"material-symbols-rounded widget-icon"},"star",-1)),t[7]||(t[7]=Object(c["i"])("h2",null,"Top Valued Cards",-1)),Object(c["i"])("ol",ie,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(i.topValuedCards,e=>(Object(c["x"])(),Object(c["h"])("li",{key:e.id},Object(c["H"])(e.name)+" - $"+Object(c["H"])(e.price),1))),128))])])]),l.isLoggedIn?Object(c["g"])("",!0):(Object(c["x"])(),Object(c["h"])("div",le,[Object(c["i"])("div",re,[t[10]||(t[10]=Object(c["i"])("h2",null,"Want to track your collection?",-1)),t[11]||(t[11]=Object(c["i"])("p",null,"Create a free account to manage your Pokémon card collection and wishlist.",-1)),Object(c["i"])("div",ne,[Object(c["l"])(o,{to:"/register",class:"cta-button primary"},{default:Object(c["O"])(()=>t[8]||(t[8]=[Object(c["k"])(" Create Account ")])),_:1}),Object(c["l"])(o,{to:"/login",class:"cta-button secondary"},{default:Object(c["O"])(()=>t[9]||(t[9]=[Object(c["k"])(" Sign In ")])),_:1})])])]))])}const de={class:"collection"},be={class:"collection-header"},ue={class:"header-content"},Oe={class:"subtitle"},je={class:"filter-controls"},me={class:"search-wrapper"},pe={class:"search-bar"},he={key:0,class:"search-filters"},ve={class:"filter-chip"},ge={class:"filter-chip"},fe={class:"filter-chip"},ye={class:"control-group"},ke={class:"view-toggle"},we={key:0,class:"loading-overlay"},Ce={key:1},Se={key:0,class:"card-actions"},_e=["onClick","title"],xe={class:"material-symbols-rounded"},Ae=["onClick","title"],Pe={class:"material-symbols-rounded"},Me=["src","alt","onClick"],He={class:"card-details"},Ie={class:"card-meta"},Ue={class:"card-set"},qe={key:0,class:"card-rarity"},De={key:0,class:"card-price"},Te={key:0,class:"load-more"},Fe={key:1,class:"no-results"};function Re(e,t,a,s,i,l){const r=Object(c["D"])("SetFilter"),n=Object(c["D"])("CardDetailsModal"),o=Object(c["E"])("intersect");return Object(c["x"])(),Object(c["h"])("div",de,[Object(c["i"])("div",be,[Object(c["i"])("div",ue,[t[12]||(t[12]=Object(c["i"])("h1",null,"Browse Pokémon Cards",-1)),Object(c["i"])("p",Oe,Object(c["H"])(i.totalCards)+" cards available",1)]),Object(c["i"])("div",je,[Object(c["i"])("div",me,[Object(c["i"])("div",pe,[t[13]||(t[13]=Object(c["i"])("span",{class:"material-symbols-rounded"},"search",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.searchQuery=e),placeholder:"Search by name, type, or rarity...",type:"text",onFocus:t[1]||(t[1]=e=>i.searchActive=!0),onBlur:t[2]||(t[2]=e=>i.searchActive=!1)},null,544),[[c["M"],i.searchQuery]]),i.searchQuery?(Object(c["x"])(),Object(c["h"])("span",{key:0,class:"material-symbols-rounded clear-search",onClick:t[3]||(t[3]=(...e)=>l.clearSearch&&l.clearSearch(...e))},"close")):Object(c["g"])("",!0)]),i.searchActive||i.searchQuery?(Object(c["x"])(),Object(c["h"])("div",he,[Object(c["i"])("label",ve,[Object(c["P"])(Object(c["i"])("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=e=>i.searchInNames=e)},null,512),[[c["J"],i.searchInNames]]),t[14]||(t[14]=Object(c["k"])(" Names "))]),Object(c["i"])("label",ge,[Object(c["P"])(Object(c["i"])("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=e=>i.searchInTypes=e)},null,512),[[c["J"],i.searchInTypes]]),t[15]||(t[15]=Object(c["k"])(" Types "))]),Object(c["i"])("label",fe,[Object(c["P"])(Object(c["i"])("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=e=>i.searchInRarity=e)},null,512),[[c["J"],i.searchInRarity]]),t[16]||(t[16]=Object(c["k"])(" Rarity "))])])):Object(c["g"])("",!0)]),Object(c["i"])("div",ye,[Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>i.sortBy=e),class:"sort-select"},t[17]||(t[17]=[Object(c["j"])('<option value="name" data-v-0049508e>Name (A-Z)</option><option value="-name" data-v-0049508e>Name (Z-A)</option><option value="-cardmarket.prices.averageSellPrice" data-v-0049508e>Price (High to Low)</option><option value="cardmarket.prices.averageSellPrice" data-v-0049508e>Price (Low to High)</option><option value="-set.releaseDate" data-v-0049508e>Newest First</option><option value="set.releaseDate" data-v-0049508e>Oldest First</option>',6)]),512),[[c["L"],i.sortBy]]),Object(c["i"])("div",ke,[Object(c["i"])("button",{class:Object(c["r"])(["view-button",{active:"grid"===i.viewMode}]),onClick:t[8]||(t[8]=e=>l.setViewMode("grid")),title:"Grid View"},t[18]||(t[18]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"grid_view",-1)]),2),Object(c["i"])("button",{class:Object(c["r"])(["view-button",{active:"list"===i.viewMode}]),onClick:t[9]||(t[9]=e=>l.setViewMode("list")),title:"List View"},t[19]||(t[19]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"view_list",-1)]),2)])])])]),Object(c["l"])(r,{sets:i.sets,selectedSet:i.selectedSet,onSelect:l.selectSet,onClear:l.clearSetFilter},null,8,["sets","selectedSet","onSelect","onClear"]),Object(c["l"])(c["b"],{name:"fade",mode:"out-in"},{default:Object(c["O"])(()=>[i.loading?(Object(c["x"])(),Object(c["h"])("div",we,t[20]||(t[20]=[Object(c["i"])("div",{class:"loading-content"},[Object(c["i"])("div",{class:"loading-spinner"}),Object(c["i"])("p",null,"Loading Pokémon Cards...")],-1)]))):(Object(c["x"])(),Object(c["h"])("div",Ce,[Object(c["l"])(c["c"],{name:i.viewMode,tag:"div",class:Object(c["r"])(["cards-container",i.viewMode])},{default:Object(c["O"])(()=>[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(l.displayedCards,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:Object(c["r"])(["card-item",{"list-view":"list"===i.viewMode}])},[i.auth.state.session?(Object(c["x"])(),Object(c["h"])("div",Se,[Object(c["i"])("button",{class:Object(c["r"])(["action-button",{active:l.isInCollection(e.id)}]),onClick:Object(c["R"])(t=>l.toggleCollection(e),["stop"]),title:l.isInCollection(e.id)?"Remove from Collection":"Add to Collection"},[Object(c["i"])("span",xe,Object(c["H"])(l.isInCollection(e.id)?"library_add_check":"library_add"),1)],10,_e),Object(c["i"])("button",{class:Object(c["r"])(["action-button",{active:l.isInWishlist(e.id)}]),onClick:Object(c["R"])(t=>l.toggleWishlist(e),["stop"]),title:l.isInWishlist(e.id)?"Remove from Wishlist":"Add to Wishlist"},[Object(c["i"])("span",Pe,Object(c["H"])(l.isInWishlist(e.id)?"favorite":"favorite_border"),1)],10,Ae)])):Object(c["g"])("",!0),Object(c["i"])("img",{src:e.imageUrl||e.images.small,alt:e.name,loading:"lazy",onClick:t=>l.openCardModal(e)},null,8,Me),Object(c["i"])("div",He,[Object(c["i"])("h3",null,Object(c["H"])(e.name),1),Object(c["i"])("div",Ie,[Object(c["i"])("span",Ue,Object(c["H"])(e.set.name),1),e.rarity?(Object(c["x"])(),Object(c["h"])("span",qe,Object(c["H"])(e.rarity),1)):Object(c["g"])("",!0)]),"N/A"!==e.price?(Object(c["x"])(),Object(c["h"])("div",De," €"+Object(c["H"])(e.price.toFixed(2)),1)):Object(c["g"])("",!0)])],2))),128))]),_:1},8,["name","class"]),i.hasMore?Object(c["P"])((Object(c["x"])(),Object(c["h"])("div",Te,t[21]||(t[21]=[Object(c["i"])("div",{class:"loading-spinner small"},null,-1),Object(c["k"])(" Loading more cards... ")]))),[[o,l.loadMore]]):0===l.displayedCards.length?(Object(c["x"])(),Object(c["h"])("div",Fe,[t[22]||(t[22]=Object(c["i"])("span",{class:"material-symbols-rounded"},"search_off",-1)),t[23]||(t[23]=Object(c["i"])("p",null,"No cards found matching your criteria",-1)),Object(c["i"])("button",{onClick:t[10]||(t[10]=(...e)=>l.resetFilters&&l.resetFilters(...e)),class:"reset-button"},"Reset Filters")])):Object(c["g"])("",!0)]))]),_:1}),i.selectedCard?(Object(c["x"])(),Object(c["f"])(n,{key:0,card:i.selectedCard,onClose:t[11]||(t[11]=e=>i.selectedCard=null)},null,8,["card"])):Object(c["g"])("",!0)])}const Ve={class:"card-image-container"},Ne=["src","alt"],Ee={key:0,class:"image-placeholder"},Le={class:"card-details"},We={class:"card-name"},Be={class:"card-type"},$e={class:"card-rarity"},ze={class:"card-price"};function Qe(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",{class:"card",onClick:t[1]||(t[1]=t=>e.$emit("card-selected",a.card))},[Object(c["i"])("div",Ve,[Object(c["i"])("img",{src:s.imageUrl,alt:a.card.name,class:"card-image",onError:t[0]||(t[0]=(...e)=>s.handleImageError&&s.handleImageError(...e)),ref:"cardImage"},null,40,Ne),i.hasValidImage?Object(c["g"])("",!0):(Object(c["x"])(),Object(c["h"])("div",Ee,t[2]||(t[2]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"broken_image",-1),Object(c["i"])("span",null,"No image available",-1)])))]),Object(c["i"])("div",Le,[Object(c["i"])("h3",We,Object(c["H"])(a.card.name),1),Object(c["i"])("p",Be,Object(c["H"])(a.card.type),1),Object(c["i"])("p",$e,Object(c["H"])(a.card.rarity),1),Object(c["i"])("p",ze,Object(c["H"])(l.formatPrice(a.card.price)),1)])])}var Je=a("b7f1"),Ke={name:"Card",props:{card:{type:Object,required:!0}},data(){return{hasValidImage:!0}},setup(e){const t=computed(()=>Object(Je["a"])(e.card.imageUrl));return{imageUrl:t,handleImageError:Je["b"]}},methods:{handleClick(){this.$emit("card-selected",this.card)},formatPrice(e){return"N/A"===e?"N/A":"$"+Number(e).toFixed(2)}}};a("e069");const Ge=q()(Ke,[["render",Qe],["__scopeId","data-v-538121a9"]]);var Ze=Ge,Xe=a("2064");const Ye={class:"set-filter"},et={class:"set-list"},tt=["onClick"],at=["src","alt"],ct={key:1,class:"material-symbols-rounded"};function st(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",Ye,[Object(c["i"])("div",et,[Object(c["i"])("button",{class:Object(c["r"])(["set-button",{active:!a.selectedSet}]),onClick:t[0]||(t[0]=t=>e.$emit("clear"))},t[1]||(t[1]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"category",-1),Object(c["k"])(" All Sets ")]),2),(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(a.sets,t=>(Object(c["x"])(),Object(c["h"])("button",{key:t.id,class:Object(c["r"])(["set-button",{active:a.selectedSet===t.id}]),onClick:a=>e.$emit("select",t.id)},[l.hasLogo(t)?(Object(c["x"])(),Object(c["h"])("img",{key:0,src:t.images.logo,alt:t.name,class:"set-logo"},null,8,at)):(Object(c["x"])(),Object(c["h"])("span",ct,"style")),Object(c["k"])(" "+Object(c["H"])(t.name),1)],10,tt))),128))])])}var it={name:"SetFilter",props:{sets:{type:Array,default:()=>[]},selectedSet:{type:String,default:null}},methods:{hasLogo(e){return e.images&&e.images.logo}}};a("4929");const lt=q()(it,[["render",st],["__scopeId","data-v-ede547f0"]]);var rt=lt;const nt={class:"card-showcase"},ot={class:"card-image"},dt=["src","alt"],bt={class:"card-info"},ut={class:"info-header"},Ot={class:"set-info"},jt=["src","alt"],mt=["src","alt"],pt={class:"details-grid"},ht={class:"detail-item"},vt={class:"value"},gt={class:"detail-item"},ft={class:"value"},yt={class:"detail-item"},kt={class:"value"},wt={class:"detail-item"},Ct={class:"value price"},St={key:0,class:"card-description"},_t={key:1,class:"action-buttons"},xt={class:"material-symbols-rounded"},At={class:"material-symbols-rounded"};function Pt(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",{class:"modal-overlay",onClick:t[5]||(t[5]=t=>e.$emit("close"))},[Object(c["i"])("div",{class:"modal-content",onClick:t[4]||(t[4]=Object(c["R"])(()=>{},["stop"]))},[Object(c["i"])("button",{class:"close-button",onClick:t[0]||(t[0]=t=>e.$emit("close"))},t[6]||(t[6]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1)])),Object(c["i"])("div",nt,[Object(c["i"])("div",ot,[Object(c["i"])("img",{src:a.card.imageUrl||a.card.images.large||a.card.images.small,alt:a.card.name},null,8,dt)]),Object(c["i"])("div",bt,[Object(c["i"])("div",ut,[Object(c["i"])("div",null,[Object(c["i"])("h2",null,Object(c["H"])(a.card.name),1),Object(c["i"])("div",Ot,[a.card.set.images&&a.card.set.images.symbol?(Object(c["x"])(),Object(c["h"])("img",{key:0,src:a.card.set.images.symbol,alt:a.card.set.name,class:"set-symbol"},null,8,jt)):Object(c["g"])("",!0),Object(c["i"])("span",null,Object(c["H"])(a.card.set.name),1)])]),a.card.set.images&&a.card.set.images.logo?(Object(c["x"])(),Object(c["h"])("img",{key:0,src:a.card.set.images.logo,alt:a.card.set.name,class:"set-logo"},null,8,mt)):Object(c["g"])("",!0)]),Object(c["i"])("div",pt,[Object(c["i"])("div",ht,[t[7]||(t[7]=Object(c["i"])("span",{class:"label"},"Rarity",-1)),Object(c["i"])("span",vt,Object(c["H"])(a.card.rarity||"Unknown"),1)]),Object(c["i"])("div",gt,[t[8]||(t[8]=Object(c["i"])("span",{class:"label"},"Card Number",-1)),Object(c["i"])("span",ft,Object(c["H"])(a.card.number||"N/A")+"/"+Object(c["H"])(a.card.set.total),1)]),Object(c["i"])("div",yt,[t[9]||(t[9]=Object(c["i"])("span",{class:"label"},"Release Date",-1)),Object(c["i"])("span",kt,Object(c["H"])(l.formatDate(a.card.set.releaseDate)),1)]),Object(c["i"])("div",wt,[t[10]||(t[10]=Object(c["i"])("span",{class:"label"},"Market Price",-1)),Object(c["i"])("span",Ct,Object(c["H"])(l.formatPrice(a.card.price)),1)])]),a.card.flavorText?(Object(c["x"])(),Object(c["h"])("div",St,[Object(c["i"])("p",null,Object(c["H"])(a.card.flavorText),1)])):Object(c["g"])("",!0),s.auth.state.session?(Object(c["x"])(),Object(c["h"])("div",_t,[s.storeProduct?(Object(c["x"])(),Object(c["h"])("button",{key:0,class:"action-btn store",onClick:t[1]||(t[1]=(...e)=>s.goToStore&&s.goToStore(...e))},[t[11]||(t[11]=Object(c["i"])("span",{class:"material-symbols-rounded"},"shopping_cart",-1)),Object(c["k"])(" Buy in Store - €"+Object(c["H"])(s.storeProduct.price.toFixed(2)),1)])):Object(c["g"])("",!0),Object(c["i"])("button",{class:Object(c["r"])(["action-btn collection",{active:s.isInCollection}]),onClick:t[2]||(t[2]=(...e)=>s.toggleCollection&&s.toggleCollection(...e))},[Object(c["i"])("span",xt,Object(c["H"])(s.isInCollection?"library_add_check":"library_add"),1),Object(c["k"])(" "+Object(c["H"])(s.isInCollection?"In Collection":"Add to Collection"),1)],2),Object(c["i"])("button",{class:Object(c["r"])(["action-btn wishlist",{active:s.isInWishlist}]),onClick:t[3]||(t[3]=(...e)=>s.toggleWishlist&&s.toggleWishlist(...e))},[Object(c["i"])("span",At,Object(c["H"])(s.isInWishlist?"favorite":"favorite_border"),1),Object(c["k"])(" "+Object(c["H"])(s.isInWishlist?"In Wishlist":"Add to Wishlist"),1)],2)])):Object(c["g"])("",!0)])])])])}const Mt=Object(c["z"])({collection:JSON.parse(localStorage.getItem("collection")||"[]"),wishlist:JSON.parse(localStorage.getItem("wishlist")||"[]")});var Ht={state:Mt,addToCollection(e){this.isInCollection(e.id)||(Mt.collection.push(e),this.saveCollection())},removeFromCollection(e){const t=Mt.collection.findIndex(t=>t.id===e);-1!==t&&(Mt.collection.splice(t,1),this.saveCollection())},addToWishlist(e){this.isInWishlist(e.id)||(Mt.wishlist.push(e),this.saveWishlist())},removeFromWishlist(e){const t=Mt.wishlist.findIndex(t=>t.id===e);-1!==t&&(Mt.wishlist.splice(t,1),this.saveWishlist())},isInCollection(e){return Mt.collection.some(t=>t.id===e)},isInWishlist(e){return Mt.wishlist.some(t=>t.id===e)},getCollection(){return Mt.collection},getWishlist(){return Mt.wishlist},saveCollection(){localStorage.setItem("collection",JSON.stringify(Mt.collection))},saveWishlist(){localStorage.setItem("wishlist",JSON.stringify(Mt.wishlist))}},It={name:"CardDetailsModal",props:{card:{type:Object,required:!0}},setup(e){const t=Object(F["d"])(),a=Object(c["A"])(null),s=async()=>{try{const{data:t}=await H["a"].from("products").select("*").eq("card_id",e.card.id).eq("active",!0).gt("stock",0).single();a.value=t}catch(t){console.error("Error checking store availability:",t)}},i=()=>{a.value&&t.push({name:"Store",query:{product:a.value.id}})};Object(c["v"])(()=>{s()});const l=Object(c["d"])(()=>Ht.isInCollection(e.card.id)),r=Object(c["d"])(()=>Ht.isInWishlist(e.card.id)),n=()=>{m["a"].state.session&&(l.value?Ht.removeFromCollection(e.card.id):Ht.addToCollection(e.card))},o=()=>{m["a"].state.session&&(r.value?Ht.removeFromWishlist(e.card.id):Ht.addToWishlist(e.card))};return{auth:m["a"],isInCollection:l,isInWishlist:r,toggleCollection:n,toggleWishlist:o,storeProduct:a,goToStore:i}},methods:{formatDate(e){return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"},formatPrice(e){return"N/A"===e?"N/A":"€"+Number(e).toFixed(2)}}};a("ee29");const Ut=q()(It,[["render",Pt],["__scopeId","data-v-56e52e8a"]]);var qt=Ut,Dt={components:{Card:Ze,SetFilter:rt,CardDetailsModal:qt},data(){return{cards:[],sets:[],selectedSet:null,searchQuery:"",sortBy:"name",viewMode:"grid",page:1,loading:!1,hasMore:!0,selectedCard:null,totalCards:0,searchActive:!1,searchInNames:!0,searchInTypes:!1,searchInRarity:!1,auth:m["a"]}},computed:{displayedCards(){return this.cards}},methods:{async fetchCards(e=!1){e&&(this.page=1,this.cards=[]),this.loading=!0;try{const t={page:this.page,orderBy:this.sortBy,q:this.buildSearchQuery(),select:"id,name,images,types,rarity,cardmarket,set"},a=await Xe["a"].getCards(t),c=a.data.map(e=>({id:e.id,name:e.name,imageUrl:e.images&&(e.images.small||e.images.large)||"",type:Array.isArray(e.types)?e.types[0]:"Unknown",rarity:e.rarity||"Common",price:e.cardmarket&&e.cardmarket.prices?e.cardmarket.prices.averageSellPrice:"N/A",set:e.set}));this.cards=e?c:[...this.cards,...c],this.totalCards=a.totalCount,this.hasMore=this.cards.length<this.totalCards}catch(t){console.error("Error fetching cards:",t)}finally{this.loading=!1}},async fetchSets(){try{const e=await Xe["a"].getSets();this.sets=e.data}catch(e){console.error("Error fetching sets:",e)}},selectSet(e){this.selectedSet=e,this.fetchCards(!0)},clearSetFilter(){this.selectedSet=null,this.fetchCards(!0)},loadMore(){!this.loading&&this.hasMore&&(this.page++,this.fetchCards())},openCardModal(e){this.selectedCard=e},clearSearch(){this.searchQuery="",this.fetchCards(!0)},setViewMode(e){localStorage.setItem("preferredViewMode",e),this.viewMode=e},resetFilters(){this.searchQuery="",this.selectedSet=null,this.sortBy="name",this.fetchCards(!0)},buildSearchQuery(){let e="";if(this.searchQuery){const t=[];this.searchInNames&&t.push(`name:"*${this.searchQuery}*"`),this.searchInTypes&&t.push(`types:"*${this.searchQuery}*"`),this.searchInRarity&&t.push(`rarity:"*${this.searchQuery}*"`),e=t.join(" OR ")}return this.selectedSet&&(e=e?`(${e}) AND set.id:${this.selectedSet}`:"set.id:"+this.selectedSet),e},isInCollection(e){return Ht.isInCollection(e)},isInWishlist(e){return Ht.isInWishlist(e)},toggleCollection(e){this.auth.state.session&&(this.isInCollection(e.id)?Ht.removeFromCollection(e.id):Ht.addToCollection(e))},toggleWishlist(e){this.auth.state.session&&(this.isInWishlist(e.id)?Ht.removeFromWishlist(e.id):Ht.addToWishlist(e))}},watch:{searchQuery:Tt((function(){this.fetchCards(!0)}),300),sortBy(){this.fetchCards(!0)}},mounted(){this.fetchSets(),this.fetchCards(),this.viewMode=localStorage.getItem("preferredViewMode")||"grid"}};function Tt(e,t){let a;return function(...c){clearTimeout(a),a=setTimeout(()=>e.apply(this,c),t)}}a("51af");const Ft=q()(Dt,[["render",Re],["__scopeId","data-v-0049508e"]]);var Rt=Ft;const Vt={class:"market-widget"},Nt={class:"widget-header"};function Et(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",Vt,[Object(c["i"])("div",Nt,[t[2]||(t[2]=Object(c["i"])("h2",null,"Market Overview",-1)),Object(c["i"])("button",{class:"refresh-button",onClick:t[0]||(t[0]=(...e)=>l.refreshData&&l.refreshData(...e))},t[1]||(t[1]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"refresh",-1)]))]),t[3]||(t[3]=Object(c["j"])('<div class="market-stats" data-v-336e696f><div class="stat-item" data-v-336e696f><div class="stat-label" data-v-336e696f>Market Volume</div><div class="stat-value" data-v-336e696f>$123,456</div><div class="stat-trend up" data-v-336e696f><span class="material-symbols-rounded" data-v-336e696f>trending_up</span> +5.2% </div></div><div class="stat-item" data-v-336e696f><div class="stat-label" data-v-336e696f>Active Listings</div><div class="stat-value" data-v-336e696f>24,789</div><div class="stat-trend down" data-v-336e696f><span class="material-symbols-rounded" data-v-336e696f>trending_down</span> -2.1% </div></div><div class="stat-item" data-v-336e696f><div class="stat-label" data-v-336e696f>Avg Card Price</div><div class="stat-value" data-v-336e696f>$48.32</div><div class="stat-trend up" data-v-336e696f><span class="material-symbols-rounded" data-v-336e696f>trending_up</span> +1.8% </div></div></div>',1))])}var Lt={name:"MarketWidget",methods:{refreshData(){}}};a("3b4f");const Wt=q()(Lt,[["render",Et],["__scopeId","data-v-336e696f"]]);var Bt=Wt;const $t={class:"trending-widget"},zt={class:"widget-header"},Qt={class:"time-filter"},Jt=["onClick"],Kt={class:"trending-cards"},Gt=["src","alt"],Zt={class:"card-info"},Xt={class:"card-name"},Yt={class:"card-price"},ea={class:"material-symbols-rounded"};function ta(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",$t,[Object(c["i"])("div",zt,[t[0]||(t[0]=Object(c["i"])("h2",null,"Trending Cards",-1)),Object(c["i"])("div",Qt,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(i.periods,e=>(Object(c["x"])(),Object(c["h"])("button",{key:e,class:Object(c["r"])({active:i.selectedPeriod===e}),onClick:t=>i.selectedPeriod=e},Object(c["H"])(e),11,Jt))),128))])]),Object(c["i"])("div",Kt,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(i.trendingCards,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:"trend-card"},[Object(c["i"])("img",{src:e.image,alt:e.name,class:"card-thumbnail"},null,8,Gt),Object(c["i"])("div",Zt,[Object(c["i"])("div",Xt,Object(c["H"])(e.name),1),Object(c["i"])("div",Yt,"$"+Object(c["H"])(e.price),1),Object(c["i"])("div",{class:Object(c["r"])(["price-change",e.change>0?"up":"down"])},[Object(c["i"])("span",ea,Object(c["H"])(e.change>0?"trending_up":"trending_down"),1),Object(c["k"])(" "+Object(c["H"])(Math.abs(e.change))+"% ",1)],2)])]))),128))])])}var aa={name:"TrendingCardsWidget",data(){return{periods:["24h","7d","30d"],selectedPeriod:"24h",trendingCards:[{id:1,name:"Charizard VMAX",price:189.99,change:12.5,image:"path/to/image"}]}}};a("dfd6");const ca=q()(aa,[["render",ta],["__scopeId","data-v-c75984e0"]]);var sa=ca,ia={name:"Home",components:{Collection:Rt,MarketWidget:Bt,TrendingCardsWidget:sa},data(){return{mostExpensiveCard:null,topValuedCards:[],trends:[{id:1,name:"Charizard Base Set",change:"+12.5",direction:"up"},{id:2,name:"Pikachu Illustrator",change:"+5.2",direction:"up"},{id:3,name:"Mewtwo GX",change:"-2.1",direction:"down"}],news:[{id:1,title:"New Scarlet & Violet Set Announced",excerpt:"The Pokémon Company reveals exciting new cards...",date:"2 hours ago"},{id:2,title:"Record Breaking Card Sale",excerpt:"Rare Pikachu card sells for unprecedented amount...",date:"1 day ago"}]}},async mounted(){try{const e=await Xe["a"].getCards(1,100),t=e.data.map(e=>({id:e.id,name:e.name,imageUrl:e.images.small,price:e.cardmarket&&e.cardmarket.prices?e.cardmarket.prices.averageSellPrice:0})).filter(e=>e.price>0);t.sort((e,t)=>t.price-e.price),this.mostExpensiveCard=t[0],this.topValuedCards=t.slice(0,5)}catch(e){console.error("Error fetching cards:",e)}},computed:{isLoggedIn(){return!!m["a"].state.session}}};a("7307");const la=q()(ia,[["render",oe],["__scopeId","data-v-d72b2e98"]]);var ra=la;const na={class:"auth-container"},oa={class:"auth-card"},da={class:"form-group"},ba={class:"input-wrapper"},ua={class:"form-group"},Oa={class:"input-wrapper"},ja={key:0,class:"error-message"},ma=["disabled"],pa={class:"button-content"},ha={class:"auth-footer"};function va(e,t,a,s,i,l){const r=Object(c["D"])("router-link");return Object(c["x"])(),Object(c["h"])("div",na,[Object(c["i"])("div",oa,[t[9]||(t[9]=Object(c["i"])("div",{class:"auth-header"},[Object(c["i"])("span",{class:"material-symbols-rounded"},"person_outline"),Object(c["i"])("h1",null,"Welcome Back"),Object(c["i"])("p",{class:"subtitle"},"Sign in to manage your collection")],-1)),Object(c["i"])("form",{onSubmit:t[2]||(t[2]=Object(c["R"])((...e)=>l.handleSubmit&&l.handleSubmit(...e),["prevent"]))},[Object(c["i"])("div",da,[Object(c["i"])("div",ba,[t[3]||(t[3]=Object(c["i"])("span",{class:"material-symbols-rounded"},"mail",-1)),Object(c["P"])(Object(c["i"])("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>i.email=e),type:"email",placeholder:"Email address",required:""},null,512),[[c["M"],i.email]])])]),Object(c["i"])("div",ua,[Object(c["i"])("div",Oa,[t[4]||(t[4]=Object(c["i"])("span",{class:"material-symbols-rounded"},"lock",-1)),Object(c["P"])(Object(c["i"])("input",{id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>i.password=e),type:"password",placeholder:"Password",required:""},null,512),[[c["M"],i.password]])])]),i.error?(Object(c["x"])(),Object(c["h"])("div",ja,[t[5]||(t[5]=Object(c["i"])("span",{class:"material-symbols-rounded"},"error",-1)),Object(c["k"])(" "+Object(c["H"])(i.error),1)])):Object(c["g"])("",!0),Object(c["i"])("button",{type:"submit",disabled:i.loading,class:Object(c["r"])(["submit-button",{loading:i.loading}])},[Object(c["i"])("span",pa,[t[6]||(t[6]=Object(c["i"])("span",{class:"material-symbols-rounded"},"login",-1)),Object(c["k"])(" "+Object(c["H"])(i.loading?"Signing in...":"Sign In"),1)])],10,ma)],32),Object(c["i"])("div",ha,[t[8]||(t[8]=Object(c["i"])("p",null,"Don't have an account?",-1)),Object(c["l"])(r,{to:"/register",class:"auth-link"},{default:Object(c["O"])(()=>t[7]||(t[7]=[Object(c["k"])(" Create Account "),Object(c["i"])("span",{class:"material-symbols-rounded"},"arrow_forward",-1)])),_:1})])])])}var ga={name:"Login",data(){return{email:"",password:"",loading:!1,error:null}},methods:{async handleSubmit(){this.loading=!0,this.error=null;const{user:e,error:t}=await m["a"].signIn(this.email,this.password);t?this.error=t.message:this.$router.push("/dashboard"),this.loading=!1}}};a("15a5");const fa=q()(ga,[["render",va],["__scopeId","data-v-48df06ae"]]);var ya=fa;const ka={class:"my-collection"},wa={class:"collection-header"},Ca={class:"stats"},Sa={class:"stat-item"},_a={class:"stat-content"},xa={class:"stat-item"},Aa={class:"stat-content"},Pa={key:0,class:"cards-grid"},Ma=["onClick"],Ha={class:"card-hover-overlay"},Ia=["onClick"],Ua={class:"card-content"},qa=["src","alt"],Da={class:"card-details"},Ta={class:"card-meta"},Fa={class:"card-set"},Ra={key:0,class:"card-rarity"},Va={key:0,class:"card-price"},Na={key:1,class:"empty-state"};function Ea(e,t,a,s,i,l){const r=Object(c["D"])("router-link"),n=Object(c["D"])("CardDetailsModal");return Object(c["x"])(),Object(c["h"])("div",ka,[Object(c["i"])("div",wa,[t[5]||(t[5]=Object(c["i"])("h1",null,"My Collection",-1)),Object(c["i"])("div",Ca,[Object(c["i"])("div",Sa,[t[2]||(t[2]=Object(c["i"])("span",{class:"material-symbols-rounded"},"diamond",-1)),Object(c["i"])("div",_a,[t[1]||(t[1]=Object(c["i"])("h3",null,"Total Cards",-1)),Object(c["i"])("p",null,Object(c["H"])(i.collection.length),1)])]),Object(c["i"])("div",xa,[t[4]||(t[4]=Object(c["i"])("span",{class:"material-symbols-rounded"},"payments",-1)),Object(c["i"])("div",Aa,[t[3]||(t[3]=Object(c["i"])("h3",null,"Total Value",-1)),Object(c["i"])("p",null,"$"+Object(c["H"])(l.totalValue.toFixed(2)),1)])])])]),i.collection.length?(Object(c["x"])(),Object(c["h"])("div",Pa,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(i.collection,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:"card-item",onClick:t=>l.showCardDetails(e)},[Object(c["i"])("div",Ha,[Object(c["i"])("button",{class:"action-button",onClick:Object(c["R"])(t=>l.removeFromCollection(e.id),["stop"]),title:"Remove from Collection"},t[6]||(t[6]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"remove_circle",-1)]),8,Ia)]),Object(c["i"])("div",Ua,[Object(c["i"])("img",{src:e.imageUrl||e.images.small,alt:e.name,loading:"lazy"},null,8,qa),Object(c["i"])("div",Da,[Object(c["i"])("h3",null,Object(c["H"])(e.name),1),Object(c["i"])("div",Ta,[Object(c["i"])("span",Fa,Object(c["H"])(e.set.name),1),e.rarity?(Object(c["x"])(),Object(c["h"])("span",Ra,Object(c["H"])(e.rarity),1)):Object(c["g"])("",!0)]),"N/A"!==e.price?(Object(c["x"])(),Object(c["h"])("div",Va," €"+Object(c["H"])(Number(e.price).toFixed(2)),1)):Object(c["g"])("",!0)])])],8,Ma))),128))])):(Object(c["x"])(),Object(c["h"])("div",Na,[t[8]||(t[8]=Object(c["i"])("span",{class:"material-symbols-rounded"},"category",-1)),t[9]||(t[9]=Object(c["i"])("h2",null,"Your collection is empty",-1)),t[10]||(t[10]=Object(c["i"])("p",null,"Start adding cards from the collection page!",-1)),Object(c["l"])(r,{to:"/collection",class:"browse-button"},{default:Object(c["O"])(()=>t[7]||(t[7]=[Object(c["k"])(" Browse Cards ")])),_:1})])),i.selectedCard?(Object(c["x"])(),Object(c["f"])(n,{key:2,card:i.selectedCard,onClose:t[0]||(t[0]=e=>i.selectedCard=null)},null,8,["card"])):Object(c["g"])("",!0)])}var La={components:{Card:Ze,CardDetailsModal:qt},data(){return{collection:[],selectedCard:null}},computed:{totalValue(){return this.collection.reduce((e,t)=>{const a="number"===typeof t.price?t.price:0;return e+a},0)}},methods:{loadCollection(){const e=Ht.getCollection();this.collection=e.map(e=>({...e,price:"N/A"!==e.price?Number(e.price):"N/A"}))},removeFromCollection(e){Ht.removeFromCollection(e),this.loadCollection()},showCardDetails(e){this.selectedCard=e}},mounted(){this.loadCollection()}};a("7265");const Wa=q()(La,[["render",Ea],["__scopeId","data-v-11103bb6"]]);var Ba=Wa;const $a={class:"wishlist"},za={class:"wishlist-header"},Qa={class:"stats"},Ja={class:"stat-item"},Ka={class:"stat-content"},Ga={class:"stat-item"},Za={class:"stat-content"},Xa={key:0,class:"cards-grid"},Ya=["onClick"],ec={key:0,class:"store-badge"},tc={class:"card-hover-overlay"},ac=["onClick"],cc=["onClick"],sc={class:"card-content"},ic=["src","alt"],lc={class:"card-details"},rc={class:"card-meta"},nc={class:"card-set"},oc={key:0,class:"card-rarity"},dc={key:0,class:"card-price"},bc={key:1,class:"empty-state"};function uc(e,t,a,s,i,l){const r=Object(c["D"])("router-link"),n=Object(c["D"])("CardDetailsModal");return Object(c["x"])(),Object(c["h"])("div",$a,[Object(c["i"])("div",za,[t[5]||(t[5]=Object(c["i"])("h1",null,"My Wishlist",-1)),Object(c["i"])("div",Qa,[Object(c["i"])("div",Ja,[t[2]||(t[2]=Object(c["i"])("span",{class:"material-symbols-rounded"},"favorite",-1)),Object(c["i"])("div",Ka,[t[1]||(t[1]=Object(c["i"])("h3",null,"Wanted Cards",-1)),Object(c["i"])("p",null,Object(c["H"])(i.wishlist.length),1)])]),Object(c["i"])("div",Ga,[t[4]||(t[4]=Object(c["i"])("span",{class:"material-symbols-rounded"},"savings",-1)),Object(c["i"])("div",Za,[t[3]||(t[3]=Object(c["i"])("h3",null,"Total Value",-1)),Object(c["i"])("p",null,"$"+Object(c["H"])(l.estimatedTotal.toFixed(2)),1)])])])]),i.wishlist.length?(Object(c["x"])(),Object(c["h"])("div",Xa,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(i.wishlist,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:Object(c["r"])(["card-item",{"available-in-store":l.isAvailableInStore(e.id)}]),onClick:t=>l.showCardDetails(e)},[l.isAvailableInStore(e.id)?(Object(c["x"])(),Object(c["h"])("div",ec,t[6]||(t[6]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"shopping_cart",-1),Object(c["k"])(" Available in Store ")]))):Object(c["g"])("",!0),Object(c["i"])("div",tc,[l.isInCollection(e.id)?Object(c["g"])("",!0):(Object(c["x"])(),Object(c["h"])("button",{key:0,class:"action-button collect",onClick:Object(c["R"])(t=>l.addToCollection(e),["stop"]),title:"Add to Collection"},t[7]||(t[7]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"add_circle",-1)]),8,ac)),Object(c["i"])("button",{class:"action-button remove",onClick:Object(c["R"])(t=>l.removeFromWishlist(e.id),["stop"]),title:"Remove from Wishlist"},t[8]||(t[8]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"favorite",-1)]),8,cc)]),Object(c["i"])("div",sc,[t[9]||(t[9]=Object(c["i"])("div",{class:"card-badge"},"Wishlist",-1)),Object(c["i"])("img",{src:e.imageUrl||e.images.small,alt:e.name,loading:"lazy"},null,8,ic),Object(c["i"])("div",lc,[Object(c["i"])("h3",null,Object(c["H"])(e.name),1),Object(c["i"])("div",rc,[Object(c["i"])("span",nc,Object(c["H"])(e.set.name),1),e.rarity?(Object(c["x"])(),Object(c["h"])("span",oc,Object(c["H"])(e.rarity),1)):Object(c["g"])("",!0)]),"N/A"!==e.price?(Object(c["x"])(),Object(c["h"])("div",dc," €"+Object(c["H"])(Number(e.price).toFixed(2)),1)):Object(c["g"])("",!0)])])],10,Ya))),128))])):(Object(c["x"])(),Object(c["h"])("div",bc,[t[11]||(t[11]=Object(c["i"])("span",{class:"material-symbols-rounded"},"favorite_border",-1)),t[12]||(t[12]=Object(c["i"])("h2",null,"Your wishlist is empty",-1)),t[13]||(t[13]=Object(c["i"])("p",null,"Start adding cards you want to collect!",-1)),Object(c["l"])(r,{to:"/collection",class:"browse-button"},{default:Object(c["O"])(()=>t[10]||(t[10]=[Object(c["k"])(" Browse Cards ")])),_:1})])),i.selectedCard?(Object(c["x"])(),Object(c["f"])(n,{key:2,card:i.selectedCard,onClose:t[0]||(t[0]=e=>i.selectedCard=null),onAddedToCollection:l.handleAddedToCollection},null,8,["card","onAddedToCollection"])):Object(c["g"])("",!0)])}function Oc(){const e=Object(c["A"])(new Map),t=async t=>{try{const{data:a}=await H["a"].from("products").select("*").eq("card_id",t).eq("active",!0).gt("stock",0).single();return e.value.set(t,a||null),a}catch(a){return console.error("Error checking store availability:",a),null}};return{availableProducts:e,checkStoreAvailability:t}}var jc={components:{Card:Ze,CardDetailsModal:qt},data(){return{wishlist:[],selectedCard:null}},computed:{estimatedTotal(){return this.wishlist.reduce((e,t)=>{const a="number"===typeof t.price?t.price:0;return e+a},0)}},setup(){const{availableProducts:e,checkStoreAvailability:t}=Oc();return{availableProducts:e,checkStoreAvailability:t}},methods:{loadWishlist(){const e=Ht.getWishlist();this.wishlist=e.map(e=>({...e,price:"N/A"!==e.price?Number(e.price):"N/A"}))},removeFromWishlist(e){Ht.removeFromWishlist(e),this.loadWishlist()},addToCollection(e){Ht.addToCollection(e),Ht.removeFromWishlist(e.id),this.loadWishlist()},isInCollection(e){return Ht.isInCollection(e)},showCardDetails(e){this.selectedCard=e},handleAddedToCollection(){this.loadWishlist()},isAvailableInStore(e){return void 0!==this.availableProducts.get(e)&&null!==this.availableProducts.get(e)},async checkWishlistAvailability(){for(const e of this.wishlist)await this.checkStoreAvailability(e.id)}},async mounted(){this.loadWishlist(),await this.checkWishlistAvailability()}};a("3743");const mc=q()(jc,[["render",uc],["__scopeId","data-v-706fa52c"]]);var pc=mc;const hc={class:"admin-container"},vc={class:"admin-header"},gc={class:"quick-stats"},fc={class:"stat-card"},yc={class:"stat-card"},kc={class:"stat-card"},wc={class:"admin-tabs"},Cc=["onClick"],Sc={class:"material-symbols-rounded"},_c={key:0,class:"admin-panel"},xc={class:"panel-header"},Ac={class:"search-box"},Pc={class:"table-container"},Mc={class:"data-table"},Hc={class:"actions"},Ic=["onClick"],Uc=["onClick"],qc={key:1,class:"admin-panel"},Dc={key:2,class:"admin-panel"},Tc={key:3,class:"admin-panel"},Fc={key:4,class:"admin-panel"},Rc={key:5,class:"admin-panel"},Vc={key:6,class:"admin-panel"},Nc={class:"form-section"},Ec={key:0,class:"form-group"},Lc={class:"input-wrapper"},Wc={key:1,class:"form-group"},Bc={class:"input-wrapper"},$c={class:"form-group"},zc={class:"input-wrapper"},Qc={class:"form-group"},Jc={class:"input-wrapper"},Kc={class:"form-group"},Gc={class:"select-wrapper"},Zc={class:"form-group"},Xc={class:"select-wrapper"},Yc={key:0,class:"error-message"},es={class:"form-actions"},ts=["disabled"],as={class:"modal-actions"};function cs(e,t,a,s,i,l){const r=Object(c["D"])("NewsManager"),n=Object(c["D"])("CardsManager"),o=Object(c["D"])("ReportsManager"),d=Object(c["D"])("SettingsManager"),b=Object(c["D"])("StoreManager"),u=Object(c["D"])("OrderManager"),O=Object(c["D"])("Modal");return Object(c["x"])(),Object(c["h"])("div",hc,[Object(c["i"])("div",vc,[t[19]||(t[19]=Object(c["i"])("h1",null,"Admin Dashboard",-1)),Object(c["i"])("div",gc,[Object(c["i"])("div",fc,[t[14]||(t[14]=Object(c["i"])("span",{class:"material-symbols-rounded"},"group",-1)),Object(c["i"])("div",null,[t[13]||(t[13]=Object(c["i"])("h3",null,"Total Users",-1)),Object(c["i"])("p",null,Object(c["H"])(s.stats.totalUsers),1)])]),Object(c["i"])("div",yc,[t[16]||(t[16]=Object(c["i"])("span",{class:"material-symbols-rounded"},"style",-1)),Object(c["i"])("div",null,[t[15]||(t[15]=Object(c["i"])("h3",null,"Total Cards",-1)),Object(c["i"])("p",null,Object(c["H"])(s.stats.totalCards),1)])]),Object(c["i"])("div",kc,[t[18]||(t[18]=Object(c["i"])("span",{class:"material-symbols-rounded"},"today",-1)),Object(c["i"])("div",null,[t[17]||(t[17]=Object(c["i"])("h3",null,"New Today",-1)),Object(c["i"])("p",null,Object(c["H"])(s.stats.newToday),1)])])])]),Object(c["i"])("div",wc,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.tabs,e=>(Object(c["x"])(),Object(c["h"])("button",{key:e.id,class:Object(c["r"])({active:s.currentTab===e.id}),onClick:t=>s.currentTab=e.id},[Object(c["i"])("span",Sc,Object(c["H"])(e.icon),1),Object(c["k"])(" "+Object(c["H"])(e.name),1)],10,Cc))),128))]),"users"===s.currentTab?(Object(c["x"])(),Object(c["h"])("div",_c,[Object(c["i"])("div",xc,[Object(c["i"])("div",Ac,[t[20]||(t[20]=Object(c["i"])("span",{class:"material-symbols-rounded"},"search",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.userSearch=e),type:"text",placeholder:"Search users..."},null,512),[[c["M"],s.userSearch]])]),Object(c["i"])("button",{class:"add-button",onClick:t[1]||(t[1]=(...e)=>s.initNewUser&&s.initNewUser(...e))},t[21]||(t[21]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"person_add",-1),Object(c["k"])(" Add User ")]))]),Object(c["i"])("div",Pc,[Object(c["i"])("table",Mc,[t[24]||(t[24]=Object(c["i"])("thead",null,[Object(c["i"])("tr",null,[Object(c["i"])("th",null,"Email"),Object(c["i"])("th",null,"Name"),Object(c["i"])("th",null,"Role"),Object(c["i"])("th",null,"Status"),Object(c["i"])("th",null,"Joined"),Object(c["i"])("th",null,"Actions")])],-1)),Object(c["i"])("tbody",null,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.filteredUsers,e=>(Object(c["x"])(),Object(c["h"])("tr",{key:e.id},[Object(c["i"])("td",null,Object(c["H"])(e.email),1),Object(c["i"])("td",null,Object(c["H"])(e.full_name||"-"),1),Object(c["i"])("td",null,[Object(c["i"])("span",{class:Object(c["r"])(["role-badge",e.role])},Object(c["H"])(e.role),3)]),Object(c["i"])("td",null,[Object(c["i"])("span",{class:Object(c["r"])(["status-badge",e.status])},Object(c["H"])(e.status),3)]),Object(c["i"])("td",null,Object(c["H"])(s.formatDate(e.created_at)),1),Object(c["i"])("td",Hc,[Object(c["i"])("button",{onClick:t=>s.editUser(e),class:"icon-button"},t[22]||(t[22]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"edit",-1)]),8,Ic),Object(c["i"])("button",{onClick:t=>s.confirmDeleteUser(e),class:"icon-button danger"},t[23]||(t[23]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"delete",-1)]),8,Uc)])]))),128))])])])])):Object(c["g"])("",!0),"news"===s.currentTab?(Object(c["x"])(),Object(c["h"])("div",qc,[Object(c["l"])(r)])):Object(c["g"])("",!0),"cards"===s.currentTab?(Object(c["x"])(),Object(c["h"])("div",Dc,[Object(c["l"])(n)])):Object(c["g"])("",!0),"reports"===s.currentTab?(Object(c["x"])(),Object(c["h"])("div",Tc,[Object(c["l"])(o)])):Object(c["g"])("",!0),"settings"===s.currentTab?(Object(c["x"])(),Object(c["h"])("div",Fc,[Object(c["l"])(d)])):Object(c["g"])("",!0),"store"===s.currentTab?(Object(c["x"])(),Object(c["h"])("div",Rc,[Object(c["l"])(b)])):Object(c["g"])("",!0),"orders"===s.currentTab?(Object(c["x"])(),Object(c["h"])("div",Vc,[Object(c["l"])(u)])):Object(c["g"])("",!0),s.showEditModal?(Object(c["x"])(),Object(c["f"])(O,{key:7,onClose:s.closeEditModal},{header:Object(c["O"])(()=>[Object(c["i"])("h2",null,Object(c["H"])(s.editingUser&&s.editingUser.id?"Edit User":"Add User"),1)]),default:Object(c["O"])(()=>[Object(c["i"])("form",{onSubmit:t[9]||(t[9]=Object(c["R"])((...e)=>s.saveUser&&s.saveUser(...e),["prevent"])),class:"edit-form"},[Object(c["i"])("div",Nc,[s.editingUser&&s.editingUser.id?Object(c["g"])("",!0):(Object(c["x"])(),Object(c["h"])("div",Ec,[t[25]||(t[25]=Object(c["i"])("label",null,"Email *",-1)),Object(c["i"])("div",Lc,[Object(c["P"])(Object(c["i"])("input",{type:"email","onUpdate:modelValue":t[2]||(t[2]=e=>s.userForm.email=e),required:"",placeholder:"user@example.com"},null,512),[[c["M"],s.userForm.email]])])])),s.editingUser&&s.editingUser.id?Object(c["g"])("",!0):(Object(c["x"])(),Object(c["h"])("div",Wc,[t[26]||(t[26]=Object(c["i"])("label",null,"Password *",-1)),Object(c["i"])("div",Bc,[Object(c["P"])(Object(c["i"])("input",{type:"password","onUpdate:modelValue":t[3]||(t[3]=e=>s.userForm.password=e),required:"",placeholder:"Enter password",minlength:"6"},null,512),[[c["M"],s.userForm.password]])])])),Object(c["i"])("div",$c,[t[27]||(t[27]=Object(c["i"])("label",null,"First Name",-1)),Object(c["i"])("div",zc,[Object(c["P"])(Object(c["i"])("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>s.userForm.first_name=e),placeholder:"Enter first name"},null,512),[[c["M"],s.userForm.first_name]])])]),Object(c["i"])("div",Qc,[t[28]||(t[28]=Object(c["i"])("label",null,"Last Name",-1)),Object(c["i"])("div",Jc,[Object(c["P"])(Object(c["i"])("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>s.userForm.last_name=e),placeholder:"Enter last name"},null,512),[[c["M"],s.userForm.last_name]])])]),Object(c["i"])("div",Kc,[t[31]||(t[31]=Object(c["i"])("label",null,"Role",-1)),Object(c["i"])("div",Gc,[Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>s.userForm.role=e)},t[29]||(t[29]=[Object(c["i"])("option",{value:"user"},"Regular User",-1),Object(c["i"])("option",{value:"admin"},"Administrator",-1)]),512),[[c["L"],s.userForm.role]]),t[30]||(t[30]=Object(c["i"])("span",{class:"material-symbols-rounded"},"expand_more",-1))])]),Object(c["i"])("div",Zc,[t[34]||(t[34]=Object(c["i"])("label",null,"Status",-1)),Object(c["i"])("div",Xc,[Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>s.userForm.status=e)},t[32]||(t[32]=[Object(c["i"])("option",{value:"active"},"Active",-1),Object(c["i"])("option",{value:"suspended"},"Suspended",-1)]),512),[[c["L"],s.userForm.status]]),t[33]||(t[33]=Object(c["i"])("span",{class:"material-symbols-rounded"},"expand_more",-1))])])]),s.formError?(Object(c["x"])(),Object(c["h"])("div",Yc,Object(c["H"])(s.formError),1)):Object(c["g"])("",!0),Object(c["i"])("div",es,[Object(c["i"])("button",{type:"button",class:"cancel-button",onClick:t[8]||(t[8]=(...e)=>s.closeEditModal&&s.closeEditModal(...e))}," Cancel "),Object(c["i"])("button",{type:"submit",class:"save-button",disabled:s.isSubmitting},Object(c["H"])(s.isSubmitting?"Saving...":"Save Changes"),9,ts)])],32)]),_:1},8,["onClose"])):Object(c["g"])("",!0),s.showDeleteModal?(Object(c["x"])(),Object(c["f"])(O,{key:8,onClose:t[12]||(t[12]=e=>s.showDeleteModal=!1)},{header:Object(c["O"])(()=>t[35]||(t[35]=[Object(c["i"])("h2",null,"Confirm Delete",-1)])),default:Object(c["O"])(()=>[t[36]||(t[36]=Object(c["i"])("p",null,"Are you sure you want to delete this user?",-1)),Object(c["i"])("div",as,[Object(c["i"])("button",{onClick:t[10]||(t[10]=e=>s.showDeleteModal=!1)},"Cancel"),Object(c["i"])("button",{onClick:t[11]||(t[11]=(...e)=>s.deleteUser&&s.deleteUser(...e)),class:"danger"},"Delete")])]),_:1})):Object(c["g"])("",!0)])}var ss=a("714b");const is={class:"news-manager"},ls={class:"panel-header"},rs={class:"articles-list"},ns={class:"article-content"},os={class:"article-date"},ds={class:"article-tags"},bs={class:"article-actions"},us=["onClick"],Os=["onClick"],js={class:"form-group"},ms={class:"form-group"},ps={class:"form-group"},hs={class:"form-group"},vs={class:"tags-preview"},gs=["onClick"],fs={class:"form-actions"};function ys(e,t,a,s,i,l){const r=Object(c["D"])("Modal");return Object(c["x"])(),Object(c["h"])("div",is,[Object(c["i"])("div",ls,[t[9]||(t[9]=Object(c["i"])("h2",null,"News Articles",-1)),Object(c["i"])("button",{class:"add-button",onClick:t[0]||(t[0]=(...e)=>s.showAddModal&&s.showAddModal(...e))},t[8]||(t[8]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"post_add",-1),Object(c["k"])(" Create Article ")]))]),Object(c["i"])("div",rs,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.articles,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:"article-card"},[Object(c["i"])("div",ns,[Object(c["i"])("span",os,Object(c["H"])(s.formatDate(e.created_at)),1),Object(c["i"])("h3",null,Object(c["H"])(e.title),1),Object(c["i"])("p",null,Object(c["H"])(e.excerpt),1),Object(c["i"])("div",ds,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(e.tags,e=>(Object(c["x"])(),Object(c["h"])("span",{key:e,class:"tag"},Object(c["H"])(e),1))),128))])]),Object(c["i"])("div",bs,[Object(c["i"])("button",{onClick:t=>s.editArticle(e),class:"icon-button"},t[10]||(t[10]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"edit",-1)]),8,us),Object(c["i"])("button",{onClick:t=>s.deleteArticle(e.id),class:"icon-button danger"},t[11]||(t[11]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"delete",-1)]),8,Os)])]))),128))]),s.showModal?(Object(c["x"])(),Object(c["f"])(r,{key:0,onClose:s.closeModal},{header:Object(c["O"])(()=>[Object(c["i"])("h2",null,Object(c["H"])(s.editingArticle?"Edit Article":"Create Article"),1)]),default:Object(c["O"])(()=>[Object(c["i"])("form",{onSubmit:t[7]||(t[7]=Object(c["R"])((...e)=>s.saveArticle&&s.saveArticle(...e),["prevent"])),class:"article-form"},[Object(c["i"])("div",js,[t[12]||(t[12]=Object(c["i"])("label",null,"Title *",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.articleForm.title=e),required:"",type:"text"},null,512),[[c["M"],s.articleForm.title]])]),Object(c["i"])("div",ms,[t[13]||(t[13]=Object(c["i"])("label",null,"Excerpt *",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>s.articleForm.excerpt=e),required:"",type:"text"},null,512),[[c["M"],s.articleForm.excerpt]])]),Object(c["i"])("div",ps,[t[14]||(t[14]=Object(c["i"])("label",null,"Content *",-1)),Object(c["P"])(Object(c["i"])("textarea",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.articleForm.content=e),required:"",rows:"6"},null,512),[[c["M"],s.articleForm.content]])]),Object(c["i"])("div",hs,[t[15]||(t[15]=Object(c["i"])("label",null,"Tags",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>s.tagInput=e),onKeydown:t[5]||(t[5]=Object(c["Q"])(Object(c["R"])((...e)=>s.addTag&&s.addTag(...e),["prevent"]),["enter"])),placeholder:"Press enter to add tag"},null,544),[[c["M"],s.tagInput]]),Object(c["i"])("div",vs,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.articleForm.tags,e=>(Object(c["x"])(),Object(c["h"])("span",{key:e,class:"tag",onClick:t=>s.removeTag(e)},Object(c["H"])(e)+" × ",9,gs))),128))])]),Object(c["i"])("div",fs,[Object(c["i"])("button",{type:"button",onClick:t[6]||(t[6]=(...e)=>s.closeModal&&s.closeModal(...e))},"Cancel"),t[16]||(t[16]=Object(c["i"])("button",{type:"submit",class:"primary"},"Save Article",-1))])],32)]),_:1},8,["onClose"])):Object(c["g"])("",!0)])}var ks={name:"NewsManager",components:{Modal:ss["a"]},setup(){const e=Object(c["A"])([]),t=Object(c["A"])(!1),a=Object(c["A"])(null),s=Object(c["A"])(""),i=Object(c["A"])({title:"",excerpt:"",content:"",tags:[]}),l=()=>{i.value={title:"",excerpt:"",content:"",tags:[]},a.value=null,s.value=""},r=async()=>{const{data:t,error:a}=await H["a"].from("news_articles").select("*").order("created_at",{ascending:!1});a||(e.value=t)},n=()=>{l(),t.value=!0},o=e=>{a.value=e,i.value={...e},t.value=!0},d=async()=>{const e={...i.value,updated_at:new Date};a.value?await H["a"].from("news_articles").update(e).eq("id",a.value.id):await H["a"].from("news_articles").insert([e]),await r(),j()},b=async e=>{confirm("Are you sure you want to delete this article?")&&(await H["a"].from("news_articles").delete().eq("id",e),await r())},u=()=>{const e=s.value.trim();e&&!i.value.tags.includes(e)&&i.value.tags.push(e),s.value=""},O=e=>{i.value.tags=i.value.tags.filter(t=>t!==e)},j=()=>{t.value=!1,l()};return Object(c["v"])(r),{articles:e,showModal:t,editingArticle:a,articleForm:i,tagInput:s,showAddModal:n,editArticle:o,saveArticle:d,deleteArticle:b,addTag:u,removeTag:O,closeModal:j,formatDate:e=>new Date(e).toLocaleDateString()}}};a("5e33");const ws=q()(ks,[["render",ys],["__scopeId","data-v-075acf4a"]]);var Cs=ws;const Ss={class:"cards-manager"},_s={class:"panel-header"},xs={class:"actions"},As={class:"panel-content"},Ps={class:"cards-stats"},Ms={class:"stat-item"},Hs={class:"stat-item"},Is={class:"cards-grid"},Us=["src","alt"],qs={class:"card-info"},Ds={class:"card-actions"},Ts=["onClick"],Fs=["onClick"];function Rs(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",Ss,[Object(c["i"])("div",_s,[Object(c["i"])("div",xs,[Object(c["i"])("button",{class:"action-button",onClick:t[0]||(t[0]=(...t)=>e.syncCards&&e.syncCards(...t))},t[2]||(t[2]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"sync",-1),Object(c["k"])(" Sync with API ")])),Object(c["i"])("button",{class:"action-button",onClick:t[1]||(t[1]=(...t)=>e.importCards&&e.importCards(...t))},t[3]||(t[3]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"upload_file",-1),Object(c["k"])(" Import Cards ")]))])]),Object(c["i"])("div",As,[Object(c["i"])("div",Ps,[Object(c["i"])("div",Ms,[t[4]||(t[4]=Object(c["i"])("h4",null,"Total Cards",-1)),Object(c["i"])("p",null,Object(c["H"])(s.stats.total),1)]),Object(c["i"])("div",Hs,[t[5]||(t[5]=Object(c["i"])("h4",null,"Last Synced",-1)),Object(c["i"])("p",null,Object(c["H"])(s.stats.lastSync?s.formatDate(s.stats.lastSync):"Never"),1)])]),Object(c["i"])("div",Is,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.cards,a=>(Object(c["x"])(),Object(c["h"])("div",{key:a.id,class:"card-item"},[Object(c["i"])("img",{src:a.imageUrl,alt:a.name},null,8,Us),Object(c["i"])("div",qs,[Object(c["i"])("h3",null,Object(c["H"])(a.name),1),Object(c["i"])("p",null,"$"+Object(c["H"])(a.price),1),Object(c["i"])("div",Ds,[Object(c["i"])("button",{onClick:t=>e.editCard(a)},t[6]||(t[6]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"edit",-1)]),8,Ts),Object(c["i"])("button",{onClick:t=>e.deleteCard(a.id),class:"danger"},t[7]||(t[7]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"delete",-1)]),8,Fs)])])]))),128))])])])}var Vs={name:"CardsManager",setup(){const e=Object(c["A"])([]),t=Object(c["A"])({total:0,lastSync:null});async function a(){const{data:a,error:c}=await H["a"].from("cards").select("*").order("name");c||(e.value=a,t.value.total=a.length)}return Object(c["v"])(a),{cards:e,stats:t,formatDate:e=>new Date(e).toLocaleDateString()}}};a("0e58");const Ns=q()(Vs,[["render",Rs],["__scopeId","data-v-1bee8475"]]);var Es=Ns;const Ls={class:"reports-manager"},Ws={class:"reports-grid"},Bs={class:"report-card"},$s={class:"stat-list"},zs={class:"stat-item"},Qs={class:"stat-value"},Js={class:"stat-item"},Ks={class:"stat-value"},Gs={class:"report-card"},Zs={class:"stat-list"},Xs={class:"stat-item"},Ys={class:"stat-value"},ei={class:"stat-item"},ti={class:"stat-value"},ai={class:"report-card highlight"},ci={class:"ranking-list"},si={class:"rank-info"},ii=["src","alt"],li={class:"report-card"},ri={class:"activity-list"},ni={class:"activity-content"},oi={class:"activity-time"};function di(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",Ls,[Object(c["i"])("div",Ws,[Object(c["i"])("div",Bs,[t[4]||(t[4]=Object(c["i"])("h3",null,"User Analytics",-1)),Object(c["i"])("div",$s,[Object(c["i"])("div",zs,[t[0]||(t[0]=Object(c["i"])("span",{class:"stat-label"},"Active Users",-1)),Object(c["i"])("span",Qs,Object(c["H"])(s.stats.activeUsers),1),t[1]||(t[1]=Object(c["i"])("span",{class:"stat-trend up"},"+12.5%",-1))]),Object(c["i"])("div",Js,[t[2]||(t[2]=Object(c["i"])("span",{class:"stat-label"},"Average Collection Size",-1)),Object(c["i"])("span",Ks,Object(c["H"])(s.stats.avgCollectionSize),1),t[3]||(t[3]=Object(c["i"])("span",{class:"stat-trend up"},"+5.2%",-1))])])]),Object(c["i"])("div",Gs,[t[8]||(t[8]=Object(c["i"])("h3",null,"Market Overview",-1)),Object(c["i"])("div",Zs,[Object(c["i"])("div",Xs,[t[5]||(t[5]=Object(c["i"])("span",{class:"stat-label"},"Total Market Value",-1)),Object(c["i"])("span",Ys,"$"+Object(c["H"])(s.formatNumber(s.stats.totalMarketValue)),1)]),Object(c["i"])("div",ei,[t[6]||(t[6]=Object(c["i"])("span",{class:"stat-label"},"Average Card Price",-1)),Object(c["i"])("span",ti,"$"+Object(c["H"])(s.stats.avgCardPrice),1),t[7]||(t[7]=Object(c["i"])("span",{class:"stat-trend down"},"-2.1%",-1))])])]),Object(c["i"])("div",ai,[t[9]||(t[9]=Object(c["i"])("h3",null,"Most Popular Cards",-1)),Object(c["i"])("ol",ci,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.popularCards,e=>(Object(c["x"])(),Object(c["h"])("li",{key:e.id},[Object(c["i"])("div",si,[Object(c["i"])("img",{src:e.imageUrl,alt:e.name},null,8,ii),Object(c["i"])("div",null,[Object(c["i"])("h4",null,Object(c["H"])(e.name),1),Object(c["i"])("p",null,Object(c["H"])(e.count)+" collections",1)])]),Object(c["i"])("span",{class:Object(c["r"])(["trend",e.trend])},Object(c["H"])(e.change)+"%",3)]))),128))])]),Object(c["i"])("div",li,[t[10]||(t[10]=Object(c["i"])("h3",null,"Recent Activity",-1)),Object(c["i"])("div",ri,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.recentActivity,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:"activity-item"},[Object(c["i"])("span",{class:"material-symbols-rounded",style:Object(c["s"])({color:e.color})},Object(c["H"])(e.icon),5),Object(c["i"])("div",ni,[Object(c["i"])("p",null,Object(c["H"])(e.description),1),Object(c["i"])("span",oi,Object(c["H"])(e.time),1)])]))),128))])])])])}var bi={name:"ReportsManager",setup(){const e=Object(c["A"])({activeUsers:1234,avgCollectionSize:156,totalMarketValue:25e5,avgCardPrice:45.99}),t=Object(c["A"])([{id:1,name:"Charizard VMAX",imageUrl:"/path/to/image",count:1560,trend:"up",change:"+15.2"}]),a=Object(c["A"])([{id:1,icon:"add_circle",color:"var(--system-green)",description:"New user registered",time:"5 minutes ago"}]),s=e=>(new Intl.NumberFormat).format(e);async function i(){}return Object(c["v"])(i),{stats:e,popularCards:t,recentActivity:a,formatNumber:s}}};a("c395");const ui=q()(bi,[["render",di],["__scopeId","data-v-df595634"]]);var Oi=ui;const ji={class:"settings-manager"},mi={class:"settings-grid"},pi={class:"settings-card"},hi={class:"settings-section"},vi={class:"setting-item"},gi={class:"switch"},fi={class:"setting-item"},yi={class:"switch"},ki={class:"setting-item"},wi={class:"switch"},Ci={class:"settings-card"},Si={class:"settings-section"},_i={class:"setting-field"},xi={class:"input-group"},Ai=["type"],Pi={class:"material-symbols-rounded"},Mi={class:"setting-field"},Hi={class:"setting-field"},Ii={class:"settings-card"},Ui={class:"settings-section"},qi={class:"setting-field"},Di={class:"settings-actions"},Ti=["disabled"];function Fi(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",ji,[Object(c["i"])("div",mi,[Object(c["i"])("div",pi,[t[17]||(t[17]=Object(c["i"])("h3",null,"General Settings",-1)),Object(c["i"])("div",hi,[Object(c["i"])("div",vi,[t[12]||(t[12]=Object(c["i"])("div",{class:"setting-content"},[Object(c["i"])("h4",null,"Maintenance Mode"),Object(c["i"])("p",null,"Block access to the application")],-1)),Object(c["i"])("label",gi,[Object(c["P"])(Object(c["i"])("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>s.settings.maintenanceMode=e)},null,512),[[c["J"],s.settings.maintenanceMode]]),t[11]||(t[11]=Object(c["i"])("span",{class:"slider"},null,-1))])]),Object(c["i"])("div",fi,[t[14]||(t[14]=Object(c["i"])("div",{class:"setting-content"},[Object(c["i"])("h4",null,"User Registration"),Object(c["i"])("p",null,"Allow new users to register")],-1)),Object(c["i"])("label",yi,[Object(c["P"])(Object(c["i"])("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=e=>s.settings.allowRegistration=e)},null,512),[[c["J"],s.settings.allowRegistration]]),t[13]||(t[13]=Object(c["i"])("span",{class:"slider"},null,-1))])]),Object(c["i"])("div",ki,[t[16]||(t[16]=Object(c["i"])("div",{class:"setting-content"},[Object(c["i"])("h4",null,"Email Notifications"),Object(c["i"])("p",null,"Send emails for important updates")],-1)),Object(c["i"])("label",wi,[Object(c["P"])(Object(c["i"])("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=e=>s.settings.emailNotifications=e)},null,512),[[c["J"],s.settings.emailNotifications]]),t[15]||(t[15]=Object(c["i"])("span",{class:"slider"},null,-1))])])])]),Object(c["i"])("div",Ci,[t[22]||(t[22]=Object(c["i"])("h3",null,"API Configuration",-1)),Object(c["i"])("div",Si,[Object(c["i"])("div",_i,[t[18]||(t[18]=Object(c["i"])("label",null,"API Key",-1)),Object(c["i"])("div",xi,[Object(c["P"])(Object(c["i"])("input",{type:s.showApiKey?"text":"password","onUpdate:modelValue":t[3]||(t[3]=e=>s.settings.apiKey=e)},null,8,Ai),[[c["K"],s.settings.apiKey]]),Object(c["i"])("button",{onClick:t[4]||(t[4]=e=>s.showApiKey=!s.showApiKey),class:"icon-button"},[Object(c["i"])("span",Pi,Object(c["H"])(s.showApiKey?"visibility_off":"visibility"),1)])])]),Object(c["i"])("div",Mi,[t[19]||(t[19]=Object(c["i"])("label",null,"Rate Limit (requests/minute)",-1)),Object(c["P"])(Object(c["i"])("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=e=>s.settings.rateLimit=e),min:"1",max:"1000"},null,512),[[c["M"],s.settings.rateLimit]])]),Object(c["i"])("div",Hi,[t[21]||(t[21]=Object(c["i"])("label",null,"API Version",-1)),Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>s.settings.apiVersion=e)},t[20]||(t[20]=[Object(c["i"])("option",{value:"v1"},"Version 1.0",-1),Object(c["i"])("option",{value:"v2"},"Version 2.0",-1)]),512),[[c["L"],s.settings.apiVersion]])])])]),Object(c["i"])("div",Ii,[t[25]||(t[25]=Object(c["i"])("h3",null,"Cache Settings",-1)),Object(c["i"])("div",Ui,[Object(c["i"])("div",qi,[t[23]||(t[23]=Object(c["i"])("label",null,"Cache Duration (minutes)",-1)),Object(c["P"])(Object(c["i"])("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=e=>s.settings.cacheDuration=e),min:"5",max:"1440"},null,512),[[c["M"],s.settings.cacheDuration]])]),Object(c["i"])("button",{onClick:t[8]||(t[8]=(...e)=>s.clearCache&&s.clearCache(...e)),class:"action-button"},t[24]||(t[24]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"delete",-1),Object(c["k"])(" Clear Cache ")]))])])]),Object(c["i"])("div",Di,[Object(c["i"])("button",{class:"secondary",onClick:t[9]||(t[9]=(...e)=>s.resetSettings&&s.resetSettings(...e))},"Reset to Defaults"),Object(c["i"])("button",{class:"primary",onClick:t[10]||(t[10]=(...e)=>s.saveSettings&&s.saveSettings(...e)),disabled:s.isSaving},Object(c["H"])(s.isSaving?"Saving...":"Save Changes"),9,Ti)])])}var Ri={name:"SettingsManager",setup(){const e=Object(c["A"])({maintenanceMode:!1,allowRegistration:!0,emailNotifications:!1,apiKey:"",rateLimit:100,apiVersion:"v1",cacheDuration:60}),t=Object(c["A"])(!1),a=Object(c["A"])(!1);async function s(){const{data:t}=await H["a"].from("app_settings").select("*").single();t&&(e.value={...e.value,...t})}async function i(){a.value=!0,await H["a"].from("app_settings").upsert(e.value),a.value=!1}async function l(){}function r(){e.value={maintenanceMode:!1,allowRegistration:!0,emailNotifications:!1,apiKey:"",rateLimit:100,apiVersion:"v1",cacheDuration:60}}return Object(c["v"])(s),{settings:e,showApiKey:t,isSaving:a,saveSettings:i,clearCache:l,resetSettings:r}}};a("5121");const Vi=q()(Ri,[["render",Fi],["__scopeId","data-v-573dd3cd"]]);var Ni=Vi;const Ei={class:"store-manager"},Li={class:"stats-grid"},Wi={class:"stat-card"},Bi={class:"stat-value"},$i={key:0,class:"stat-trend up"},zi={class:"stat-card"},Qi={class:"stat-value"},Ji={key:0,class:"stat-card warning"},Ki={class:"stat-value"},Gi={class:"stat-action"},Zi={class:"actions-bar"},Xi={class:"search-box"},Yi={class:"action-buttons"},el={key:0,class:"bulk-actions-bar"},tl={class:"selection-info"},al={class:"bulk-actions"},cl={class:"products-table"},sl=["checked"],il=["value"],ll={class:"product-cell"},rl=["src","alt"],nl={class:"product-info"},ol={key:0},dl={class:"actions-cell"},bl=["onClick"],ul=["onClick"],Ol=["onClick"],jl={class:"material-symbols-rounded"},ml={class:"delete-confirmation"},pl={key:0},hl={key:1},vl={class:"modal-actions"};function gl(e,t,a,s,i,l){const r=Object(c["D"])("ProductForm"),n=Object(c["D"])("Modal"),o=Object(c["D"])("StockAdjustmentForm");return Object(c["x"])(),Object(c["h"])("div",Ei,[Object(c["i"])("div",Li,[Object(c["i"])("div",Wi,[t[10]||(t[10]=Object(c["i"])("h3",null,"Total Products",-1)),Object(c["i"])("p",Bi,Object(c["H"])(s.stats.totalProducts),1),s.stats.productTrend>0?(Object(c["x"])(),Object(c["h"])("div",$i," +"+Object(c["H"])(s.stats.productTrend)+"% from last month ",1)):Object(c["g"])("",!0)]),Object(c["i"])("div",zi,[t[11]||(t[11]=Object(c["i"])("h3",null,"Total Sales",-1)),Object(c["i"])("p",Qi,"$"+Object(c["H"])(s.stats.totalSales),1),Object(c["i"])("div",{class:Object(c["r"])(["stat-trend",s.stats.salesTrend>0?"up":"down"])},Object(c["H"])(s.stats.salesTrend>0?"+":"")+Object(c["H"])(s.stats.salesTrend)+"% from last month ",3)]),s.stats.lowStock>0?(Object(c["x"])(),Object(c["h"])("div",Ji,[t[12]||(t[12]=Object(c["i"])("h3",null,"Low Stock Items",-1)),Object(c["i"])("p",Ki,Object(c["H"])(s.stats.lowStock),1),Object(c["i"])("div",Gi,[Object(c["i"])("button",{onClick:t[0]||(t[0]=(...t)=>e.showLowStock&&e.showLowStock(...t))},"View Items")])])):Object(c["g"])("",!0)]),Object(c["i"])("div",Zi,[Object(c["i"])("div",Xi,[t[13]||(t[13]=Object(c["i"])("span",{class:"material-symbols-rounded"},"search",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.search=e),type:"text",placeholder:"Search products..."},null,512),[[c["M"],s.search]])]),Object(c["i"])("div",Yi,[Object(c["i"])("button",{class:"secondary",onClick:t[2]||(t[2]=(...e)=>s.syncWithApi&&s.syncWithApi(...e))},t[14]||(t[14]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"sync",-1),Object(c["k"])(" Sync with API ")])),Object(c["i"])("button",{class:"primary",onClick:t[3]||(t[3]=e=>s.showAddProduct=!0)},t[15]||(t[15]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"add",-1),Object(c["k"])(" Add Product ")]))])]),s.selectedProducts.length>0?(Object(c["x"])(),Object(c["h"])("div",el,[Object(c["i"])("div",tl,Object(c["H"])(s.selectedProducts.length)+" items selected ",1),Object(c["i"])("div",al,[Object(c["i"])("button",{class:"danger",onClick:t[4]||(t[4]=(...e)=>s.confirmDeleteSelected&&s.confirmDeleteSelected(...e))},t[16]||(t[16]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"delete",-1),Object(c["k"])(" Delete Selected ")]))])])):Object(c["g"])("",!0),Object(c["i"])("div",cl,[Object(c["i"])("table",null,[Object(c["i"])("thead",null,[Object(c["i"])("tr",null,[Object(c["i"])("th",null,[Object(c["i"])("input",{type:"checkbox",checked:s.isAllSelected,onChange:t[5]||(t[5]=(...e)=>s.toggleSelectAll&&s.toggleSelectAll(...e))},null,40,sl)]),t[17]||(t[17]=Object(c["i"])("th",null,"Product",-1)),t[18]||(t[18]=Object(c["i"])("th",null,"Type",-1)),t[19]||(t[19]=Object(c["i"])("th",null,"CMP",-1)),t[20]||(t[20]=Object(c["i"])("th",null,"CSP",-1)),t[21]||(t[21]=Object(c["i"])("th",null,"Stock",-1)),t[22]||(t[22]=Object(c["i"])("th",null,"Status",-1)),t[23]||(t[23]=Object(c["i"])("th",null,"Actions",-1))])]),Object(c["i"])("tbody",null,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.filteredProducts,e=>(Object(c["x"])(),Object(c["h"])("tr",{key:e.id},[Object(c["i"])("td",null,[Object(c["P"])(Object(c["i"])("input",{type:"checkbox",value:e.id,"onUpdate:modelValue":t[6]||(t[6]=e=>s.selectedProducts=e)},null,8,il),[[c["J"],s.selectedProducts]])]),Object(c["i"])("td",ll,[Object(c["i"])("img",{src:e.image_url,alt:e.name},null,8,rl),Object(c["i"])("div",nl,[Object(c["i"])("h4",null,Object(c["H"])(e.name),1),e.metadata&&e.metadata.set?(Object(c["x"])(),Object(c["h"])("p",ol,Object(c["H"])(e.metadata.set.name),1)):Object(c["g"])("",!0)])]),Object(c["i"])("td",null,Object(c["H"])(e.type),1),Object(c["i"])("td",null,"$"+Object(c["H"])(s.getMarketPrice(e)),1),Object(c["i"])("td",null,"$"+Object(c["H"])(e.price),1),Object(c["i"])("td",{class:Object(c["r"])({"low-stock":e.stock<5})},Object(c["H"])(e.stock),3),Object(c["i"])("td",null,[Object(c["i"])("span",{class:Object(c["r"])(["status-badge",e.active?"active":"inactive"])},Object(c["H"])(e.active?"Active":"Inactive"),3)]),Object(c["i"])("td",dl,[Object(c["i"])("button",{class:"icon-button",onClick:t=>s.editProduct(e)},t[24]||(t[24]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"edit",-1)]),8,bl),Object(c["i"])("button",{class:"icon-button",onClick:t=>s.adjustStock(e)},t[25]||(t[25]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"inventory",-1)]),8,ul),Object(c["i"])("button",{class:"icon-button",onClick:t=>s.toggleProductStatus(e)},[Object(c["i"])("span",jl,Object(c["H"])(e.active?"visibility":"visibility_off"),1)],8,Ol)])]))),128))])])]),s.showAddProduct?(Object(c["x"])(),Object(c["f"])(n,{key:1,onClose:s.closeAddModal},{header:Object(c["O"])(()=>[Object(c["i"])("h2",null,Object(c["H"])(s.editingProduct?"Edit Product":"Add Product"),1)]),default:Object(c["O"])(()=>[Object(c["l"])(r,{product:s.editingProduct,onSave:s.saveProduct,onCancel:s.closeAddModal},null,8,["product","onSave","onCancel"])]),_:1},8,["onClose"])):Object(c["g"])("",!0),s.showStockModal?(Object(c["x"])(),Object(c["f"])(n,{key:2,onClose:s.closeStockModal},{header:Object(c["O"])(()=>t[26]||(t[26]=[Object(c["i"])("h2",null,"Adjust Stock",-1)])),default:Object(c["O"])(()=>[Object(c["l"])(o,{product:s.selectedProduct,onSave:s.updateStock,onCancel:s.closeStockModal},null,8,["product","onSave","onCancel"])]),_:1},8,["onClose"])):Object(c["g"])("",!0),s.showDeleteModal?(Object(c["x"])(),Object(c["f"])(n,{key:3,onClose:t[9]||(t[9]=e=>s.showDeleteModal=!1)},{header:Object(c["O"])(()=>t[27]||(t[27]=[Object(c["i"])("h2",null,"Confirm Delete",-1)])),default:Object(c["O"])(()=>[Object(c["i"])("div",ml,[s.selectedProducts.length===s.filteredProducts.length?(Object(c["x"])(),Object(c["h"])("p",pl," Are you sure you want to delete all products? ")):(Object(c["x"])(),Object(c["h"])("p",hl," Are you sure you want to delete "+Object(c["H"])(s.selectedProducts.length)+" selected products? ",1)),t[28]||(t[28]=Object(c["i"])("div",{class:"warning"},[Object(c["i"])("span",{class:"material-symbols-rounded"},"warning"),Object(c["k"])(" This action cannot be undone. ")],-1)),Object(c["i"])("div",vl,[Object(c["i"])("button",{class:"secondary",onClick:t[7]||(t[7]=e=>s.showDeleteModal=!1)}," Cancel "),Object(c["i"])("button",{class:"danger",onClick:t[8]||(t[8]=(...e)=>s.deleteSelected&&s.deleteSelected(...e))}," Delete ")])])]),_:1})):Object(c["g"])("",!0)])}const fl={class:"product-form-container"},yl={key:0,class:"mode-selection"},kl={key:1,class:"search-mode"},wl={class:"search-container"},Cl={class:"search-box"},Sl=["disabled"],_l={key:0,class:"search-loading"},xl={key:1,class:"search-error"},Al={key:2,class:"no-results"},Pl={key:3,class:"search-results"},Ml=["onClick"],Hl={class:"card-image"},Il=["src","alt"],Ul={class:"card-info"},ql={class:"card-meta"},Dl={class:"set-name"},Tl={key:0,class:"price-info"},Fl={key:0,class:"load-more"},Rl=["disabled"],Vl={key:0,class:"loading-spinner small"},Nl={key:1},El={class:"form-section"},Ll={class:"form-group"},Wl={class:"form-group"},Bl={class:"form-group"},$l={class:"form-group"},zl={class:"form-group"},Ql={class:"form-group"},Jl={class:"form-group"},Kl={class:"checkbox-label"},Gl={class:"form-actions"},Zl={type:"submit",class:"primary"};function Xl(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",fl,[s.selectedMode||a.product?"search"===s.selectedMode?(Object(c["x"])(),Object(c["h"])("div",kl,[Object(c["i"])("button",{class:"back-button",onClick:t[2]||(t[2]=e=>s.selectedMode=null)},t[20]||(t[20]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"arrow_back",-1),Object(c["k"])(" Back to selection ")])),Object(c["i"])("div",wl,[Object(c["i"])("div",Cl,[t[22]||(t[22]=Object(c["i"])("span",{class:"material-symbols-rounded"},"search",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.searchQuery=e),type:"text",placeholder:"Search by name, set, or number...",onInput:t[4]||(t[4]=(...e)=>s.debouncedSearch&&s.debouncedSearch(...e)),ref:"searchInput",disabled:s.isSearching},null,40,Sl),[[c["M"],s.searchQuery]]),s.searchQuery?(Object(c["x"])(),Object(c["h"])("div",{key:0,class:"search-clear",onClick:t[5]||(t[5]=(...e)=>s.clearSearch&&s.clearSearch(...e))},t[21]||(t[21]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1)]))):Object(c["g"])("",!0)])]),s.isSearching?(Object(c["x"])(),Object(c["h"])("div",_l,t[23]||(t[23]=[Object(c["i"])("div",{class:"loading-spinner"},null,-1),Object(c["i"])("p",null,"Searching cards...",-1)]))):Object(c["g"])("",!0),s.searchError?(Object(c["x"])(),Object(c["h"])("div",xl,[t[24]||(t[24]=Object(c["i"])("span",{class:"material-symbols-rounded"},"error",-1)),t[25]||(t[25]=Object(c["i"])("h3",null,"Error searching cards",-1)),Object(c["i"])("p",null,Object(c["H"])(s.searchError),1),Object(c["i"])("button",{onClick:t[6]||(t[6]=(...e)=>s.retrySearch&&s.retrySearch(...e)),class:"retry-button"}," Try Again ")])):!s.searchQuery||s.isSearching||s.searchResults.length?s.searchResults.length?(Object(c["x"])(),Object(c["h"])("div",Pl,[Object(c["l"])(c["c"],{name:"card-result"},{default:Object(c["O"])(()=>[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.searchResults,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:"card-result",onClick:t=>s.selectCard(e)},[Object(c["i"])("div",Hl,[Object(c["i"])("img",{src:e.images.small,alt:e.name,loading:"lazy"},null,8,Il),t[27]||(t[27]=Object(c["i"])("div",{class:"quick-actions"},[Object(c["i"])("button",{class:"select-button"},[Object(c["i"])("span",{class:"material-symbols-rounded"},"add"),Object(c["k"])(" Select ")])],-1))]),Object(c["i"])("div",Ul,[Object(c["i"])("h4",null,Object(c["H"])(e.name),1),Object(c["i"])("div",ql,[Object(c["i"])("span",Dl,Object(c["H"])(e.set.name),1),Object(c["i"])("span",{class:Object(c["r"])(["rarity",s.getRarityClass(e.rarity)])},Object(c["H"])(e.rarity),3)]),s.getCardPrice(e)?(Object(c["x"])(),Object(c["h"])("div",Tl,[t[28]||(t[28]=Object(c["i"])("span",{class:"material-symbols-rounded"},"payments",-1)),Object(c["k"])(" $"+Object(c["H"])(s.getCardPrice(e)),1)])):Object(c["g"])("",!0)])],8,Ml))),128))]),_:1}),s.hasMoreResults?(Object(c["x"])(),Object(c["h"])("div",Fl,[Object(c["i"])("button",{onClick:t[7]||(t[7]=(...e)=>s.loadMoreResults&&s.loadMoreResults(...e)),disabled:s.isLoadingMore,class:"load-more-button"},[s.isLoadingMore?(Object(c["x"])(),Object(c["h"])("span",Vl)):(Object(c["x"])(),Object(c["h"])("span",Nl,"Load More Results"))],8,Rl)])):Object(c["g"])("",!0)])):Object(c["g"])("",!0):(Object(c["x"])(),Object(c["h"])("div",Al,t[26]||(t[26]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"search_off",-1),Object(c["i"])("h3",null,"No cards found",-1),Object(c["i"])("p",null,"Try:",-1),Object(c["i"])("ul",{class:"search-tips"},[Object(c["i"])("li",null,'Using the full card name (e.g., "Pikachu V")'),Object(c["i"])("li",null,"Checking for typos"),Object(c["i"])("li",null,"Using fewer keywords"),Object(c["i"])("li",null,"Searching by set name")],-1)])))])):(Object(c["x"])(),Object(c["h"])("form",{key:2,onSubmit:t[17]||(t[17]=Object(c["R"])((...e)=>s.handleSubmit&&s.handleSubmit(...e),["prevent"])),class:"product-form"},[a.product||"manual"!==s.selectedMode?Object(c["g"])("",!0):(Object(c["x"])(),Object(c["h"])("button",{key:0,class:"back-button",onClick:t[8]||(t[8]=e=>s.selectedMode=null)},t[29]||(t[29]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"arrow_back",-1),Object(c["k"])(" Back to selection ")]))),Object(c["i"])("div",El,[Object(c["i"])("div",Ll,[t[30]||(t[30]=Object(c["i"])("label",null,"Name *",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>s.form.name=e),type:"text",required:"",placeholder:"Enter product name"},null,512),[[c["M"],s.form.name]])]),Object(c["i"])("div",Wl,[t[32]||(t[32]=Object(c["i"])("label",null,"Type *",-1)),Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[10]||(t[10]=e=>s.form.type=e),required:""},t[31]||(t[31]=[Object(c["i"])("option",{value:"single"},"Single Card",-1),Object(c["i"])("option",{value:"booster"},"Booster Pack",-1),Object(c["i"])("option",{value:"set"},"Card Set",-1)]),512),[[c["L"],s.form.type]])]),Object(c["i"])("div",Bl,[t[33]||(t[33]=Object(c["i"])("label",null,"Price ($) *",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>s.form.price=e),type:"number",step:"0.01",min:"0",required:""},null,512),[[c["M"],s.form.price,void 0,{number:!0}]])]),Object(c["i"])("div",$l,[t[34]||(t[34]=Object(c["i"])("label",null,"Stock *",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>s.form.stock=e),type:"number",min:"0",required:""},null,512),[[c["M"],s.form.stock,void 0,{number:!0}]])]),Object(c["i"])("div",zl,[t[35]||(t[35]=Object(c["i"])("label",null,"Image URL",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[13]||(t[13]=e=>s.form.image_url=e),type:"url",placeholder:"https://..."},null,512),[[c["M"],s.form.image_url]])]),Object(c["i"])("div",Ql,[t[36]||(t[36]=Object(c["i"])("label",null,"Description",-1)),Object(c["P"])(Object(c["i"])("textarea",{"onUpdate:modelValue":t[14]||(t[14]=e=>s.form.description=e),rows:"3",placeholder:"Enter product description"},null,512),[[c["M"],s.form.description]])]),Object(c["i"])("div",Jl,[Object(c["i"])("label",Kl,[Object(c["P"])(Object(c["i"])("input",{type:"checkbox","onUpdate:modelValue":t[15]||(t[15]=e=>s.form.active=e)},null,512),[[c["J"],s.form.active]]),t[37]||(t[37]=Object(c["k"])(" Active (available for purchase) "))])])]),Object(c["i"])("div",Gl,[Object(c["i"])("button",{type:"button",class:"secondary",onClick:t[16]||(t[16]=t=>e.$emit("cancel"))}," Cancel "),Object(c["i"])("button",Zl,Object(c["H"])(a.product?"Update Product":"Create Product"),1)])],32)):(Object(c["x"])(),Object(c["h"])("div",yl,[Object(c["i"])("button",{class:"mode-button",onClick:t[0]||(t[0]=e=>s.selectedMode="manual")},t[18]||(t[18]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"edit_note",-1),Object(c["i"])("h3",null,"Create Product from Scratch",-1),Object(c["i"])("p",null,"Manually enter all product details",-1)])),Object(c["i"])("button",{class:"mode-button",onClick:t[1]||(t[1]=e=>s.selectedMode="search")},t[19]||(t[19]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"search",-1),Object(c["i"])("h3",null,"Search and Add Product",-1),Object(c["i"])("p",null,"Search Pokemon TCG database to auto-fill details",-1)]))]))])}var Yl=a("cee4");const er="0c4b0264-73d6-4ada-8edf-ef3ec5db80ea",tr="https://api.pokemontcg.io/v2",ar=Yl["a"].create({baseURL:tr,headers:{"X-Api-Key":er}}),cr={async searchCards({q:e,page:t=1,pageSize:a=20}){try{const c=await ar.get("/cards",{params:{q:`name:${e}*`,page:t,pageSize:a,orderBy:"name",select:"id,name,images,types,rarity,cardmarket,set,flavorText"}});if(!c.data||!c.data.data)throw new Error("Invalid API response format");return{data:c.data.data,hasMore:c.data.totalCount>t*a,total:c.data.totalCount}}catch(c){if(c.response&&401===c.response.status)throw new Error("Invalid API key. Please check your configuration.");if(c.response&&429===c.response.status)throw new Error("Rate limit exceeded. Please try again later.");throw console.error("Pokemon TCG API Error:",c),new Error("Failed to fetch cards. Please try again.")}}};var sr=a("b047"),ir=a.n(sr),lr={name:"ProductForm",props:{product:{type:Object,default:null}},emits:["save","cancel"],setup(e,{emit:t}){const a=Object(c["A"])(null),s=Object(c["A"])(""),i=Object(c["A"])([]),l=Object(c["A"])(!1),r=Object(c["A"])(!1),n=Object(c["A"])({name:"",type:"single",price:0,stock:0,image_url:"",description:"",active:!0,metadata:{},...e.product||{}}),o=Object(c["A"])(1),d=Object(c["A"])(!1),b=Object(c["A"])(!1),u=Object(c["A"])(null),O=Object(c["A"])(null),j=ir()(async()=>{o.value=1,await m()},500);async function m(){if(!s.value||s.value.length<2)i.value=[];else{l.value=!0,O.value=null;try{const e=await cr.searchCards({q:s.value,page:o.value,pageSize:20});1===o.value?i.value=e.data:i.value=[...i.value,...e.data],d.value=e.hasMore,0===i.value.length&&(O.value="No cards found matching your search.")}catch(e){console.error("Search error:",e),O.value=e.message,i.value=[]}finally{l.value=!1}}}async function p(){b.value=!0,o.value++,await m(),b.value=!1}function h(){s.value="",i.value=[],o.value=1,d.value=!1,u.value&&u.value.focus()}function v(){O.value=null,m()}function g(e){return e.cardmarket&&e.cardmarket.prices&&e.cardmarket.prices.averageSellPrice?e.cardmarket.prices.averageSellPrice.toFixed(2):null}function f(e){return e?e.toLowerCase():""}function y(e){const t=g(e)||0;console.log("Selected card:",e),console.log("Card price:",t),n.value={name:e.name,type:"single",price:parseFloat(t),stock:0,image_url:e.images.large,description:e.flavorText||"",active:!0,tcg_id:e.id,metadata:{set:e.set,rarity:e.rarity,number:e.number,artist:e.artist}},console.log("Updated form:",n.value),a.value="manual"}async function k(){if(!r.value){r.value=!0;try{const c={...n.value,price:parseFloat(n.value.price)||0,stock:parseInt(n.value.stock)||0};console.log("Submitting product data:",c),await t("save",c),e.product||(n.value={name:"",type:"single",price:0,stock:0,image_url:"",description:"",active:!0,metadata:{}},a.value=null)}catch(c){console.error("Error submitting form:",c),alert("Failed to save product: "+c.message)}finally{r.value=!1}}}return Object(c["v"])(()=>{"search"===a.value&&u.value&&u.value.focus()}),{selectedMode:a,searchQuery:s,searchResults:i,isSearching:l,form:n,isSubmitting:r,handleSubmit:k,getCardPrice:g,hasMoreResults:d,isLoadingMore:b,searchInput:u,debouncedSearch:j,loadMoreResults:p,clearSearch:h,getRarityClass:f,searchError:O,retrySearch:v,selectCard:y}}};a("9359");const rr=q()(lr,[["render",Xl],["__scopeId","data-v-d40ffdc6"]]);var nr=rr;const or={class:"form-section"},dr={class:"product-info"},br=["src","alt"],ur={class:"form-group"},Or={class:"adjustment-input"},jr=["disabled"],mr={class:"form-group"},pr={key:0,class:"form-group"},hr={class:"form-actions"},vr=["disabled"];function gr(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("form",{onSubmit:t[6]||(t[6]=Object(c["R"])((...e)=>s.handleSubmit&&s.handleSubmit(...e),["prevent"])),class:"stock-form"},[Object(c["i"])("div",or,[Object(c["i"])("div",dr,[Object(c["i"])("img",{src:a.product.image_url,alt:a.product.name},null,8,br),Object(c["i"])("div",null,[Object(c["i"])("h3",null,Object(c["H"])(a.product.name),1),Object(c["i"])("p",null,"Current Stock: "+Object(c["H"])(a.product.stock),1)])]),Object(c["i"])("div",ur,[t[7]||(t[7]=Object(c["i"])("label",null,"Adjustment *",-1)),Object(c["i"])("div",Or,[Object(c["i"])("button",{type:"button",class:"adjust-button",disabled:s.form.quantity<=-a.product.stock,onClick:t[0]||(t[0]=e=>s.form.quantity--)},"-",8,jr),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.form.quantity=e),type:"number",required:""},null,512),[[c["M"],s.form.quantity]]),Object(c["i"])("button",{type:"button",class:"adjust-button",onClick:t[2]||(t[2]=e=>s.form.quantity++)},"+")])]),Object(c["i"])("div",mr,[t[9]||(t[9]=Object(c["i"])("label",null,"Reason *",-1)),Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.form.reason=e),required:""},t[8]||(t[8]=[Object(c["i"])("option",{value:"restock"},"Restock",-1),Object(c["i"])("option",{value:"adjustment"},"Inventory Adjustment",-1),Object(c["i"])("option",{value:"damage"},"Damaged/Lost",-1),Object(c["i"])("option",{value:"other"},"Other",-1)]),512),[[c["L"],s.form.reason]])]),"other"===s.form.reason?(Object(c["x"])(),Object(c["h"])("div",pr,[t[10]||(t[10]=Object(c["i"])("label",null,"Specify Reason",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>s.form.customReason=e),type:"text",placeholder:"Enter reason",required:""},null,512),[[c["M"],s.form.customReason]])])):Object(c["g"])("",!0)]),Object(c["i"])("div",hr,[Object(c["i"])("button",{type:"button",class:"secondary",onClick:t[5]||(t[5]=t=>e.$emit("cancel"))}," Cancel "),Object(c["i"])("button",{type:"submit",class:"primary",disabled:s.isSubmitting},Object(c["H"])(s.isSubmitting?"Saving...":"Update Stock"),9,vr)])],32)}var fr={name:"StockAdjustmentForm",props:{product:{type:Object,required:!0}},emits:["save","cancel"],setup(e){const t=Object(c["A"])(!1),a=Object(c["A"])({quantity:0,reason:"restock",customReason:""});async function s(){t.value=!0;try{await this.$emit("save",{productId:e.product.id,quantity:a.value.quantity,reason:"other"===a.value.reason?a.value.customReason:a.value.reason})}finally{t.value=!1}}return{form:a,isSubmitting:t,handleSubmit:s}}};a("a3ba");const yr=q()(fr,[["render",gr],["__scopeId","data-v-5151e452"]]);var kr=yr,wr={name:"StoreManager",components:{Modal:ss["a"],ProductForm:nr,StockAdjustmentForm:kr},setup(){const e=Object(c["A"])(""),t=Object(c["A"])([]),a=Object(c["A"])(!1),s=Object(c["A"])(!1),i=Object(c["A"])(null),l=Object(c["A"])(null),r=Object(c["A"])({totalProducts:0,totalSales:0,lowStock:0,productTrend:0,salesTrend:0}),n=Object(c["A"])([]),o=Object(c["A"])(!1),d=Object(c["d"])(()=>{if(console.log("Filtering products:",t.value),!e.value)return t.value||[];const a=e.value.toLowerCase();return(t.value||[]).filter(e=>{const t=e.name&&e.name.toLowerCase().includes(a),c=e.type&&e.type.toLowerCase().includes(a);return t||c})}),b=Object(c["d"])(()=>d.value.length>0&&n.value.length===d.value.length);async function u(){try{const{data:e,error:a}=await H["a"].from("products").select("\n            id,\n            name,\n            description,\n            price,\n            stock,\n            type,\n            condition,\n            tcg_id,\n            image_url,\n            admin_id,\n            active,\n            metadata,\n            created_at,\n            updated_at\n          ").order("created_at",{ascending:!1});if(a)throw console.error("Database error:",a),a;console.log("Raw products data:",e),t.value=(e||[]).map(e=>({...e,price:parseFloat(e.price)||0,stock:parseInt(e.stock)||0,active:"boolean"!==typeof e.active||e.active,metadata:e.metadata||{},condition:e.condition||"New",type:e.type||"single"})),console.log("Transformed products:",t.value),p()}catch(e){console.error("Error fetching products:",e),alert("Failed to load products. Please try again.")}}function O(){return t.value.reduce((e,t)=>e+t.price*(t.total_sold||0),0).toFixed(2)}function j(){return 0}function m(){return 0}function p(){r.value={totalProducts:t.value.length,totalSales:O(),lowStock:t.value.filter(e=>e.stock<5).length,productTrend:j(),salesTrend:m()}}async function h(){try{const{data:e}=await Xe["a"].getCards();if(!e)throw new Error("No data received from API");const t=e.map(e=>{const t=e.cardmarket&&e.cardmarket.prices&&e.cardmarket.prices.averageSellPrice||0;return{name:e.name,type:"single",tcg_id:e.id,price:t,stock:0,image_url:e.images.large,active:!0,metadata:{set:e.set,rarity:e.rarity,number:e.number,artist:e.artist}}}),{error:a}=await H["a"].from("products").upsert(t,{onConflict:"tcg_id",ignoreDuplicates:!1});if(a)throw a;await u()}catch(e){console.error("Error syncing with API:",e),alert("Failed to sync products with API. Please try again.")}}async function v(e){try{const t={name:e.name,description:e.description||"",price:parseFloat(e.price)||0,stock:parseInt(e.stock)||0,type:e.type||"single",condition:e.condition||"New",tcg_id:e.tcg_id||null,image_url:e.image_url||"",active:"boolean"!==typeof e.active||e.active,metadata:e.metadata||{},updated_at:(new Date).toISOString()};if(console.log("Saving product with data:",t),i.value){const{data:e,error:a}=await H["a"].from("products").update(t).eq("id",i.value.id).select();if(a)throw a;console.log("Updated product:",e)}else{const{data:e,error:a}=await H["a"].from("products").insert([{...t,created_at:(new Date).toISOString()}]).select();if(a)throw a;console.log("Created product:",e)}await u(),g()}catch(t){console.error("Error saving product:",t),alert("Failed to save product: "+t.message)}}function g(){a.value=!1,i.value=null}function f(){s.value=!1,l.value=null}async function y({productId:e,quantity:t,reason:a}){await H["a"].from("stock_movements").insert({product_id:e,quantity:t,reason:a}),await u(),f()}function k(e){console.log("Editing product:",e),i.value={...e},a.value=!0}function w(e){console.log("Adjusting stock for:",e),l.value=e,s.value=!0}async function C(e){try{const{error:t}=await H["a"].from("products").update({active:!e.active}).eq("id",e.id);if(t)throw t;await u()}catch(t){console.error("Error toggling product status:",t),alert("Failed to update product status")}}function S(e){if(!e.metadata)return"0.00";const t=e.metadata.tcg_pricing&&e.metadata.tcg_pricing.market,a=e.metadata.cardmarket&&e.metadata.cardmarket.prices&&e.metadata.cardmarket.prices.averageSellPrice,c=t||a||0;return c.toFixed(2)}function _(e){e.target.checked?n.value=d.value.map(e=>e.id):n.value=[]}function x(){o.value=!0}async function A(){try{const{error:e}=await H["a"].from("products").delete().in("id",n.value);if(e)throw e;await u(),n.value=[],o.value=!1}catch(e){console.error("Error deleting products:",e),alert("Failed to delete products: "+e.message)}}return Object(c["v"])(()=>{console.log("StoreManager mounted"),u()}),u(),{search:e,filteredProducts:d,products:t,stats:r,showAddProduct:a,showStockModal:s,editingProduct:i,selectedProduct:l,syncWithApi:h,saveProduct:v,closeAddModal:g,closeStockModal:f,updateStock:y,calculateTotalSales:O,calculateProductTrend:j,calculateSalesTrend:m,editProduct:k,adjustStock:w,toggleProductStatus:C,getMarketPrice:S,selectedProducts:n,isAllSelected:b,showDeleteModal:o,toggleSelectAll:_,confirmDeleteSelected:x,deleteSelected:A}}};a("c63d");const Cr=q()(wr,[["render",gl],["__scopeId","data-v-4fe5c552"]]);var Sr=Cr;const _r={class:"orders-panel"},xr={class:"panel-header"},Ar={class:"status-filters"},Pr=["onClick"],Mr={class:"orders-list"},Hr={class:"order-header"},Ir={class:"order-details"},Ur={class:"items-summary"},qr={class:"items-list"},Dr={class:"item-info"},Tr=["src","alt"],Fr={class:"item-quantity"},Rr={class:"item-price"},Vr={class:"order-totals"},Nr={class:"total-row"},Er={class:"total-row grand-total"},Lr={class:"order-info"},Wr={class:"shipping-info"},Br={class:"payment-info"},$r={key:0},zr={key:1,class:"admin-action"},Qr={key:0,class:"order-actions"},Jr=["onUpdate:modelValue","onChange"],Kr=["value"],Gr=["onClick"],Zr={class:"approval-options"},Xr={class:"modal-actions"};function Yr(e,t,a,s,i,l){const r=Object(c["D"])("Modal");return Object(c["x"])(),Object(c["h"])(c["a"],null,[Object(c["i"])("div",_r,[Object(c["i"])("div",xr,[t[4]||(t[4]=Object(c["i"])("h2",null,"Orders Management",-1)),Object(c["i"])("div",Ar,[(Object(c["x"])(),Object(c["h"])(c["a"],null,Object(c["B"])(["all","pending","approved","rejected"],e=>Object(c["i"])("button",{key:e,class:Object(c["r"])({active:s.currentStatus===e}),onClick:t=>s.currentStatus=e},Object(c["H"])(e.charAt(0).toUpperCase()+e.slice(1)),11,Pr)),64))])]),Object(c["i"])("div",Mr,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.filteredOrders,a=>(Object(c["x"])(),Object(c["h"])("div",{key:a.id,class:"order-card"},[Object(c["i"])("div",Hr,[Object(c["i"])("div",null,[Object(c["i"])("h3",null,"Order #"+Object(c["H"])(a.id.slice(0,8)),1),Object(c["i"])("p",null,Object(c["H"])(new Date(a.created_at).toLocaleString()),1)]),Object(c["i"])("span",{class:Object(c["r"])(["status-badge",a.status])},Object(c["H"])(a.status),3)]),Object(c["i"])("div",Ir,[Object(c["i"])("div",Ur,[Object(c["i"])("h4",null,"Items ("+Object(c["H"])(a.items.length)+")",1),Object(c["i"])("ul",qr,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(a.items,e=>(Object(c["x"])(),Object(c["h"])("li",{key:e.id,class:"item-row"},[Object(c["i"])("div",Dr,[Object(c["i"])("img",{src:e.image_url,alt:e.name,class:"item-thumbnail"},null,8,Tr),Object(c["i"])("div",null,[Object(c["i"])("strong",null,Object(c["H"])(e.name),1),Object(c["i"])("span",Fr,"x"+Object(c["H"])(e.quantity),1)])]),Object(c["i"])("div",Rr,"€"+Object(c["H"])((e.price*e.quantity).toFixed(2)),1)]))),128))]),Object(c["i"])("div",Vr,[Object(c["i"])("div",Nr,[t[5]||(t[5]=Object(c["i"])("span",null,"Subtotal:",-1)),Object(c["i"])("span",null,"€"+Object(c["H"])(s.calculateSubtotal(a).toFixed(2)),1)]),t[7]||(t[7]=Object(c["i"])("div",{class:"total-row"},[Object(c["i"])("span",null,"Shipping:"),Object(c["i"])("span",null,"Free")],-1)),Object(c["i"])("div",Er,[t[6]||(t[6]=Object(c["i"])("span",null,"Total:",-1)),Object(c["i"])("span",null,"€"+Object(c["H"])(a.total_amount.toFixed(2)),1)])])]),Object(c["i"])("div",Lr,[Object(c["i"])("div",Wr,[t[8]||(t[8]=Object(c["i"])("h4",null,"Shipping Details",-1)),Object(c["i"])("p",null,Object(c["H"])(a.shipping_address.address),1),Object(c["i"])("p",null,Object(c["H"])(a.shipping_address.postalCode)+" "+Object(c["H"])(a.shipping_address.city),1),Object(c["i"])("p",null,Object(c["H"])(a.shipping_address.phone),1)]),Object(c["i"])("div",Br,[t[14]||(t[14]=Object(c["i"])("h4",null,"Payment Details",-1)),Object(c["i"])("p",null,[t[9]||(t[9]=Object(c["i"])("strong",null,"Method:",-1)),Object(c["k"])(" "+Object(c["H"])(a.payment_method),1)]),Object(c["i"])("p",null,[t[10]||(t[10]=Object(c["i"])("strong",null,"Status:",-1)),Object(c["k"])(" "+Object(c["H"])(a.status),1)]),a.stripe_session_id?(Object(c["x"])(),Object(c["h"])("p",$r,[t[11]||(t[11]=Object(c["i"])("strong",null,"Stripe Session:",-1)),Object(c["i"])("code",null,Object(c["H"])(a.stripe_session_id),1)])):Object(c["g"])("",!0),Object(c["i"])("p",null,[t[12]||(t[12]=Object(c["i"])("strong",null,"Order Date:",-1)),Object(c["k"])(" "+Object(c["H"])(s.formatDate(a.created_at)),1)]),a.admin_id?(Object(c["x"])(),Object(c["h"])("div",zr,[Object(c["i"])("p",null,[Object(c["i"])("strong",null,Object(c["H"])("approved"===a.status?"Approved":"Rejected")+" by:",1),Object(c["k"])(" "+Object(c["H"])(s.adminNames[a.admin_id]||"Loading..."),1)]),Object(c["i"])("p",null,[t[13]||(t[13]=Object(c["i"])("strong",null,"Action date:",-1)),Object(c["k"])(" "+Object(c["H"])(s.formatDate(a.admin_action_at)),1)])])):Object(c["g"])("",!0)])]),"cancelled"!==a.status?(Object(c["x"])(),Object(c["h"])("div",Qr,[Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":e=>a.status=e,onChange:e=>s.updateOrderStatus(a.id,e.target.value)},[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.statusOptions,e=>(Object(c["x"])(),Object(c["h"])("option",{key:e.value,value:e.value},Object(c["H"])(e.label),9,Kr))),128))],40,Jr),[[c["L"],a.status]]),"waiting_for_shipping"===a.status?(Object(c["x"])(),Object(c["h"])("button",{key:0,onClick:t=>e.showTrackingModal(a),class:"add-tracking-btn"},t[15]||(t[15]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"local_shipping",-1),Object(c["k"])(" Add Tracking ")]),8,Gr)):Object(c["g"])("",!0)])):Object(c["g"])("",!0)])]))),128))])]),s.showModal?(Object(c["x"])(),Object(c["f"])(r,{key:0,onClose:t[3]||(t[3]=e=>s.showModal=!1)},{header:Object(c["O"])(()=>t[16]||(t[16]=[Object(c["i"])("h2",null,"Approve Order",-1)])),default:Object(c["O"])(()=>[Object(c["i"])("div",Zr,[t[19]||(t[19]=Object(c["i"])("p",null,"Choose how you want to approve this order:",-1)),Object(c["i"])("button",{class:"approval-option",onClick:t[0]||(t[0]=(...e)=>s.approveWithPayment&&s.approveWithPayment(...e))},t[17]||(t[17]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"payments",-1),Object(c["i"])("div",null,[Object(c["i"])("h3",null,"Approve with Payment URL"),Object(c["i"])("p",null,"Generate a Stripe payment link and copy to clipboard")],-1)])),Object(c["i"])("button",{class:"approval-option",onClick:t[1]||(t[1]=(...e)=>s.approveWithoutPayment&&s.approveWithoutPayment(...e))},t[18]||(t[18]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"done_all",-1),Object(c["i"])("div",null,[Object(c["i"])("h3",null,"Approve without Payment URL"),Object(c["i"])("p",null,"Mark as approved without generating payment link")],-1)])),Object(c["i"])("div",Xr,[Object(c["i"])("button",{class:"cancel-btn",onClick:t[2]||(t[2]=e=>s.showModal=!1)},"Cancel")])])]),_:1})):Object(c["g"])("",!0)],64)}var en={name:"OrderManager",components:{Modal:ss["a"]},setup(){const e=Object(c["A"])([]),t=Object(c["A"])("all"),a=Object(c["A"])(!1),s=Object(c["A"])(null),i=Object(c["A"])({}),l=Object(c["A"])({}),r=[{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"paid",label:"Paid"},{value:"preparing",label:"Preparing"},{value:"waiting_for_shipping",label:"Waiting for Shipping"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"rejected",label:"Rejected"}],n=Object(c["d"])(()=>"all"===t.value?e.value:e.value.filter(e=>e.status===t.value));async function o(){const{data:t,error:a}=await H["a"].from("orders").select("*").order("created_at",{ascending:!1});if(a)return void console.error("Error fetching orders:",a);e.value=t;const c=[...new Set(t.filter(e=>e.admin_id).map(e=>e.admin_id))];for(const e of c){const t=await p(e);l.value[e]=t}}function d(e){s.value=e,a.value=!0}async function b(){const e=s.value;try{const{data:t,error:a}=await H["a"].functions.invoke("create-payment",{body:{items:e.items.map(e=>({...e,price_in_cents:Math.round(100*e.price)})),email:e.customer_email,user_id:e.user_id,shipping_address:e.shipping_address,order_id:e.id}});if(a)throw a;const c=`${window.location.origin}/checkout?session=${t.sessionId}`;await navigator.clipboard.writeText(c),alert("Payment link copied to clipboard!"),await j(e.id,"approved",t.sessionId)}catch(t){console.error("Error creating payment link:",t),alert("Failed to create payment link")}a.value=!1}async function u(){await j(s.value.id,"approved"),a.value=!1}const O=async(e,t)=>{const{error:a}=await H["a"].from("orders").update({tracking_info:t,status:"shipped"}).eq("id",e);if(a)throw a},j=async(e,t,a=null)=>{const c={status:t,admin_id:m["a"].state.user.id,admin_action_at:(new Date).toISOString()};a&&(c.tracking_info=a);const{error:s}=await H["a"].from("orders").update(c).eq("id",e);if(s)throw s;await o()};async function p(e){if(!i.value[e]){const{data:t,error:a}=await H["a"].from("profiles").select("first_name, last_name").eq("id",e).single();i.value[e]=!a&&t?`${t.first_name} ${t.last_name}`:"Unknown Admin"}return i.value[e]}function h(e){return e.items.reduce((e,t)=>e+t.price*t.quantity,0)}function v(e){return new Date(e).toLocaleString("nl-NL",{dateStyle:"medium",timeStyle:"short"})}return Object(c["v"])(o),{orders:e,currentStatus:t,filteredOrders:n,updateOrderStatus:j,showModal:a,showApprovalModal:d,approveWithPayment:b,approveWithoutPayment:u,calculateSubtotal:h,formatDate:v,getAdminName:p,adminNames:l,statusOptions:r,updateTrackingInfo:O}}};a("bc7b");const tn=q()(en,[["render",Yr],["__scopeId","data-v-29170a88"]]);var an=tn,cn={name:"Admin",components:{Modal:ss["a"],NewsManager:Cs,CardsManager:Es,ReportsManager:Oi,SettingsManager:Ni,StoreManager:Sr,OrderManager:an},setup(){const e=Object(c["A"])("users"),t=Object(c["A"])([]),a=Object(c["A"])(""),s=Object(c["A"])(!1),i=Object(c["A"])(!1),l=Object(c["A"])(null),r=Object(c["A"])({totalUsers:0,totalCards:0,newToday:0,totalArticles:0,activeUsers:0,pendingReports:0}),n=Object(c["A"])({maintenanceMode:!1,allowRegistrations:!0}),o=Object(c["A"])({email:"",password:"",first_name:"",last_name:"",role:"user",status:"active"}),d=Object(c["A"])(""),b=Object(c["A"])(!1),u=[{id:"users",name:"Users",icon:"group"},{id:"store",name:"Store",icon:"store"},{id:"orders",name:"Orders",icon:"local_shipping"},{id:"news",name:"News",icon:"newspaper"},{id:"cards",name:"Cards",icon:"style"},{id:"reports",name:"Reports",icon:"monitoring"},{id:"settings",name:"Settings",icon:"settings"}],O=Object(c["d"])(()=>{if(!a.value)return t.value;const e=a.value.toLowerCase();return t.value.filter(t=>t.email.toLowerCase().includes(e)||t.full_name&&t.full_name.toLowerCase().includes(e))});async function j(){const e=new Date;e.setHours(0,0,0,0);const{count:t}=await H["a"].from("profiles").select("*",{count:"exact"}).gte("created_at",e.toISOString());r.value.newToday=t||0}async function m(){try{const{data:e,error:a}=await H["a"].rpc("get_users_with_profiles");if(a)return void console.error("Error fetching users:",a);console.log("Fetched users:",e),t.value=e.map(e=>({id:e.id,email:e.email,full_name:e.first_name&&e.last_name?`${e.first_name} ${e.last_name}`:"-",role:e.role||"user",status:e.status||"active",created_at:e.created_at})),r.value.totalUsers=t.value.length}catch(e){console.error("Unexpected error:",e)}}function p(){l.value=null,o.value={email:"",password:"",first_name:"",last_name:"",role:"user",status:"active"},s.value=!0}async function h(e){const[t,a]=(e.full_name||"-").split(" ");l.value=e,o.value={...o.value,first_name:"-"!==t?t:"",last_name:a||"",role:e.role||"user",status:e.status||"active"},s.value=!0}async function v(e){l.value=e,i.value=!0}async function g(){if(!l.value)return;const{error:e}=await H["a"].from("profiles").delete().eq("id",l.value.id);e?console.error("Error deleting user:",e):(i.value=!1,l.value=null,await m())}async function f(){b.value=!0,d.value="";try{if(l.value&&l.value.id){const{error:e}=await H["a"].from("profiles").update({first_name:o.value.first_name,last_name:o.value.last_name,role:o.value.role,status:o.value.status}).eq("id",l.value.id);if(e)throw e}else{const{data:e,error:t}=await H["a"].auth.signUp({email:o.value.email,password:o.value.password});if(t)throw t;const{error:a}=await H["a"].from("profiles").insert({id:e.user.id,first_name:o.value.first_name,last_name:o.value.last_name,role:o.value.role,status:o.value.status});if(a)throw a}C(),await m()}catch(e){console.error("Error saving user:",e),d.value=e.message}finally{b.value=!1}}async function y(){console.log("Saving settings:",n.value)}async function k(){console.log("Backing up database...")}async function w(){console.log("Syncing cards...")}function C(){s.value=!1,l.value=null,o.value={email:"",password:"",first_name:"",last_name:"",role:"user",status:"active"},d.value=""}return Object(c["v"])(async()=>{await m(),await j()}),{currentTab:e,tabs:u,users:t,userSearch:a,filteredUsers:O,stats:r,settings:n,showEditModal:s,showDeleteModal:i,editingUser:l,userForm:o,formError:d,isSubmitting:b,editUser:h,confirmDeleteUser:v,deleteUser:g,saveUser:f,saveSettings:y,backupDatabase:k,syncCards:w,closeEditModal:C,initNewUser:p,formatDate:e=>new Date(e).toLocaleDateString()}}};a("cf5f");const sn=q()(cn,[["render",cs],["__scopeId","data-v-c4d0a374"]]);var ln=sn;const rn={class:"store"},nn={class:"store-hero"},on={class:"quick-categories"},dn=["onClick"],bn={class:"material-symbols-rounded"},un={class:"filter-section"},On={class:"search-container"},jn={class:"search-box"},mn={class:"advanced-filters"},pn={key:0,class:"active-filters"},hn={class:"products-grid"},vn={class:"product-image"},gn=["src","alt"],fn={key:0,class:"product-badges"},yn={key:0,class:"rarity-badge"},kn={key:1,class:"stock-badge"},wn={class:"product-info"},Cn={class:"product-header"},Sn={class:"product-type"},_n={class:"product-meta"},xn={key:0,class:"product-set"},An={class:"product-price"},Pn=["disabled","onClick"],Mn={class:"product-actions"},Hn=["onClick"],In={class:"material-symbols-rounded"},Un=["onClick"],qn={key:1,class:"pagination"},Dn=["disabled"],Tn=["onClick"],Fn=["disabled"],Rn={class:"quick-view"},Vn={class:"quick-view-image"},Nn=["src","alt"],En={class:"quick-view-details"},Ln={class:"meta-info"},Wn={key:0,class:"set"},Bn={key:1,class:"rarity"},$n={class:"pricing"},zn={class:"market-price"},Qn={class:"our-price"},Jn={class:"stock-info"},Kn={class:"material-symbols-rounded"},Gn=["disabled"];function Zn(e,t,a,s,i,l){const r=Object(c["D"])("Modal"),n=Object(c["D"])("AppleNotification");return Object(c["x"])(),Object(c["h"])("div",rn,[Object(c["i"])("div",nn,[t[13]||(t[13]=Object(c["i"])("div",{class:"hero-content"},[Object(c["i"])("h1",null,"Card Market"),Object(c["i"])("p",{class:"subtitle"},"Discover rare and valuable Pokémon cards")],-1)),Object(c["i"])("div",on,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.categories,e=>(Object(c["x"])(),Object(c["h"])("button",{key:e.id,class:Object(c["r"])(["category-pill",{active:s.filters.category===e.id}]),onClick:t=>s.filters.category=e.id},[Object(c["i"])("span",bn,Object(c["H"])(e.icon),1),Object(c["k"])(" "+Object(c["H"])(e.name),1)],10,dn))),128))])]),Object(c["i"])("div",un,[Object(c["i"])("div",On,[Object(c["i"])("div",jn,[t[14]||(t[14]=Object(c["i"])("span",{class:"material-symbols-rounded"},"search",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.search=e),type:"text",placeholder:"Search for cards, sets, or boosters..."},null,512),[[c["M"],s.search]])]),Object(c["i"])("div",mn,[Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.filters.priceRange=e)},t[15]||(t[15]=[Object(c["i"])("option",{value:""},"All Prices",-1),Object(c["i"])("option",{value:"under10"},"Under $10",-1),Object(c["i"])("option",{value:"10to50"},"$10 - $50",-1),Object(c["i"])("option",{value:"50plus"},"$50+",-1)]),512),[[c["L"],s.filters.priceRange]]),Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>s.filters.rarity=e)},t[16]||(t[16]=[Object(c["j"])('<option value="" data-v-c79ac13a>All Rarities</option><option value="common" data-v-c79ac13a>Common</option><option value="uncommon" data-v-c79ac13a>Uncommon</option><option value="rare" data-v-c79ac13a>Rare</option><option value="ultra" data-v-c79ac13a>Ultra Rare</option>',5)]),512),[[c["L"],s.filters.rarity]]),Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.filters.condition=e)},t[17]||(t[17]=[Object(c["j"])('<option value="" data-v-c79ac13a>All Conditions</option><option value="mint" data-v-c79ac13a>Mint</option><option value="near_mint" data-v-c79ac13a>Near Mint</option><option value="excellent" data-v-c79ac13a>Excellent</option><option value="good" data-v-c79ac13a>Good</option>',5)]),512),[[c["L"],s.filters.condition]])])])]),s.activeFiltersCount?(Object(c["x"])(),Object(c["h"])("div",pn,[s.filters.priceRange?(Object(c["x"])(),Object(c["h"])("span",{key:0,class:"filter-tag",onClick:t[4]||(t[4]=e=>s.filters.priceRange="")},[Object(c["k"])(Object(c["H"])(e.formatPriceRange(s.filters.priceRange))+" ",1),t[18]||(t[18]=Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1))])):Object(c["g"])("",!0),s.filters.rarity?(Object(c["x"])(),Object(c["h"])("span",{key:1,class:"filter-tag",onClick:t[5]||(t[5]=e=>s.filters.rarity="")},[Object(c["k"])(Object(c["H"])(s.filters.rarity)+" ",1),t[19]||(t[19]=Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1))])):Object(c["g"])("",!0),s.filters.condition?(Object(c["x"])(),Object(c["h"])("span",{key:2,class:"filter-tag",onClick:t[6]||(t[6]=e=>s.filters.condition="")},[Object(c["k"])(Object(c["H"])(s.filters.condition)+" ",1),t[20]||(t[20]=Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1))])):Object(c["g"])("",!0),Object(c["i"])("button",{class:"clear-filters",onClick:t[7]||(t[7]=(...e)=>s.clearFilters&&s.clearFilters(...e))},"Clear All")])):Object(c["g"])("",!0),Object(c["i"])("div",hn,[Object(c["l"])(c["c"],{name:"product-card"},{default:Object(c["O"])(()=>[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.paginatedProducts,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:Object(c["r"])(["product-card",{"out-of-stock":e.stock<=0,"in-wishlist":s.isInWishlist(e.id)}])},[Object(c["i"])("div",vn,[Object(c["i"])("img",{src:e.image_url,alt:e.name},null,8,gn),e.metadata?(Object(c["x"])(),Object(c["h"])("div",fn,[e.metadata.rarity?(Object(c["x"])(),Object(c["h"])("span",yn,Object(c["H"])(e.metadata.rarity),1)):Object(c["g"])("",!0),e.stock<5&&e.stock>0?(Object(c["x"])(),Object(c["h"])("span",kn," Low Stock ")):Object(c["g"])("",!0)])):Object(c["g"])("",!0)]),Object(c["i"])("div",wn,[Object(c["i"])("div",Cn,[Object(c["i"])("span",Sn,Object(c["H"])(e.type),1),Object(c["i"])("h3",null,Object(c["H"])(e.name),1)]),Object(c["i"])("div",_n,[e.metadata&&e.metadata.set?(Object(c["x"])(),Object(c["h"])("span",xn,Object(c["H"])(e.metadata.set.name),1)):Object(c["g"])("",!0),Object(c["i"])("span",An,"$"+Object(c["H"])(e.price),1)]),Object(c["i"])("button",{class:"buy-button",disabled:e.stock<=0,onClick:t=>s.addToCart(e,t)},Object(c["H"])(e.stock<=0?"Out of Stock":"Add to Cart"),9,Pn)]),Object(c["i"])("div",Mn,[Object(c["i"])("button",{class:Object(c["r"])(["wishlist-button",{active:s.isInWishlist(e.id)}]),onClick:Object(c["R"])(t=>s.toggleWishlist(e),["stop"])},[Object(c["i"])("span",In,Object(c["H"])(s.isInWishlist(e.id)?"favorite":"favorite_border"),1)],10,Hn),Object(c["i"])("button",{class:"quick-view-button",onClick:Object(c["R"])(t=>s.showQuickView(e),["stop"])},t[21]||(t[21]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"visibility",-1)]),8,Un)])],2))),128))]),_:1})]),s.totalPages>1?(Object(c["x"])(),Object(c["h"])("div",qn,[Object(c["i"])("button",{disabled:1===s.currentPage,onClick:t[8]||(t[8]=e=>s.currentPage--)},t[22]||(t[22]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"chevron_left",-1)]),8,Dn),(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.displayedPages,e=>(Object(c["x"])(),Object(c["h"])("button",{key:e,class:Object(c["r"])({active:s.currentPage===e}),onClick:t=>s.currentPage=e},Object(c["H"])(e),11,Tn))),128)),Object(c["i"])("button",{disabled:s.currentPage===s.totalPages,onClick:t[9]||(t[9]=e=>s.currentPage++)},t[23]||(t[23]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"chevron_right",-1)]),8,Fn)])):Object(c["g"])("",!0),s.quickViewProduct?(Object(c["x"])(),Object(c["f"])(r,{key:2,onClose:t[11]||(t[11]=e=>s.quickViewProduct=null)},{default:Object(c["O"])(()=>[Object(c["i"])("div",Rn,[Object(c["i"])("div",Vn,[Object(c["i"])("img",{src:s.quickViewProduct.image_url,alt:s.quickViewProduct.name},null,8,Nn)]),Object(c["i"])("div",En,[Object(c["i"])("h2",null,Object(c["H"])(s.quickViewProduct.name),1),Object(c["i"])("div",Ln,[s.quickViewProduct.metadata&&s.quickViewProduct.metadata.set?(Object(c["x"])(),Object(c["h"])("span",Wn,Object(c["H"])(s.quickViewProduct.metadata.set.name),1)):Object(c["g"])("",!0),s.quickViewProduct.metadata?(Object(c["x"])(),Object(c["h"])("span",Bn,Object(c["H"])(s.quickViewProduct.metadata.rarity),1)):Object(c["g"])("",!0)]),Object(c["i"])("div",$n,[Object(c["i"])("div",zn,[t[24]||(t[24]=Object(c["i"])("span",null,"Market Price",-1)),Object(c["i"])("strong",null,"$"+Object(c["H"])(s.getMarketPrice(s.quickViewProduct)),1)]),Object(c["i"])("div",Qn,[t[25]||(t[25]=Object(c["i"])("span",null,"Our Price",-1)),Object(c["i"])("strong",null,"$"+Object(c["H"])(s.quickViewProduct.price),1)])]),Object(c["i"])("div",Jn,[Object(c["i"])("span",Kn,Object(c["H"])(s.quickViewProduct.stock>0?"inventory_2":"inventory_2_off"),1),Object(c["k"])(" "+Object(c["H"])(s.quickViewProduct.stock>0?s.quickViewProduct.stock+" in stock":"Out of stock"),1)]),Object(c["i"])("button",{class:"add-to-cart",disabled:s.quickViewProduct.stock<=0,onClick:t[10]||(t[10]=e=>s.addToCart(s.quickViewProduct,e))}," Add to Cart ",8,Gn)])])]),_:1})):Object(c["g"])("",!0),s.showFilters?(Object(c["x"])(),Object(c["f"])(r,{key:3,onClose:t[12]||(t[12]=e=>s.showFilters=!1)},{header:Object(c["O"])(()=>t[26]||(t[26]=[Object(c["i"])("h2",null,"Filter Products",-1)])),default:Object(c["O"])(()=>t[27]||(t[27]=[Object(c["i"])("div",{class:"filters-form"},null,-1)])),_:1})):Object(c["g"])("",!0),Object(c["l"])(n,{show:s.notification.show,title:s.notification.title,message:s.notification.message,type:s.notification.type,onClose:s.hideNotification},null,8,["show","title","message","type","onClose"])])}const Xn={class:"material-symbols-rounded icon"},Yn={class:"content"};function eo(e,t,a,s,i,l){return Object(c["x"])(),Object(c["f"])(c["b"],{name:"notification"},{default:Object(c["O"])(()=>[a.show?(Object(c["x"])(),Object(c["h"])("div",{key:0,class:Object(c["r"])(["notification",a.type])},[Object(c["i"])("span",Xn,Object(c["H"])(l.icon),1),Object(c["i"])("div",Yn,[Object(c["i"])("h4",null,Object(c["H"])(a.title),1),Object(c["i"])("p",null,Object(c["H"])(a.message),1)]),Object(c["i"])("button",{onClick:t[0]||(t[0]=t=>e.$emit("close")),class:"close-btn"},t[1]||(t[1]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1)]))],2)):Object(c["g"])("",!0)]),_:1})}var to={name:"AppleNotification",props:{show:Boolean,title:String,message:String,type:{type:String,default:"success",validator:e=>["success","error","info"].includes(e)}},computed:{icon(){const e={success:"check_circle",error:"error",info:"info"};return e[this.type]}},emits:["close"]};a("5f9e");const ao=q()(to,[["render",eo],["__scopeId","data-v-109d7732"]]);var co=ao;const so={key:0,class:"preview-content"},io={class:"preview-image"},lo=["src","alt"],ro={class:"preview-info"},no={class:"product-type"},oo={class:"product-meta"},bo={key:0,class:"meta-item"},uo={key:1,class:"meta-item"},Oo={class:"price-section"},jo={class:"price"},mo=["disabled"];function po(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",{class:Object(c["r"])(["preview-overlay",{"is-open":e.isOpen}]),onClick:t[3]||(t[3]=(...t)=>e.close&&e.close(...t))},[Object(c["i"])("div",{class:Object(c["r"])(["preview-panel",{"is-open":e.isOpen}]),onClick:t[2]||(t[2]=Object(c["R"])(()=>{},["stop"]))},[Object(c["i"])("button",{class:"close-button",onClick:t[0]||(t[0]=(...t)=>e.close&&e.close(...t))},t[4]||(t[4]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1)])),e.product?(Object(c["x"])(),Object(c["h"])("div",so,[Object(c["i"])("div",io,[Object(c["i"])("img",{src:e.product.image_url,alt:e.product.name},null,8,lo)]),Object(c["i"])("div",ro,[Object(c["i"])("span",no,Object(c["H"])(e.product.type),1),Object(c["i"])("h2",null,Object(c["H"])(e.product.name),1),Object(c["i"])("div",oo,[e.product.metadata&&e.product.metadata.set?(Object(c["x"])(),Object(c["h"])("div",bo,[t[5]||(t[5]=Object(c["i"])("h4",null,"Set",-1)),Object(c["i"])("p",null,Object(c["H"])(e.product.metadata.set.name),1)])):Object(c["g"])("",!0),e.product.metadata&&e.product.metadata.rarity?(Object(c["x"])(),Object(c["h"])("div",uo,[t[6]||(t[6]=Object(c["i"])("h4",null,"Rarity",-1)),Object(c["i"])("p",null,Object(c["H"])(e.product.metadata.rarity),1)])):Object(c["g"])("",!0)]),Object(c["i"])("div",Oo,[Object(c["i"])("div",jo,"$"+Object(c["H"])(e.product.price),1),Object(c["i"])("div",{class:Object(c["r"])(["stock",e.getStockLevel(e.product.stock)])},Object(c["H"])(e.product.stock)+" in stock ",3)]),Object(c["i"])("button",{class:"add-to-cart",disabled:e.product.stock<=0,onClick:t[1]||(t[1]=(...t)=>e.addToCart&&e.addToCart(...t))}," Add to Cart ",8,mo)])])):Object(c["g"])("",!0)],2)],2)}var ho=Object(c["m"])({name:"QuickPreview",props:{product:Object,isOpen:Boolean},emits:["close"],setup(e,{emit:t}){function a(){t("close")}function c(){p["a"].addItem(e.product),a()}function s(e){return e<=0?"out":e<5?"low":"good"}return{close:a,addToCart:c,getStockLevel:s}}});a("b09e");const vo=q()(ho,[["render",po],["__scopeId","data-v-affce238"]]);var go=vo,fo={name:"Store",components:{Modal:ss["a"],CartSlideOver:T,QuickPreview:go,AppleNotification:co},setup(){const e=Object(c["A"])(""),t=Object(c["A"])(!1),a=Object(c["A"])(!1),s=Object(c["A"])(!1),i=Object(c["A"])(null),l=Object(c["A"])([]),r=Object(c["A"])({condition:"",sort:"newest",category:"",priceRange:"",rarity:""}),n=Object(c["A"])(1),o=12,d=Object(c["A"])(null),b=Object(c["A"])([{id:"all",name:"All",icon:"category"},{id:"rare",name:"Rare",icon:"star"},{id:"common",name:"Common",icon:"circle"},{id:"uncommon",name:"Uncommon",icon:"diamond"}]),u=Object(c["A"])([]),O=Object(c["A"])(!0),j=Object(c["d"])(()=>m["a"].state.user?m["a"].state.user.id:null),h=Object(c["d"])(()=>Object.values(r.value).filter(Boolean).length),v=Object(c["d"])(()=>{let t=[...u.value];if(e.value){const a=e.value.toLowerCase();t=t.filter(e=>e.name.toLowerCase().includes(a))}return r.value.category&&"all"!==r.value.category&&(t=t.filter(e=>e.type===r.value.category)),r.value.priceRange&&(t=U(t,r.value.priceRange)),r.value.rarity&&(t=t.filter(e=>e.metadata&&e.metadata.rarity&&e.metadata.rarity.toLowerCase()===r.value.rarity)),r.value.condition&&(t=t.filter(e=>e.metadata&&e.metadata.condition&&e.metadata.condition.toLowerCase()===r.value.condition)),q(t,r.value.sort)}),g=Object(c["d"])(()=>{const e=(n.value-1)*o;return v.value.slice(e,e+o)}),f=Object(c["d"])(()=>Math.ceil(v.value.length/o)),y=Object(c["d"])(()=>{const e=f.value,t=n.value,a=2,c=[],s=[];let i;c.push(1);for(let l=t-a;l<=t+a;l++)l>=1&&l<=e&&c.push(l);return c.push(e),c.forEach(e=>{i&&(e-i===2?s.push(i+1):e-i!==1&&s.push("...")),s.push(e),i=e}),s});async function k(){const{data:e,error:t}=await H["a"].from("products").select("*").eq("active",!0);t?console.error("Error fetching listings:",t):l.value=e||[]}async function w(){console.log("Fetching products..."),O.value=!0;try{const{data:e,error:t}=await H["a"].from("products").select("*").eq("active",!0).order("created_at",{ascending:!1});if(t)throw console.error("Supabase error:",t),t;if(console.log("Raw data from Supabase:",e),!e||0===e.length)return console.log("No products found in database"),void(u.value=[]);u.value=e.map(e=>({...e,price:parseFloat(e.price)||0,stock:parseInt(e.stock)||0})),console.log("Transformed products:",u.value)}catch(e){console.error("Error fetching products:",e)}finally{O.value=!1}}function C(e){return e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())}function S(e){i.value=e,a.value=!0}async function _(){if(i.value&&m["a"].state.user)try{const{error:e}=await H["a"].from("orders").insert({product_id:i.value.id,user_id:m["a"].state.user.id,quantity:1,total_amount:i.value.price,status:"completed"});if(e)throw e;const{error:t}=await H["a"].from("products").update({active:!1,stock:i.value.stock-1}).eq("id",i.value.id);if(t)throw t;a.value=!1,await k()}catch(e){console.error("Error processing purchase:",e)}}const x=Object(c["A"])(null),A=Object(c["A"])(!1);function P(e){x.value=e,A.value=!0}function M(){r.value={priceRange:"",rarity:"",condition:"",sort:"newest",category:""},n.value=1}function I(e){d.value=e}function U(e,t){switch(t){case"under10":return e.filter(e=>e.price<10);case"10to50":return e.filter(e=>e.price>=10&&e.price<=50);case"50plus":return e.filter(e=>e.price>50);default:return e}}function q(e,t){switch(t){case"price_low":return e.sort((e,t)=>e.price-t.price);case"price_high":return e.sort((e,t)=>t.price-e.price);case"newest":return e.sort((e,t)=>new Date(t.created_at)-new Date(e.created_at));case"popularity":return e.sort((e,t)=>t.popularity-e.popularity);default:return e}}const D=Object(c["A"])([]);async function T(){if(m["a"].state.user)try{const{data:e,error:t}=await H["a"].from("wishlists").select("card_id").eq("user_id",m["a"].state.user.id);if(t)throw t;D.value=e.map(e=>e.card_id),console.log("Fetched wishlist:",D.value)}catch(e){console.error("Error fetching wishlist:",e)}}function F(e){return D.value.includes(e)}async function R(e){if(m["a"].state.user)try{const t=F(e.id);if(t){const{error:t}=await H["a"].from("wishlists").delete().eq("user_id",m["a"].state.user.id).eq("card_id",e.id);if(t)throw t;D.value=D.value.filter(t=>t!==e.id)}else{const{error:t}=await H["a"].from("wishlists").insert({user_id:m["a"].state.user.id,card_id:e.id,card_data:{name:e.name,image_url:e.image_url,price:e.price,type:e.type,metadata:e.metadata}});if(t)throw t;D.value.push(e.id)}}catch(t){console.error("Error updating wishlist:",t),alert("Failed to update wishlist")}else alert("Please log in to add items to your wishlist")}function V(e){if(!e.metadata)return"0.00";let t=e.price;return e.metadata.cardmarket&&e.metadata.cardmarket.prices&&e.metadata.cardmarket.prices.averageSellPrice?t=e.metadata.cardmarket.prices.averageSellPrice:e.metadata.tcgplayer&&e.metadata.tcgplayer.prices&&e.metadata.tcgplayer.prices.market&&(t=e.metadata.tcgplayer.prices.market),parseFloat(t).toFixed(2)}function N(e){console.log("Adding product to cart:",e);const t=(e,t,a)=>t.split(".").reduce((e,t)=>e&&void 0!==e[t]?e[t]:a,e),a={id:e.id,name:e.name,price:parseFloat(e.price||0),image_url:e.image_url,set:t(e,"metadata.set.name","Unknown Set"),rarity:t(e,"metadata.rarity","Common"),type:e.type||"Unknown Type",quantity:1};console.log("Processed card item:",a),p["a"].addItem(a),L("Added to Cart",e.name+" has been added to your cart.","success")}const E=Object(c["A"])({show:!1,title:"",message:"",type:"success"});function L(e,t,a="success"){E.value={show:!0,title:e,message:t,type:a},setTimeout(()=>{W()},3e3)}function W(){E.value.show=!1}function N(e){p["a"].addItem({id:e.id,name:e.name,price:e.price,image_url:e.image,quantity:1}),L("Added to Cart",e.name+" has been added to your cart.","success")}return Object(c["v"])(async()=>{await Promise.all([w(),m["a"].state.user?T():Promise.resolve()])}),{search:e,filters:r,filteredProducts:v,showSellModal:t,showBuyModal:a,showFilters:s,selectedListing:i,buyCard:S,confirmPurchase:_,formatCondition:C,currentUserId:j,categories:b,selectedProduct:x,showPreview:A,showQuickPreview:P,cart:p["a"],currentPage:n,quickViewProduct:d,activeFiltersCount:h,paginatedProducts:g,totalPages:f,displayedPages:y,clearFilters:M,showQuickView:I,products:u,isLoading:O,isInWishlist:F,toggleWishlist:R,fetchProducts:w,wishlist:D,getMarketPrice:V,addToCart:N,notification:E,hideNotification:W}}};a("4b58");const yo=q()(fo,[["render",Zn],["__scopeId","data-v-c79ac13a"]]);var ko=yo;const wo=[{path:"/",name:"Home",component:ra,meta:{public:!0}},{path:"/collection",name:"Collection",component:Rt,meta:{public:!0}},{path:"/pricing",name:"Pricing",component:()=>a.e("chunk-62ad9a69").then(a.bind(null,"8aff")),meta:{public:!0}},{path:"/about",name:"About",component:()=>a.e("chunk-2fe52e9a").then(a.bind(null,"f820")),meta:{public:!0}},{path:"/my-collection",name:"MyCollection",component:Ba,meta:{requiresAuth:!0}},{path:"/wishlist",name:"Wishlist",component:pc,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:ya,meta:{public:!0}},{path:"/register",name:"Register",component:()=>a.e("chunk-13be29f5").then(a.bind(null,"73cf")),meta:{public:!0}},{path:"/admin",name:"Admin",component:ln,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/profile",name:"Profile",component:()=>a.e("chunk-28a89ab6").then(a.bind(null,"c66d")),meta:{requiresAuth:!0}},{path:"/store",name:"Store",component:ko,meta:{requiresAuth:!0}},{path:"/cart",name:"Cart",component:()=>a.e("chunk-5c094b52").then(a.bind(null,"b789")),meta:{requiresAuth:!0}},{path:"/checkout",name:"Checkout",component:()=>a.e("chunk-8a95aeea").then(a.bind(null,"7cb4")),meta:{requiresAuth:!0,title:"Checkout"}},{path:"/checkout/success",name:"CheckoutSuccess",component:()=>a.e("chunk-c066c090").then(a.bind(null,"4625")),meta:{requiresAuth:!0}},{path:"/order-confirmation/:orderId",name:"OrderConfirmation",component:()=>a.e("chunk-7229211b").then(a.bind(null,"6eb9")),props:!0,meta:{requiresAuth:!0}},{path:"/orders",name:"Orders",component:()=>a.e("chunk-53d5b976").then(a.bind(null,"159d")),meta:{requiresAuth:!0}}],Co=Object(F["a"])({history:Object(F["b"])("/"),routes:wo});Co.beforeEach(async(e,t,a)=>{m["a"].state.initialized||await m["a"].initializeAuth();const c=!!m["a"].state.session,s=m["a"].state.isAdmin;!e.meta.requiresAuth||c?!e.meta.requiresAdmin||s?a():a("/"):a("/login")});var So=Co;const _o=Object(c["e"])(W);_o.use(So),_o.mount("#app")},"5e33":function(e,t,a){"use strict";a("4a66")},"5f9e":function(e,t,a){"use strict";a("3f66")},"714b":function(e,t,a){"use strict";var c=a("7a23");const s={key:0,class:"modal-header"},i={class:"modal-content"},l={key:1,class:"modal-footer"};function r(e,t,a,r,n,o){return Object(c["x"])(),Object(c["f"])(c["b"],{name:"modal-fade"},{default:Object(c["O"])(()=>[a.show?(Object(c["x"])(),Object(c["h"])("div",{key:0,class:"modal-overlay",onClick:t[1]||(t[1]=Object(c["R"])(t=>e.$emit("close"),["self"]))},[Object(c["i"])("div",{class:"modal-container",style:Object(c["s"])({maxWidth:a.maxWidth+"px"})},[e.$slots.header?(Object(c["x"])(),Object(c["h"])("div",s,[Object(c["C"])(e.$slots,"header",{},void 0,!0),Object(c["i"])("button",{class:"close-button",onClick:t[0]||(t[0]=t=>e.$emit("close"))},t[2]||(t[2]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1)]))])):Object(c["g"])("",!0),Object(c["i"])("div",i,[Object(c["C"])(e.$slots,"default",{},void 0,!0)]),e.$slots.footer?(Object(c["x"])(),Object(c["h"])("div",l,[Object(c["C"])(e.$slots,"footer",{},void 0,!0)])):Object(c["g"])("",!0)],4)])):Object(c["g"])("",!0)]),_:3})}var n={name:"Modal",props:{show:{type:Boolean,default:!0},maxWidth:{type:Number,default:600}},mounted(){document.body.style.overflow="hidden"},beforeDestroy(){document.body.style.overflow=""}},o=(a("c362"),a("6b0d")),d=a.n(o);const b=d()(n,[["render",r],["__scopeId","data-v-bb221992"]]);t["a"]=b},7265:function(e,t,a){"use strict";a("b504")},7307:function(e,t,a){"use strict";a("d351")},"78bc":function(e,t,a){"use strict";a("386d")},"79a7":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var c=a("940b");const s="https://qhghblgzpgoftoovbmes.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFoZ2hibGd6cGdvZnRvb3ZibWVzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzkzNjI4MzUsImV4cCI6MjA1NDkzODgzNX0.ifNQ2s7hjm0VinL8m1nJTTUnL7ZOLzdZ6z9Ycp4gqmQ",l=Object(c["a"])(s,i)},"7dbe":function(e,t,a){},"84ea":function(e,t,a){},"889e":function(e,t,a){"use strict";var c=a("7a23"),s=a("79a7");const i=Object(c["z"])({user:null,session:null,profile:null,isAdmin:!1,initialized:!1}),l={state:i,async initializeAuth(){try{const{data:e}=await s["a"].auth.getSession(),t=e.session||null;if(i.session=t,i.user=t?t.user:null,t){const{data:e}=await s["a"].from("profiles").select("*").eq("id",t.user.id).single();i.profile=e,i.isAdmin=!!e&&"admin"===e.role}}catch(e){console.error("Auth initialization error:",e),i.session=null,i.user=null,i.profile=null,i.isAdmin=!1}finally{i.initialized=!0}},async signIn(e,t){const{data:a,error:c}=await s["a"].auth.signInWithPassword({email:e,password:t});if(c)return{error:c};if(i.session=a.session,i.user=a.user,a.user){const{data:e}=await s["a"].from("profiles").select("*").eq("id",a.user.id).single();i.profile=e,i.isAdmin=!!e&&"admin"===e.role}return{user:i.user}},async signOut(){const{error:e}=await s["a"].auth.signOut();return e||(i.user=null,i.session=null,i.profile=null,i.isAdmin=!1),{error:e}}};s["a"].auth.onAuthStateChange((e,t)=>{i.session=t,i.user=t?t.user:null,t?s["a"].from("profiles").select("*").eq("id",t.user.id).single().then(({data:e})=>{i.profile=e,i.isAdmin=!!e&&"admin"===e.role}):(i.profile=null,i.isAdmin=!1)}),t["a"]=l},"8c2f":function(e,t,a){"use strict";var c=a("7a23");a("2064");const s=localStorage.getItem("cart"),i=s?JSON.parse(s):{items:[],total:0,show:!1},l=Object(c["z"])(i);Object(c["N"])(()=>l.items,e=>{localStorage.setItem("cart",JSON.stringify({items:e,total:l.total,show:l.show}))},{deep:!0}),t["a"]={state:l,toggleCart(){l.show=!l.show},async addItem(e){try{console.log("Adding item to cart:",e);const t={id:e.id,name:e.name,price:parseFloat(e.price)||0,image_url:e.image_url,set:e.set||"",rarity:e.rarity||"",quantity:1,tcg_id:e.tcg_id};console.log("Normalized cart item:",t);const a=l.items.find(e=>e.id===t.id);a?a.quantity++:l.items.push(t),this.calculateTotal(),l.show=!0}catch(t){console.error("Error adding item to cart:",t),this.addItemFallback(e)}},addItemFallback(e){const t=e.image_url||e.imageUrl||e.images&&(e.images.large||e.images.small)||"",a={id:e.id,name:e.name,price:parseFloat(e.price)||0,image_url:t,set:e.set||"",rarity:e.rarity||"",quantity:1},c=l.items.find(e=>e.id===a.id);c?c.quantity++:l.items.push(a),this.calculateTotal(),l.show=!0},removeItem(e){l.items=l.items.filter(t=>t.id!==e),this.calculateTotal()},updateQuantity(e,t){const a=l.items.find(t=>t.id===e);a&&(a.quantity=t,this.calculateTotal())},calculateTotal(){l.total=l.items.reduce((e,t)=>e+t.price*t.quantity,0)},clear(){l.items=[],l.total=0,l.show=!1}}},9359:function(e,t,a){"use strict";a("d683")},"996c":function(e,t,a){},a3ba:function(e,t,a){"use strict";a("f8c8")},a98f:function(e,t,a){},aafd:function(e,t,a){},b09e:function(e,t,a){"use strict";a("c442")},b504:function(e,t,a){},b742:function(e,t,a){},b7f1:function(e,t,a){"use strict";function c(e){if(!e||"string"!==typeof e)return"/placeholder.png";if(e.startsWith("https://")){const t=e.split("/").pop(),a=e.split("/").slice(-2)[0];return`https://qhghblgzpgoftoovbmes.supabase.co/storage/v1/object/public/card-images/${a}/${t}`}return"/placeholder.png"}function s(e){console.warn("Image failed to load:",e.target.src),e.target.src="/placeholder.png"}a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return s}))},bc7b:function(e,t,a){"use strict";a("d591")},c2d5:function(e,t,a){},c362:function(e,t,a){"use strict";a("c2d5")},c395:function(e,t,a){"use strict";a("487e")},c442:function(e,t,a){},c63d:function(e,t,a){"use strict";a("996c")},cf5f:function(e,t,a){"use strict";a("1b3d")},d351:function(e,t,a){},d591:function(e,t,a){},d683:function(e,t,a){},d959:function(e,t,a){},dfd6:function(e,t,a){"use strict";a("0731")},e069:function(e,t,a){"use strict";a("aafd")},ee29:function(e,t,a){"use strict";a("7dbe")},f76e:function(e,t,a){},f8c8:function(e,t,a){}});
//# sourceMappingURL=app.71e3a46d.js.map