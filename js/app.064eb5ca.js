(function(e){function t(t){for(var c,s,r=t[0],n=t[1],o=t[2],d=0,b=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&b.push(i[s][0]),i[s]=0;for(c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c]);u&&u(t);while(b.length)b.shift()();return l.push.apply(l,o||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],c=!0,s=1;s<a.length;s++){var r=a[s];0!==i[r]&&(c=!1)}c&&(l.splice(t--,1),e=n(n.s=a[0]))}return e}var c={},s={app:0},i={app:0},l=[];function r(e){return n.p+"js/"+({}[e]||e)+"."+{"chunk-13be29f5":"ac94a91e","chunk-28a89ab6":"a527599e","chunk-2d0e2721":"39716f46","chunk-2fe52e9a":"5ea4ab9e","chunk-53d5b976":"7af5d1d4","chunk-5c094b52":"6f490602","chunk-62ad9a69":"08657534","chunk-7229211b":"89560697","chunk-8a95aeea":"7093d32d","chunk-c066c090":"989c5d97"}[e]+".js"}function n(t){if(c[t])return c[t].exports;var a=c[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.e=function(e){var t=[],a={"chunk-13be29f5":1,"chunk-28a89ab6":1,"chunk-2fe52e9a":1,"chunk-53d5b976":1,"chunk-5c094b52":1,"chunk-62ad9a69":1,"chunk-7229211b":1,"chunk-8a95aeea":1,"chunk-c066c090":1};s[e]?t.push(s[e]):0!==s[e]&&a[e]&&t.push(s[e]=new Promise((function(t,a){for(var c="css/"+({}[e]||e)+"."+{"chunk-13be29f5":"e02c82d6","chunk-28a89ab6":"01871f80","chunk-2d0e2721":"31d6cfe0","chunk-2fe52e9a":"2c59716c","chunk-53d5b976":"25004b7d","chunk-5c094b52":"d6534b49","chunk-62ad9a69":"dfca84cb","chunk-7229211b":"16dc44ee","chunk-8a95aeea":"09cdc2b4","chunk-c066c090":"2b6b2e4d"}[e]+".css",i=n.p+c,l=document.getElementsByTagName("link"),r=0;r<l.length;r++){var o=l[r],d=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(d===c||d===i))return t()}var b=document.getElementsByTagName("style");for(r=0;r<b.length;r++){o=b[r],d=o.getAttribute("data-href");if(d===c||d===i)return t()}var u=document.createElement("link");u.rel="stylesheet",u.type="text/css",u.onload=t,u.onerror=function(t){var c=t&&t.target&&t.target.src||i,l=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");l.code="CSS_CHUNK_LOAD_FAILED",l.request=c,delete s[e],u.parentNode.removeChild(u),a(l)},u.href=i;var O=document.getElementsByTagName("head")[0];O.appendChild(u)})).then((function(){s[e]=0})));var c=i[e];if(0!==c)if(c)t.push(c[2]);else{var l=new Promise((function(t,a){c=i[e]=[t,a]}));t.push(c[2]=l);var o,d=document.createElement("script");d.charset="utf-8",d.timeout=120,n.nc&&d.setAttribute("nonce",n.nc),d.src=r(e);var b=new Error;o=function(t){d.onerror=d.onload=null,clearTimeout(u);var a=i[e];if(0!==a){if(a){var c=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;b.message="Loading chunk "+e+" failed.\n("+c+": "+s+")",b.name="ChunkLoadError",b.type=c,b.request=s,a[1](b)}i[e]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:d})}),12e4);d.onerror=d.onload=o,document.head.appendChild(d)}return Promise.all(t)},n.m=e,n.c=c,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(a,c,function(t){return e[t]}.bind(null,c));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n.oe=function(e){throw console.error(e),e};var o=window["webpackJsonp"]=window["webpackJsonp"]||[],d=o.push.bind(o);o.push=t,o=o.slice();for(var b=0;b<o.length;b++)t(o[b]);var u=d;l.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0731":function(e,t,a){},"0e58":function(e,t,a){"use strict";a("0fae")},"0fae":function(e,t,a){},"15a5":function(e,t,a){"use strict";a("44d1")},"1b3d":function(e,t,a){},2064:function(e,t,a){"use strict";var c=a("cee4");const s="0c4b0264-73d6-4ada-8edf-ef3ec5db80ea",i="https://api.pokemontcg.io/v2",l=c["a"].create({baseURL:i,headers:{"X-Api-Key":s,"Content-Type":"application/json"}});t["a"]={async getCards(e={}){const t=await l.get("/cards",{params:{pageSize:250,page:e.page||1,q:e.query||"",orderBy:e.orderBy||"name",select:"id,name,images,types,rarity,cardmarket,set",...e}});return t.data},async getSets(){const e=await l.get("/sets",{params:{orderBy:"-releaseDate",select:"id,name,images,releaseDate,series"}});return e.data},async getCardById(e){const t=await l.get("/cards/"+e);return t.data},async getCardsByQuery(e){const t=await l.get("/cards",{params:{q:e}});return t.data}}},"29a9":function(e,t,a){"use strict";a("fc82")},3743:function(e,t,a){"use strict";a("3780")},3780:function(e,t,a){},"386d":function(e,t,a){},"395c":function(e,t,a){},"3b4f":function(e,t,a){"use strict";a("f76e")},"3e12":function(e,t,a){"use strict";a("a98f")},"3f66":function(e,t,a){},"44d1":function(e,t,a){},"487e":function(e,t,a){},"4a66":function(e,t,a){},"4b58":function(e,t,a){"use strict";a("d959")},5121:function(e,t,a){"use strict";a("395c")},"56d7":function(e,t,a){"use strict";a.r(t);var c=a("7a23");const s={class:"app"},i={class:"main-content"},l={key:1,class:"loading-screen"};function r(e,t,a,r,n,o){const d=Object(c["D"])("AppHeader"),b=Object(c["D"])("router-view");return Object(c["x"])(),Object(c["h"])("div",s,[r.auth.state.initialized?(Object(c["x"])(),Object(c["f"])(d,{key:0})):Object(c["g"])("",!0),Object(c["i"])("main",i,[r.auth.state.initialized?(Object(c["x"])(),Object(c["f"])(b,{key:0})):(Object(c["x"])(),Object(c["h"])("div",l,t[0]||(t[0]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"autorenew",-1),Object(c["k"])(" Loading... ")])))])])}const n={class:"app-header"},o={class:"nav-container"},d={class:"nav-left"},b={class:"nav-links"},u={class:"nav-right"},O={key:0,class:"cart-badge"},j={class:"username"},m={key:0,class:"user-dropdown"};function p(e,t,a,s,i,l){const r=Object(c["D"])("router-link"),p=Object(c["D"])("CartSlideOver");return Object(c["x"])(),Object(c["h"])("header",n,[Object(c["i"])("nav",o,[Object(c["i"])("div",d,[Object(c["l"])(r,{to:"/",class:"logo"},{default:Object(c["O"])(()=>t[4]||(t[4]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"style",-1),Object(c["k"])(" CardWatcher ")])),_:1}),Object(c["i"])("div",b,[Object(c["l"])(r,{to:"/collection"},{default:Object(c["O"])(()=>t[5]||(t[5]=[Object(c["k"])("Browse")])),_:1}),Object(c["l"])(r,{to:"/store"},{default:Object(c["O"])(()=>t[6]||(t[6]=[Object(c["k"])("Store")])),_:1}),s.isLoggedIn?(Object(c["x"])(),Object(c["h"])(c["a"],{key:0},[Object(c["l"])(r,{to:"/my-collection"},{default:Object(c["O"])(()=>t[7]||(t[7]=[Object(c["k"])("My Collection")])),_:1}),Object(c["l"])(r,{to:"/wishlist"},{default:Object(c["O"])(()=>t[8]||(t[8]=[Object(c["k"])("Wishlist")])),_:1})],64)):Object(c["g"])("",!0)])]),Object(c["i"])("div",u,[Object(c["i"])("button",{class:"nav-button cart-button",onClick:t[0]||(t[0]=(...e)=>s.toggleCart&&s.toggleCart(...e))},[t[9]||(t[9]=Object(c["i"])("span",{class:"material-symbols-rounded"},"shopping_cart",-1)),s.cart.state.items.length?(Object(c["x"])(),Object(c["h"])("span",O,Object(c["H"])(s.cart.state.items.length),1)):Object(c["g"])("",!0)]),s.isLoggedIn?(Object(c["x"])(),Object(c["h"])(c["a"],{key:0},[Object(c["i"])("button",{class:"user-menu",onClick:t[1]||(t[1]=(...e)=>s.toggleUserMenu&&s.toggleUserMenu(...e))},[t[10]||(t[10]=Object(c["i"])("span",{class:"material-symbols-rounded"},"account_circle",-1)),Object(c["i"])("span",j,[Object(c["k"])(Object(c["H"])(s.userDisplayName)+" ",1),Object(c["i"])("span",{class:Object(c["r"])(["role-badge",s.userRole])},Object(c["H"])(s.userRole),3)]),t[11]||(t[11]=Object(c["i"])("span",{class:"material-symbols-rounded"},"expand_more",-1))]),s.showUserMenu?(Object(c["x"])(),Object(c["h"])("div",m,[Object(c["l"])(r,{to:"/profile",class:"dropdown-item"},{default:Object(c["O"])(()=>t[12]||(t[12]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"person",-1),Object(c["k"])(" Profile ")])),_:1}),Object(c["l"])(r,{to:"/orders",class:"dropdown-item"},{default:Object(c["O"])(()=>t[13]||(t[13]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"receipt_long",-1),Object(c["k"])(" My Orders ")])),_:1}),s.isAdmin?(Object(c["x"])(),Object(c["f"])(r,{key:0,to:"/admin",class:"dropdown-item"},{default:Object(c["O"])(()=>t[14]||(t[14]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"admin_panel_settings",-1),Object(c["k"])(" Admin Panel ")])),_:1})):Object(c["g"])("",!0),Object(c["i"])("button",{onClick:t[2]||(t[2]=(...e)=>s.handleSignOut&&s.handleSignOut(...e)),class:"dropdown-item"},t[15]||(t[15]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"logout",-1),Object(c["k"])(" Sign Out ")]))])):Object(c["g"])("",!0)],64)):(Object(c["x"])(),Object(c["h"])(c["a"],{key:1},[Object(c["l"])(r,{to:"/register",class:"auth-button secondary"},{default:Object(c["O"])(()=>t[16]||(t[16]=[Object(c["k"])("Register")])),_:1}),Object(c["l"])(r,{to:"/login",class:"auth-button primary"},{default:Object(c["O"])(()=>t[17]||(t[17]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"login",-1),Object(c["k"])(" Sign In ")])),_:1})],64))])]),Object(c["l"])(p,{show:s.showCart,onClose:t[3]||(t[3]=e=>s.showCart=!1)},null,8,["show"])])}var h=a("889e"),v=a("8c2f");const g={class:"cart-header"},f={key:0,class:"empty-cart"},y={key:1,class:"cart-items"},k=["src","alt"],w={class:"item-details"},C={class:"item-price"},S={class:"quantity-controls"},_=["onClick"],x=["onClick"],A=["onClick"],P={key:2,class:"cart-footer"},M={class:"subtotal"};function H(e,t,a,s,i,l){return e.show?(Object(c["x"])(),Object(c["h"])("div",{key:0,class:"cart-overlay",onClick:t[3]||(t[3]=t=>e.$emit("close"))},[Object(c["i"])("div",{class:"cart-slideover",onClick:t[2]||(t[2]=Object(c["R"])(()=>{},["stop"]))},[Object(c["i"])("div",g,[t[5]||(t[5]=Object(c["i"])("h2",null,"Shopping Cart",-1)),Object(c["i"])("button",{class:"close-button",onClick:t[0]||(t[0]=t=>e.$emit("close"))},t[4]||(t[4]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1)]))]),e.cart.items.length?(Object(c["x"])(),Object(c["h"])("div",y,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(e.cart.items,a=>(Object(c["x"])(),Object(c["h"])("div",{key:a.id,class:"cart-item"},[Object(c["i"])("img",{src:a.image_url,alt:a.name},null,8,k),Object(c["i"])("div",w,[Object(c["i"])("h3",null,Object(c["H"])(a.name),1),Object(c["i"])("div",C,"$"+Object(c["H"])(a.price),1),Object(c["i"])("div",S,[Object(c["i"])("button",{onClick:t=>e.decrementQuantity(a)},"-",8,_),Object(c["i"])("span",null,Object(c["H"])(a.quantity),1),Object(c["i"])("button",{onClick:t=>e.incrementQuantity(a)},"+",8,x)])]),Object(c["i"])("button",{class:"remove-item",onClick:t=>e.removeItem(a)},t[7]||(t[7]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"delete",-1)]),8,A)]))),128))])):(Object(c["x"])(),Object(c["h"])("div",f,t[6]||(t[6]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"shopping_cart",-1),Object(c["i"])("p",null,"Your cart is empty",-1)]))),e.cart.items.length?(Object(c["x"])(),Object(c["h"])("div",P,[Object(c["i"])("div",M,[t[8]||(t[8]=Object(c["i"])("span",null,"Subtotal",-1)),Object(c["i"])("strong",null,"$"+Object(c["H"])(e.cart.total.toFixed(2)),1)]),Object(c["i"])("button",{class:"checkout-button",onClick:t[1]||(t[1]=(...t)=>e.checkout&&e.checkout(...t))},t[9]||(t[9]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"payments",-1),Object(c["k"])(" Checkout ")]))])):Object(c["g"])("",!0)])])):Object(c["g"])("",!0)}var I=a("4c16"),U=a("79a7"),D=Object(c["m"])({name:"CartSlideOver",props:{show:Boolean},setup(){async function e(){try{const{data:e,error:t}=await U["a"].functions.invoke("create-checkout-session",{body:{items:v["a"].items}});if(t)throw t;const a=await Object(I["a"])("pk_test_51QrkgR4CfmNPourcrOX3w5QB0d3oS76LrpMWcaGU8lnsj7mAc8SlPE3rEDZm8HLpezTqlTvAOwR2QOkl4xFTMAwu00SfIVQ1iY");await a.redirectToCheckout({sessionId:e.id})}catch(e){console.error("Checkout error:",e),alert("Failed to initiate checkout")}}function t(e){v["a"].updateQuantity(e.id,e.quantity+1)}function a(e){e.quantity>1&&v["a"].updateQuantity(e.id,e.quantity-1)}function c(e){v["a"].removeItem(e.id)}return{cart:v["a"],checkout:e,incrementQuantity:t,decrementQuantity:a,removeItem:c}}}),T=(a("3e12"),a("6b0d")),q=a.n(T);const F=q()(D,[["render",H],["__scopeId","data-v-48223bb6"]]);var V=F,R=a("6605"),N={name:"AppHeader",components:{CartSlideOver:V},setup(){const e=Object(c["A"])(!1),t=Object(c["d"])(()=>!!h["a"].state.session),a=Object(c["d"])(()=>{if(!h["a"].state.user)return"";const e=h["a"].state.profile;return e&&e.first_name&&e.last_name?`${e.first_name} ${e.last_name}`:h["a"].state.user.email}),s=Object(c["d"])(()=>h["a"].state.isAdmin),i=Object(c["d"])(()=>h["a"].state.isAdmin?"admin":"user"),l=()=>{e.value=!e.value},r=async()=>{await h["a"].signOut(),e.value=!1},n=Object(c["A"])(!1),o=Object(R["d"])();function d(){o.push("/cart")}return Object(c["N"])(()=>v["a"].state.show,e=>{n.value=e}),Object(c["N"])(()=>v["a"].state.items.length,(e,t)=>{if(e>t){const e=document.querySelector(".cart-badge");e&&(e.classList.add("pulse"),setTimeout(()=>e.classList.remove("pulse"),300))}}),{isLoggedIn:t,showUserMenu:e,toggleUserMenu:l,handleSignOut:r,userDisplayName:a,isAdmin:s,userRole:i,cart:v["a"],showCart:n,toggleCart:d}}};a("78bc");const E=q()(N,[["render",p],["__scopeId","data-v-53861716"]]);var L=E,W={name:"App",components:{AppHeader:L},setup(){return{auth:h["a"]}}};a("29a9");const $=q()(W,[["render",r]]);var B=$;const z={class:"home"},Q={class:"widgets-grid"},J={class:"widget-grid"},G={class:"widget highlight-widget"},K={key:0,class:"card-preview"},Z=["src","alt"],X={class:"card-info"},Y={class:"price"},ee={class:"widget"},te={class:"trend-list"},ae={class:"trend-name"},ce={class:"widget"},se={class:"news-list"},ie={class:"news-date"},le={class:"widget"},re={class:"value-list"},ne={key:0,class:"cta-section"},oe={class:"cta-content"},de={class:"cta-buttons"};function be(e,t,a,s,i,l){const r=Object(c["D"])("MarketWidget"),n=Object(c["D"])("TrendingCardsWidget"),o=Object(c["D"])("router-link");return Object(c["x"])(),Object(c["h"])("div",z,[t[12]||(t[12]=Object(c["i"])("header",{class:"page-header"},[Object(c["i"])("div",{class:"header-content"},[Object(c["i"])("h1",null,"Welcome back!"),Object(c["i"])("p",{class:"subtitle"},"Track your Pokémon card collection and market trends")])],-1)),Object(c["i"])("div",Q,[Object(c["l"])(r,{class:"widget"}),Object(c["l"])(n,{class:"widget"})]),Object(c["i"])("div",J,[Object(c["i"])("div",G,[t[0]||(t[0]=Object(c["i"])("span",{class:"material-symbols-rounded widget-icon"},"diamond",-1)),t[1]||(t[1]=Object(c["i"])("h2",null,"Most Expensive Card",-1)),i.mostExpensiveCard?(Object(c["x"])(),Object(c["h"])("div",K,[Object(c["i"])("img",{src:i.mostExpensiveCard.imageUrl,alt:i.mostExpensiveCard.name},null,8,Z),Object(c["i"])("div",X,[Object(c["i"])("h3",null,Object(c["H"])(i.mostExpensiveCard.name),1),Object(c["i"])("p",Y,"$"+Object(c["H"])(i.mostExpensiveCard.price),1)])])):Object(c["g"])("",!0)]),Object(c["i"])("div",ee,[t[2]||(t[2]=Object(c["i"])("span",{class:"material-symbols-rounded widget-icon"},"trending_up",-1)),t[3]||(t[3]=Object(c["i"])("h2",null,"Market Trends",-1)),Object(c["i"])("ul",te,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(i.trends,e=>(Object(c["x"])(),Object(c["h"])("li",{key:e.id},[Object(c["i"])("span",ae,Object(c["H"])(e.name),1),Object(c["i"])("span",{class:Object(c["r"])(["trend-change",e.direction])},Object(c["H"])(e.change)+"% ",3)]))),128))])]),Object(c["i"])("div",ce,[t[4]||(t[4]=Object(c["i"])("span",{class:"material-symbols-rounded widget-icon"},"newspaper",-1)),t[5]||(t[5]=Object(c["i"])("h2",null,"Latest News",-1)),Object(c["i"])("div",se,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(i.news,e=>(Object(c["x"])(),Object(c["h"])("article",{key:e.id,class:"news-item"},[Object(c["i"])("h4",null,Object(c["H"])(e.title),1),Object(c["i"])("p",null,Object(c["H"])(e.excerpt),1),Object(c["i"])("span",ie,Object(c["H"])(e.date),1)]))),128))])]),Object(c["i"])("div",le,[t[6]||(t[6]=Object(c["i"])("span",{class:"material-symbols-rounded widget-icon"},"star",-1)),t[7]||(t[7]=Object(c["i"])("h2",null,"Top Valued Cards",-1)),Object(c["i"])("ol",re,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(i.topValuedCards,e=>(Object(c["x"])(),Object(c["h"])("li",{key:e.id},Object(c["H"])(e.name)+" - $"+Object(c["H"])(e.price),1))),128))])])]),l.isLoggedIn?Object(c["g"])("",!0):(Object(c["x"])(),Object(c["h"])("div",ne,[Object(c["i"])("div",oe,[t[10]||(t[10]=Object(c["i"])("h2",null,"Want to track your collection?",-1)),t[11]||(t[11]=Object(c["i"])("p",null,"Create a free account to manage your Pokémon card collection and wishlist.",-1)),Object(c["i"])("div",de,[Object(c["l"])(o,{to:"/register",class:"cta-button primary"},{default:Object(c["O"])(()=>t[8]||(t[8]=[Object(c["k"])(" Create Account ")])),_:1}),Object(c["l"])(o,{to:"/login",class:"cta-button secondary"},{default:Object(c["O"])(()=>t[9]||(t[9]=[Object(c["k"])(" Sign In ")])),_:1})])])]))])}const ue={class:"collection-wrapper"},Oe={class:"collection"},je={class:"collection-header"},me={class:"header-content"},pe={class:"subtitle"},he={class:"filter-section"},ve={class:"search-wrapper"},ge={class:"search-bar"},fe={class:"controls"},ye={class:"view-toggle"},ke={key:0,class:"search-filters"},we={class:"filter-chip"},Ce={class:"filter-chip"},Se={class:"filter-chip"},_e={key:0,class:"loading-overlay"},xe={key:1},Ae={key:0,class:"card-actions"},Pe=["onClick","title"],Me={class:"material-symbols-rounded"},He=["onClick","title"],Ie={class:"material-symbols-rounded"},Ue=["src","alt","onClick"],De={class:"card-details"},Te={class:"card-meta"},qe={class:"card-set"},Fe={key:0,class:"card-rarity"},Ve={key:0,class:"card-price"},Re={key:0,class:"load-more"},Ne={key:1,class:"no-results"};function Ee(e,t,a,s,i,l){const r=Object(c["D"])("SetFilter"),n=Object(c["D"])("CardDetailsModal"),o=Object(c["E"])("intersect");return Object(c["x"])(),Object(c["h"])("div",ue,[Object(c["i"])("div",Oe,[Object(c["i"])("div",je,[Object(c["i"])("div",me,[t[12]||(t[12]=Object(c["i"])("h1",null,"Browse Pokémon Cards",-1)),Object(c["i"])("p",pe,Object(c["H"])(i.totalCards)+" cards available",1)]),Object(c["i"])("div",he,[Object(c["i"])("div",ve,[Object(c["i"])("div",ge,[t[14]||(t[14]=Object(c["i"])("span",{class:"material-symbols-rounded search-icon"},"search",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.searchQuery=e),placeholder:"Search by name, type, or rarity...",type:"text",onFocus:t[1]||(t[1]=e=>i.searchActive=!0),onBlur:t[2]||(t[2]=e=>i.searchActive=!1)},null,544),[[c["M"],i.searchQuery]]),i.searchQuery?(Object(c["x"])(),Object(c["h"])("button",{key:0,class:"clear-button",onClick:t[3]||(t[3]=(...e)=>l.clearSearch&&l.clearSearch(...e))},t[13]||(t[13]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1)]))):Object(c["g"])("",!0)]),Object(c["i"])("div",fe,[Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>i.sortBy=e),class:"sort-select"},t[15]||(t[15]=[Object(c["j"])('<option value="name" data-v-27186d76>Name (A-Z)</option><option value="-name" data-v-27186d76>Name (Z-A)</option><option value="-cardmarket.prices.averageSellPrice" data-v-27186d76>Price (High to Low)</option><option value="cardmarket.prices.averageSellPrice" data-v-27186d76>Price (Low to High)</option><option value="-set.releaseDate" data-v-27186d76>Newest First</option><option value="set.releaseDate" data-v-27186d76>Oldest First</option>',6)]),512),[[c["L"],i.sortBy]]),Object(c["i"])("div",ye,[Object(c["i"])("button",{class:Object(c["r"])(["view-button",{active:"grid"===i.viewMode}]),onClick:t[5]||(t[5]=e=>l.setViewMode("grid")),title:"Grid View"},t[16]||(t[16]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"grid_view",-1)]),2),Object(c["i"])("button",{class:Object(c["r"])(["view-button",{active:"list"===i.viewMode}]),onClick:t[6]||(t[6]=e=>l.setViewMode("list")),title:"List View"},t[17]||(t[17]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"view_list",-1)]),2)])])]),i.searchActive||i.searchQuery?(Object(c["x"])(),Object(c["h"])("div",ke,[Object(c["i"])("label",we,[Object(c["P"])(Object(c["i"])("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=e=>i.searchInNames=e)},null,512),[[c["J"],i.searchInNames]]),t[18]||(t[18]=Object(c["i"])("span",{class:"material-symbols-rounded"},"label",-1)),t[19]||(t[19]=Object(c["k"])(" Names "))]),Object(c["i"])("label",Ce,[Object(c["P"])(Object(c["i"])("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=e=>i.searchInTypes=e)},null,512),[[c["J"],i.searchInTypes]]),t[20]||(t[20]=Object(c["i"])("span",{class:"material-symbols-rounded"},"bolt",-1)),t[21]||(t[21]=Object(c["k"])(" Types "))]),Object(c["i"])("label",Se,[Object(c["P"])(Object(c["i"])("input",{type:"checkbox","onUpdate:modelValue":t[9]||(t[9]=e=>i.searchInRarity=e)},null,512),[[c["J"],i.searchInRarity]]),t[22]||(t[22]=Object(c["i"])("span",{class:"material-symbols-rounded"},"diamond",-1)),t[23]||(t[23]=Object(c["k"])(" Rarity "))])])):Object(c["g"])("",!0)])]),Object(c["l"])(r,{sets:i.sets,selectedSet:i.selectedSet,onSelect:l.selectSet,onClear:l.clearSetFilter},null,8,["sets","selectedSet","onSelect","onClear"]),Object(c["l"])(c["b"],{name:"fade",mode:"out-in"},{default:Object(c["O"])(()=>[i.loading?(Object(c["x"])(),Object(c["h"])("div",_e,t[24]||(t[24]=[Object(c["i"])("div",{class:"loading-content"},[Object(c["i"])("div",{class:"loading-spinner"}),Object(c["i"])("p",null,"Loading Pokémon Cards...")],-1)]))):(Object(c["x"])(),Object(c["h"])("div",xe,[Object(c["l"])(c["c"],{name:i.viewMode,tag:"div",class:Object(c["r"])(["cards-container",i.viewMode])},{default:Object(c["O"])(()=>[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(l.displayedCards,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:Object(c["r"])(["card-item",{"list-view":"list"===i.viewMode}])},[i.auth.state.session?(Object(c["x"])(),Object(c["h"])("div",Ae,[Object(c["i"])("button",{class:Object(c["r"])(["action-button",{active:l.isInCollection(e.id)}]),onClick:Object(c["R"])(t=>l.toggleCollection(e),["stop"]),title:l.isInCollection(e.id)?"Remove from Collection":"Add to Collection"},[Object(c["i"])("span",Me,Object(c["H"])(l.isInCollection(e.id)?"library_add_check":"library_add"),1)],10,Pe),Object(c["i"])("button",{class:Object(c["r"])(["action-button",{active:l.isInWishlist(e.id)}]),onClick:Object(c["R"])(t=>l.toggleWishlist(e),["stop"]),title:l.isInWishlist(e.id)?"Remove from Wishlist":"Add to Wishlist"},[Object(c["i"])("span",Ie,Object(c["H"])(l.isInWishlist(e.id)?"favorite":"favorite_border"),1)],10,He)])):Object(c["g"])("",!0),Object(c["i"])("img",{src:e.imageUrl||e.images.small,alt:e.name,loading:"lazy",onClick:t=>l.openCardModal(e)},null,8,Ue),Object(c["i"])("div",De,[Object(c["i"])("h3",null,Object(c["H"])(e.name),1),Object(c["i"])("div",Te,[Object(c["i"])("span",qe,Object(c["H"])(e.set.name),1),e.rarity?(Object(c["x"])(),Object(c["h"])("span",Fe,Object(c["H"])(e.rarity),1)):Object(c["g"])("",!0)]),"N/A"!==e.price?(Object(c["x"])(),Object(c["h"])("div",Ve," €"+Object(c["H"])(e.price.toFixed(2)),1)):Object(c["g"])("",!0)])],2))),128))]),_:1},8,["name","class"]),i.hasMore?Object(c["P"])((Object(c["x"])(),Object(c["h"])("div",Re,t[25]||(t[25]=[Object(c["i"])("div",{class:"loading-spinner small"},null,-1),Object(c["k"])(" Loading more cards... ")]))),[[o,l.loadMore]]):0===l.displayedCards.length?(Object(c["x"])(),Object(c["h"])("div",Ne,[t[26]||(t[26]=Object(c["i"])("span",{class:"material-symbols-rounded"},"search_off",-1)),t[27]||(t[27]=Object(c["i"])("p",null,"No cards found matching your criteria",-1)),Object(c["i"])("button",{onClick:t[10]||(t[10]=(...e)=>l.resetFilters&&l.resetFilters(...e)),class:"reset-button"},"Reset Filters")])):Object(c["g"])("",!0)]))]),_:1}),i.selectedCard?(Object(c["x"])(),Object(c["f"])(n,{key:0,card:i.selectedCard,onClose:t[11]||(t[11]=e=>i.selectedCard=null)},null,8,["card"])):Object(c["g"])("",!0)])])}const Le={class:"card-image-container"},We=["src","alt"],$e={key:0,class:"image-placeholder"},Be={class:"card-details"},ze={class:"card-name"},Qe={class:"card-type"},Je={class:"card-rarity"},Ge={class:"card-price"};function Ke(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",{class:"card",onClick:t[1]||(t[1]=t=>e.$emit("card-selected",a.card))},[Object(c["i"])("div",Le,[Object(c["i"])("img",{src:s.imageUrl,alt:a.card.name,class:"card-image",onError:t[0]||(t[0]=(...e)=>s.handleImageError&&s.handleImageError(...e)),ref:"cardImage"},null,40,We),i.hasValidImage?Object(c["g"])("",!0):(Object(c["x"])(),Object(c["h"])("div",$e,t[2]||(t[2]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"broken_image",-1),Object(c["i"])("span",null,"No image available",-1)])))]),Object(c["i"])("div",Be,[Object(c["i"])("h3",ze,Object(c["H"])(a.card.name),1),Object(c["i"])("p",Qe,Object(c["H"])(a.card.type),1),Object(c["i"])("p",Je,Object(c["H"])(a.card.rarity),1),Object(c["i"])("p",Ge,Object(c["H"])(l.formatPrice(a.card.price)),1)])])}var Ze=a("b7f1"),Xe={name:"Card",props:{card:{type:Object,required:!0}},data(){return{hasValidImage:!0}},setup(e){const t=computed(()=>Object(Ze["a"])(e.card.imageUrl));return{imageUrl:t,handleImageError:Ze["b"]}},methods:{handleClick(){this.$emit("card-selected",this.card)},formatPrice(e){return"N/A"===e?"N/A":"$"+Number(e).toFixed(2)}}};a("e069");const Ye=q()(Xe,[["render",Ke],["__scopeId","data-v-538121a9"]]);var et=Ye,tt=a("2064");const at={class:"set-filter"},ct={class:"set-grid",ref:"setGrid"},st={class:"set-content"},it={class:"set-info"},lt={class:"set-date"},rt=["onClick"],nt={class:"set-content"},ot={class:"set-icon"},dt=["src","alt"],bt={key:1,class:"material-symbols-rounded"},ut={class:"set-info"},Ot={class:"set-name"},jt={class:"set-date"};function mt(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",at,[Object(c["i"])("div",{class:Object(c["r"])(["set-list",{expanded:i.isExpanded}])},[Object(c["i"])("div",ct,[Object(c["i"])("button",{class:Object(c["r"])(["set-button all-sets",{active:!a.selectedSet}]),onClick:t[0]||(t[0]=t=>e.$emit("clear"))},[Object(c["i"])("div",st,[t[3]||(t[3]=Object(c["i"])("div",{class:"set-icon"},[Object(c["i"])("span",{class:"material-symbols-rounded"},"category")],-1)),Object(c["i"])("div",it,[t[2]||(t[2]=Object(c["i"])("span",{class:"set-name"},"All Sets",-1)),Object(c["i"])("span",lt,Object(c["H"])(a.sets.length)+" sets available",1)])])],2),(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(l.displayedSets,e=>(Object(c["x"])(),Object(c["h"])("button",{key:e.id,class:Object(c["r"])(["set-button",{active:a.selectedSet===e.id}]),onClick:t=>l.selectSet(e.id)},[Object(c["i"])("div",nt,[Object(c["i"])("div",ot,[l.hasLogo(e)?(Object(c["x"])(),Object(c["h"])("img",{key:0,src:e.images.logo,alt:e.name,class:"set-logo",loading:"lazy"},null,8,dt)):(Object(c["x"])(),Object(c["h"])("span",bt,"style"))]),Object(c["i"])("div",ut,[Object(c["i"])("span",Ot,Object(c["H"])(e.name),1),Object(c["i"])("span",jt,Object(c["H"])(l.formatDate(e.releaseDate)),1)]),t[4]||(t[4]=Object(c["i"])("div",{class:"selection-highlight"},null,-1))])],10,rt))),128))],512)],2),l.canLoadMore?(Object(c["x"])(),Object(c["h"])("button",{key:0,class:"load-more-button",onClick:t[1]||(t[1]=(...e)=>l.loadMoreSets&&l.loadMoreSets(...e))},[t[5]||(t[5]=Object(c["i"])("span",{class:"material-symbols-rounded"},"add_circle",-1)),Object(c["k"])(" Load More Sets ("+Object(c["H"])(l.remainingSets)+" remaining) ",1)])):Object(c["g"])("",!0)])}var pt={name:"SetFilter",props:{sets:{type:Array,default:()=>[]},selectedSet:{type:String,default:null}},data(){return{displayCount:4,increment:10,isExpanded:!1,defaultVisibleCount:10,canScrollUp:!1,canScrollDown:!1}},computed:{displayedSets(){return this.sets.slice(0,this.displayCount)},canLoadMore(){return this.displayCount<this.sets.length},remainingSets(){return this.sets.length-this.displayCount},visibleSets(){return this.isExpanded?this.sets:this.sets.slice(0,this.defaultVisibleCount)}},methods:{hasLogo(e){return e.images&&e.images.logo},toggleExpand(){this.isExpanded=!this.isExpanded},formatDate(e){return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short"}):""},selectSet(e){this.$emit("select",e),this.$nextTick(()=>{const e=this.$refs.setGrid.querySelector(".set-button.active");e&&e.scrollIntoView({behavior:"smooth",block:"nearest"})})},checkScroll(){const e=this.$refs.setGrid;e&&(this.canScrollUp=e.scrollTop>0,this.canScrollDown=e.scrollTop<e.scrollHeight-e.clientHeight)},loadMoreSets(){this.displayCount=Math.min(this.displayCount+this.increment,this.sets.length)}},mounted(){const e=this.$refs.setGrid;e&&(e.addEventListener("scroll",this.checkScroll),this.checkScroll())},beforeUnmount(){const e=this.$refs.setGrid;e&&e.removeEventListener("scroll",this.checkScroll)}};a("8fb5");const ht=q()(pt,[["render",mt],["__scopeId","data-v-eefeb482"]]);var vt=ht;const gt={class:"card-showcase"},ft={class:"card-image"},yt=["src","alt"],kt={class:"card-info"},wt={class:"info-header"},Ct={class:"set-info"},St=["src","alt"],_t=["src","alt"],xt={class:"details-grid"},At={class:"detail-item"},Pt={class:"value"},Mt={class:"detail-item"},Ht={class:"value"},It={class:"detail-item"},Ut={class:"value"},Dt={class:"detail-item"},Tt={class:"value price"},qt={key:0,class:"card-description"},Ft={key:1,class:"action-buttons"},Vt={class:"material-symbols-rounded"},Rt={class:"material-symbols-rounded"};function Nt(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",{class:"modal-overlay",onClick:t[5]||(t[5]=t=>e.$emit("close"))},[Object(c["i"])("div",{class:"modal-content",onClick:t[4]||(t[4]=Object(c["R"])(()=>{},["stop"]))},[Object(c["i"])("button",{class:"close-button",onClick:t[0]||(t[0]=t=>e.$emit("close"))},t[6]||(t[6]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1)])),Object(c["i"])("div",gt,[Object(c["i"])("div",ft,[Object(c["i"])("img",{src:a.card.imageUrl||a.card.images.large||a.card.images.small,alt:a.card.name},null,8,yt)]),Object(c["i"])("div",kt,[Object(c["i"])("div",wt,[Object(c["i"])("div",null,[Object(c["i"])("h2",null,Object(c["H"])(a.card.name),1),Object(c["i"])("div",Ct,[a.card.set.images&&a.card.set.images.symbol?(Object(c["x"])(),Object(c["h"])("img",{key:0,src:a.card.set.images.symbol,alt:a.card.set.name,class:"set-symbol"},null,8,St)):Object(c["g"])("",!0),Object(c["i"])("span",null,Object(c["H"])(a.card.set.name),1)])]),a.card.set.images&&a.card.set.images.logo?(Object(c["x"])(),Object(c["h"])("img",{key:0,src:a.card.set.images.logo,alt:a.card.set.name,class:"set-logo"},null,8,_t)):Object(c["g"])("",!0)]),Object(c["i"])("div",xt,[Object(c["i"])("div",At,[t[7]||(t[7]=Object(c["i"])("span",{class:"label"},"Rarity",-1)),Object(c["i"])("span",Pt,Object(c["H"])(a.card.rarity||"Unknown"),1)]),Object(c["i"])("div",Mt,[t[8]||(t[8]=Object(c["i"])("span",{class:"label"},"Card Number",-1)),Object(c["i"])("span",Ht,Object(c["H"])(a.card.number||"N/A")+"/"+Object(c["H"])(a.card.set.total),1)]),Object(c["i"])("div",It,[t[9]||(t[9]=Object(c["i"])("span",{class:"label"},"Release Date",-1)),Object(c["i"])("span",Ut,Object(c["H"])(l.formatDate(a.card.set.releaseDate)),1)]),Object(c["i"])("div",Dt,[t[10]||(t[10]=Object(c["i"])("span",{class:"label"},"Market Price",-1)),Object(c["i"])("span",Tt,Object(c["H"])(l.formatPrice(a.card.price)),1)])]),a.card.flavorText?(Object(c["x"])(),Object(c["h"])("div",qt,[Object(c["i"])("p",null,Object(c["H"])(a.card.flavorText),1)])):Object(c["g"])("",!0),s.auth.state.session?(Object(c["x"])(),Object(c["h"])("div",Ft,[s.storeProduct?(Object(c["x"])(),Object(c["h"])("button",{key:0,class:"action-btn store",onClick:t[1]||(t[1]=(...e)=>s.goToStore&&s.goToStore(...e))},[t[11]||(t[11]=Object(c["i"])("span",{class:"material-symbols-rounded"},"shopping_cart",-1)),Object(c["k"])(" Buy in Store - €"+Object(c["H"])(s.storeProduct.price.toFixed(2)),1)])):Object(c["g"])("",!0),Object(c["i"])("button",{class:Object(c["r"])(["action-btn collection",{active:s.isInCollection}]),onClick:t[2]||(t[2]=(...e)=>s.toggleCollection&&s.toggleCollection(...e))},[Object(c["i"])("span",Vt,Object(c["H"])(s.isInCollection?"library_add_check":"library_add"),1),Object(c["k"])(" "+Object(c["H"])(s.isInCollection?"In Collection":"Add to Collection"),1)],2),Object(c["i"])("button",{class:Object(c["r"])(["action-btn wishlist",{active:s.isInWishlist}]),onClick:t[3]||(t[3]=(...e)=>s.toggleWishlist&&s.toggleWishlist(...e))},[Object(c["i"])("span",Rt,Object(c["H"])(s.isInWishlist?"favorite":"favorite_border"),1),Object(c["k"])(" "+Object(c["H"])(s.isInWishlist?"In Wishlist":"Add to Wishlist"),1)],2)])):Object(c["g"])("",!0)])])])])}const Et=Object(c["z"])({collection:JSON.parse(localStorage.getItem("collection")||"[]"),wishlist:JSON.parse(localStorage.getItem("wishlist")||"[]")});var Lt={state:Et,addToCollection(e){this.isInCollection(e.id)||(Et.collection.push(e),this.saveCollection())},removeFromCollection(e){const t=Et.collection.findIndex(t=>t.id===e);-1!==t&&(Et.collection.splice(t,1),this.saveCollection())},addToWishlist(e){this.isInWishlist(e.id)||(Et.wishlist.push(e),this.saveWishlist())},removeFromWishlist(e){const t=Et.wishlist.findIndex(t=>t.id===e);-1!==t&&(Et.wishlist.splice(t,1),this.saveWishlist())},isInCollection(e){return Et.collection.some(t=>t.id===e)},isInWishlist(e){return Et.wishlist.some(t=>t.id===e)},getCollection(){return Et.collection},getWishlist(){return Et.wishlist},saveCollection(){localStorage.setItem("collection",JSON.stringify(Et.collection))},saveWishlist(){localStorage.setItem("wishlist",JSON.stringify(Et.wishlist))}},Wt={name:"CardDetailsModal",props:{card:{type:Object,required:!0}},setup(e){const t=Object(R["d"])(),a=Object(c["A"])(null),s=async()=>{try{const{data:t}=await U["a"].from("products").select("*").eq("card_id",e.card.id).eq("active",!0).gt("stock",0).single();a.value=t}catch(t){console.error("Error checking store availability:",t)}},i=()=>{a.value&&t.push({name:"Store",query:{product:a.value.id}})};Object(c["v"])(()=>{s()});const l=Object(c["d"])(()=>Lt.isInCollection(e.card.id)),r=Object(c["d"])(()=>Lt.isInWishlist(e.card.id)),n=()=>{h["a"].state.session&&(l.value?Lt.removeFromCollection(e.card.id):Lt.addToCollection(e.card))},o=()=>{h["a"].state.session&&(r.value?Lt.removeFromWishlist(e.card.id):Lt.addToWishlist(e.card))};return{auth:h["a"],isInCollection:l,isInWishlist:r,toggleCollection:n,toggleWishlist:o,storeProduct:a,goToStore:i}},methods:{formatDate(e){return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"},formatPrice(e){return"N/A"===e?"N/A":"€"+Number(e).toFixed(2)}}};a("ee29");const $t=q()(Wt,[["render",Nt],["__scopeId","data-v-56e52e8a"]]);var Bt=$t,zt={components:{Card:et,SetFilter:vt,CardDetailsModal:Bt},data(){return{cards:[],sets:[],selectedSet:null,searchQuery:"",sortBy:"name",viewMode:"grid",page:1,loading:!1,hasMore:!0,selectedCard:null,totalCards:0,searchActive:!1,searchInNames:!0,searchInTypes:!1,searchInRarity:!1,auth:h["a"]}},computed:{displayedCards(){return this.cards}},methods:{async fetchCards(e=!1){e&&(this.page=1,this.cards=[]),this.loading=!0;try{const t={page:this.page,orderBy:this.sortBy,q:this.buildSearchQuery(),select:"id,name,images,types,rarity,cardmarket,set"},a=await tt["a"].getCards(t),c=a.data.map(e=>({id:e.id,name:e.name,imageUrl:e.images&&(e.images.small||e.images.large)||"",type:Array.isArray(e.types)?e.types[0]:"Unknown",rarity:e.rarity||"Common",price:e.cardmarket&&e.cardmarket.prices?e.cardmarket.prices.averageSellPrice:"N/A",set:e.set}));this.cards=e?c:[...this.cards,...c],this.totalCards=a.totalCount,this.hasMore=this.cards.length<this.totalCards}catch(t){console.error("Error fetching cards:",t)}finally{this.loading=!1}},async fetchSets(){try{const e=await tt["a"].getSets();this.sets=e.data}catch(e){console.error("Error fetching sets:",e)}},selectSet(e){this.selectedSet=e,this.fetchCards(!0)},clearSetFilter(){this.selectedSet=null,this.fetchCards(!0)},loadMore(){!this.loading&&this.hasMore&&(this.page++,this.fetchCards())},openCardModal(e){this.selectedCard=e},clearSearch(){this.searchQuery="",this.fetchCards(!0)},setViewMode(e){localStorage.setItem("preferredViewMode",e),this.viewMode=e},resetFilters(){this.searchQuery="",this.selectedSet=null,this.sortBy="name",this.fetchCards(!0)},buildSearchQuery(){let e="";if(this.searchQuery){const t=[];this.searchInNames&&t.push(`name:"*${this.searchQuery}*"`),this.searchInTypes&&t.push(`types:"*${this.searchQuery}*"`),this.searchInRarity&&t.push(`rarity:"*${this.searchQuery}*"`),e=t.join(" OR ")}return this.selectedSet&&(e=e?`(${e}) AND set.id:${this.selectedSet}`:"set.id:"+this.selectedSet),e},isInCollection(e){return Lt.isInCollection(e)},isInWishlist(e){return Lt.isInWishlist(e)},toggleCollection(e){this.auth.state.session&&(this.isInCollection(e.id)?Lt.removeFromCollection(e.id):Lt.addToCollection(e))},toggleWishlist(e){this.auth.state.session&&(this.isInWishlist(e.id)?Lt.removeFromWishlist(e.id):Lt.addToWishlist(e))}},watch:{searchQuery:Qt((function(){this.fetchCards(!0)}),300),sortBy(){this.fetchCards(!0)}},mounted(){this.fetchSets(),this.fetchCards(),this.viewMode=localStorage.getItem("preferredViewMode")||"grid"}};function Qt(e,t){let a;return function(...c){clearTimeout(a),a=setTimeout(()=>e.apply(this,c),t)}}a("bb18");const Jt=q()(zt,[["render",Ee],["__scopeId","data-v-27186d76"]]);var Gt=Jt;const Kt={class:"market-widget"},Zt={class:"widget-header"};function Xt(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",Kt,[Object(c["i"])("div",Zt,[t[2]||(t[2]=Object(c["i"])("h2",null,"Market Overview",-1)),Object(c["i"])("button",{class:"refresh-button",onClick:t[0]||(t[0]=(...e)=>l.refreshData&&l.refreshData(...e))},t[1]||(t[1]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"refresh",-1)]))]),t[3]||(t[3]=Object(c["j"])('<div class="market-stats" data-v-336e696f><div class="stat-item" data-v-336e696f><div class="stat-label" data-v-336e696f>Market Volume</div><div class="stat-value" data-v-336e696f>$123,456</div><div class="stat-trend up" data-v-336e696f><span class="material-symbols-rounded" data-v-336e696f>trending_up</span> +5.2% </div></div><div class="stat-item" data-v-336e696f><div class="stat-label" data-v-336e696f>Active Listings</div><div class="stat-value" data-v-336e696f>24,789</div><div class="stat-trend down" data-v-336e696f><span class="material-symbols-rounded" data-v-336e696f>trending_down</span> -2.1% </div></div><div class="stat-item" data-v-336e696f><div class="stat-label" data-v-336e696f>Avg Card Price</div><div class="stat-value" data-v-336e696f>$48.32</div><div class="stat-trend up" data-v-336e696f><span class="material-symbols-rounded" data-v-336e696f>trending_up</span> +1.8% </div></div></div>',1))])}var Yt={name:"MarketWidget",methods:{refreshData(){}}};a("3b4f");const ea=q()(Yt,[["render",Xt],["__scopeId","data-v-336e696f"]]);var ta=ea;const aa={class:"trending-widget"},ca={class:"widget-header"},sa={class:"time-filter"},ia=["onClick"],la={class:"trending-cards"},ra=["src","alt"],na={class:"card-info"},oa={class:"card-name"},da={class:"card-price"},ba={class:"material-symbols-rounded"};function ua(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",aa,[Object(c["i"])("div",ca,[t[0]||(t[0]=Object(c["i"])("h2",null,"Trending Cards",-1)),Object(c["i"])("div",sa,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(i.periods,e=>(Object(c["x"])(),Object(c["h"])("button",{key:e,class:Object(c["r"])({active:i.selectedPeriod===e}),onClick:t=>i.selectedPeriod=e},Object(c["H"])(e),11,ia))),128))])]),Object(c["i"])("div",la,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(i.trendingCards,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:"trend-card"},[Object(c["i"])("img",{src:e.image,alt:e.name,class:"card-thumbnail"},null,8,ra),Object(c["i"])("div",na,[Object(c["i"])("div",oa,Object(c["H"])(e.name),1),Object(c["i"])("div",da,"$"+Object(c["H"])(e.price),1),Object(c["i"])("div",{class:Object(c["r"])(["price-change",e.change>0?"up":"down"])},[Object(c["i"])("span",ba,Object(c["H"])(e.change>0?"trending_up":"trending_down"),1),Object(c["k"])(" "+Object(c["H"])(Math.abs(e.change))+"% ",1)],2)])]))),128))])])}var Oa={name:"TrendingCardsWidget",data(){return{periods:["24h","7d","30d"],selectedPeriod:"24h",trendingCards:[{id:1,name:"Charizard VMAX",price:189.99,change:12.5,image:"path/to/image"}]}}};a("dfd6");const ja=q()(Oa,[["render",ua],["__scopeId","data-v-c75984e0"]]);var ma=ja,pa={name:"Home",components:{Collection:Gt,MarketWidget:ta,TrendingCardsWidget:ma},data(){return{mostExpensiveCard:null,topValuedCards:[],trends:[{id:1,name:"Charizard Base Set",change:"+12.5",direction:"up"},{id:2,name:"Pikachu Illustrator",change:"+5.2",direction:"up"},{id:3,name:"Mewtwo GX",change:"-2.1",direction:"down"}],news:[{id:1,title:"New Scarlet & Violet Set Announced",excerpt:"The Pokémon Company reveals exciting new cards...",date:"2 hours ago"},{id:2,title:"Record Breaking Card Sale",excerpt:"Rare Pikachu card sells for unprecedented amount...",date:"1 day ago"}]}},async mounted(){try{const e=await tt["a"].getCards(1,100),t=e.data.map(e=>({id:e.id,name:e.name,imageUrl:e.images.small,price:e.cardmarket&&e.cardmarket.prices?e.cardmarket.prices.averageSellPrice:0})).filter(e=>e.price>0);t.sort((e,t)=>t.price-e.price),this.mostExpensiveCard=t[0],this.topValuedCards=t.slice(0,5)}catch(e){console.error("Error fetching cards:",e)}},computed:{isLoggedIn(){return!!h["a"].state.session}}};a("7307");const ha=q()(pa,[["render",be],["__scopeId","data-v-d72b2e98"]]);var va=ha;const ga={class:"auth-container"},fa={class:"auth-card"},ya={class:"form-group"},ka={class:"input-wrapper"},wa={class:"form-group"},Ca={class:"input-wrapper"},Sa={key:0,class:"error-message"},_a=["disabled"],xa={class:"button-content"},Aa={class:"auth-footer"};function Pa(e,t,a,s,i,l){const r=Object(c["D"])("router-link");return Object(c["x"])(),Object(c["h"])("div",ga,[Object(c["i"])("div",fa,[t[9]||(t[9]=Object(c["i"])("div",{class:"auth-header"},[Object(c["i"])("span",{class:"material-symbols-rounded"},"person_outline"),Object(c["i"])("h1",null,"Welcome Back"),Object(c["i"])("p",{class:"subtitle"},"Sign in to manage your collection")],-1)),Object(c["i"])("form",{onSubmit:t[2]||(t[2]=Object(c["R"])((...e)=>l.handleSubmit&&l.handleSubmit(...e),["prevent"]))},[Object(c["i"])("div",ya,[Object(c["i"])("div",ka,[t[3]||(t[3]=Object(c["i"])("span",{class:"material-symbols-rounded"},"mail",-1)),Object(c["P"])(Object(c["i"])("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>i.email=e),type:"email",placeholder:"Email address",required:""},null,512),[[c["M"],i.email]])])]),Object(c["i"])("div",wa,[Object(c["i"])("div",Ca,[t[4]||(t[4]=Object(c["i"])("span",{class:"material-symbols-rounded"},"lock",-1)),Object(c["P"])(Object(c["i"])("input",{id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>i.password=e),type:"password",placeholder:"Password",required:""},null,512),[[c["M"],i.password]])])]),i.error?(Object(c["x"])(),Object(c["h"])("div",Sa,[t[5]||(t[5]=Object(c["i"])("span",{class:"material-symbols-rounded"},"error",-1)),Object(c["k"])(" "+Object(c["H"])(i.error),1)])):Object(c["g"])("",!0),Object(c["i"])("button",{type:"submit",disabled:i.loading,class:Object(c["r"])(["submit-button",{loading:i.loading}])},[Object(c["i"])("span",xa,[t[6]||(t[6]=Object(c["i"])("span",{class:"material-symbols-rounded"},"login",-1)),Object(c["k"])(" "+Object(c["H"])(i.loading?"Signing in...":"Sign In"),1)])],10,_a)],32),Object(c["i"])("div",Aa,[t[8]||(t[8]=Object(c["i"])("p",null,"Don't have an account?",-1)),Object(c["l"])(r,{to:"/register",class:"auth-link"},{default:Object(c["O"])(()=>t[7]||(t[7]=[Object(c["k"])(" Create Account "),Object(c["i"])("span",{class:"material-symbols-rounded"},"arrow_forward",-1)])),_:1})])])])}var Ma={name:"Login",data(){return{email:"",password:"",loading:!1,error:null}},methods:{async handleSubmit(){this.loading=!0,this.error=null;const{user:e,error:t}=await h["a"].signIn(this.email,this.password);t?this.error=t.message:this.$router.push("/dashboard"),this.loading=!1}}};a("15a5");const Ha=q()(Ma,[["render",Pa],["__scopeId","data-v-48df06ae"]]);var Ia=Ha;const Ua={class:"my-collection"},Da={class:"collection-header"},Ta={class:"stats"},qa={class:"stat-item"},Fa={class:"stat-content"},Va={class:"stat-item"},Ra={class:"stat-content"},Na={key:0,class:"cards-grid"},Ea=["onClick"],La={class:"card-hover-overlay"},Wa=["onClick"],$a={class:"card-content"},Ba=["src","alt"],za={class:"card-details"},Qa={class:"card-meta"},Ja={class:"card-set"},Ga={key:0,class:"card-rarity"},Ka={key:0,class:"card-price"},Za={key:1,class:"empty-state"};function Xa(e,t,a,s,i,l){const r=Object(c["D"])("router-link"),n=Object(c["D"])("CardDetailsModal");return Object(c["x"])(),Object(c["h"])("div",Ua,[Object(c["i"])("div",Da,[t[5]||(t[5]=Object(c["i"])("h1",null,"My Collection",-1)),Object(c["i"])("div",Ta,[Object(c["i"])("div",qa,[t[2]||(t[2]=Object(c["i"])("span",{class:"material-symbols-rounded"},"diamond",-1)),Object(c["i"])("div",Fa,[t[1]||(t[1]=Object(c["i"])("h3",null,"Total Cards",-1)),Object(c["i"])("p",null,Object(c["H"])(i.collection.length),1)])]),Object(c["i"])("div",Va,[t[4]||(t[4]=Object(c["i"])("span",{class:"material-symbols-rounded"},"payments",-1)),Object(c["i"])("div",Ra,[t[3]||(t[3]=Object(c["i"])("h3",null,"Total Value",-1)),Object(c["i"])("p",null,"$"+Object(c["H"])(l.totalValue.toFixed(2)),1)])])])]),i.collection.length?(Object(c["x"])(),Object(c["h"])("div",Na,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(i.collection,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:"card-item",onClick:t=>l.showCardDetails(e)},[Object(c["i"])("div",La,[Object(c["i"])("button",{class:"action-button",onClick:Object(c["R"])(t=>l.removeFromCollection(e.id),["stop"]),title:"Remove from Collection"},t[6]||(t[6]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"remove_circle",-1)]),8,Wa)]),Object(c["i"])("div",$a,[Object(c["i"])("img",{src:e.imageUrl||e.images.small,alt:e.name,loading:"lazy"},null,8,Ba),Object(c["i"])("div",za,[Object(c["i"])("h3",null,Object(c["H"])(e.name),1),Object(c["i"])("div",Qa,[Object(c["i"])("span",Ja,Object(c["H"])(e.set.name),1),e.rarity?(Object(c["x"])(),Object(c["h"])("span",Ga,Object(c["H"])(e.rarity),1)):Object(c["g"])("",!0)]),"N/A"!==e.price?(Object(c["x"])(),Object(c["h"])("div",Ka," €"+Object(c["H"])(Number(e.price).toFixed(2)),1)):Object(c["g"])("",!0)])])],8,Ea))),128))])):(Object(c["x"])(),Object(c["h"])("div",Za,[t[8]||(t[8]=Object(c["i"])("span",{class:"material-symbols-rounded"},"category",-1)),t[9]||(t[9]=Object(c["i"])("h2",null,"Your collection is empty",-1)),t[10]||(t[10]=Object(c["i"])("p",null,"Start adding cards from the collection page!",-1)),Object(c["l"])(r,{to:"/collection",class:"browse-button"},{default:Object(c["O"])(()=>t[7]||(t[7]=[Object(c["k"])(" Browse Cards ")])),_:1})])),i.selectedCard?(Object(c["x"])(),Object(c["f"])(n,{key:2,card:i.selectedCard,onClose:t[0]||(t[0]=e=>i.selectedCard=null)},null,8,["card"])):Object(c["g"])("",!0)])}var Ya={components:{Card:et,CardDetailsModal:Bt},data(){return{collection:[],selectedCard:null}},computed:{totalValue(){return this.collection.reduce((e,t)=>{const a="number"===typeof t.price?t.price:0;return e+a},0)}},methods:{loadCollection(){const e=Lt.getCollection();this.collection=e.map(e=>({...e,price:"N/A"!==e.price?Number(e.price):"N/A"}))},removeFromCollection(e){Lt.removeFromCollection(e),this.loadCollection()},showCardDetails(e){this.selectedCard=e}},mounted(){this.loadCollection()}};a("7265");const ec=q()(Ya,[["render",Xa],["__scopeId","data-v-11103bb6"]]);var tc=ec;const ac={class:"wishlist"},cc={class:"wishlist-header"},sc={class:"stats"},ic={class:"stat-item"},lc={class:"stat-content"},rc={class:"stat-item"},nc={class:"stat-content"},oc={key:0,class:"cards-grid"},dc=["onClick"],bc={key:0,class:"store-badge"},uc={class:"card-hover-overlay"},Oc=["onClick"],jc=["onClick"],mc={class:"card-content"},pc=["src","alt"],hc={class:"card-details"},vc={class:"card-meta"},gc={class:"card-set"},fc={key:0,class:"card-rarity"},yc={key:0,class:"card-price"},kc={key:1,class:"empty-state"};function wc(e,t,a,s,i,l){const r=Object(c["D"])("router-link"),n=Object(c["D"])("CardDetailsModal");return Object(c["x"])(),Object(c["h"])("div",ac,[Object(c["i"])("div",cc,[t[5]||(t[5]=Object(c["i"])("h1",null,"My Wishlist",-1)),Object(c["i"])("div",sc,[Object(c["i"])("div",ic,[t[2]||(t[2]=Object(c["i"])("span",{class:"material-symbols-rounded"},"favorite",-1)),Object(c["i"])("div",lc,[t[1]||(t[1]=Object(c["i"])("h3",null,"Wanted Cards",-1)),Object(c["i"])("p",null,Object(c["H"])(i.wishlist.length),1)])]),Object(c["i"])("div",rc,[t[4]||(t[4]=Object(c["i"])("span",{class:"material-symbols-rounded"},"savings",-1)),Object(c["i"])("div",nc,[t[3]||(t[3]=Object(c["i"])("h3",null,"Total Value",-1)),Object(c["i"])("p",null,"$"+Object(c["H"])(l.estimatedTotal.toFixed(2)),1)])])])]),i.wishlist.length?(Object(c["x"])(),Object(c["h"])("div",oc,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(i.wishlist,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:Object(c["r"])(["card-item",{"available-in-store":l.isAvailableInStore(e.id)}]),onClick:t=>l.showCardDetails(e)},[l.isAvailableInStore(e.id)?(Object(c["x"])(),Object(c["h"])("div",bc,t[6]||(t[6]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"shopping_cart",-1),Object(c["k"])(" Available in Store ")]))):Object(c["g"])("",!0),Object(c["i"])("div",uc,[l.isInCollection(e.id)?Object(c["g"])("",!0):(Object(c["x"])(),Object(c["h"])("button",{key:0,class:"action-button collect",onClick:Object(c["R"])(t=>l.addToCollection(e),["stop"]),title:"Add to Collection"},t[7]||(t[7]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"add_circle",-1)]),8,Oc)),Object(c["i"])("button",{class:"action-button remove",onClick:Object(c["R"])(t=>l.removeFromWishlist(e.id),["stop"]),title:"Remove from Wishlist"},t[8]||(t[8]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"favorite",-1)]),8,jc)]),Object(c["i"])("div",mc,[t[9]||(t[9]=Object(c["i"])("div",{class:"card-badge"},"Wishlist",-1)),Object(c["i"])("img",{src:e.imageUrl||e.images.small,alt:e.name,loading:"lazy"},null,8,pc),Object(c["i"])("div",hc,[Object(c["i"])("h3",null,Object(c["H"])(e.name),1),Object(c["i"])("div",vc,[Object(c["i"])("span",gc,Object(c["H"])(e.set.name),1),e.rarity?(Object(c["x"])(),Object(c["h"])("span",fc,Object(c["H"])(e.rarity),1)):Object(c["g"])("",!0)]),"N/A"!==e.price?(Object(c["x"])(),Object(c["h"])("div",yc," €"+Object(c["H"])(Number(e.price).toFixed(2)),1)):Object(c["g"])("",!0)])])],10,dc))),128))])):(Object(c["x"])(),Object(c["h"])("div",kc,[t[11]||(t[11]=Object(c["i"])("span",{class:"material-symbols-rounded"},"favorite_border",-1)),t[12]||(t[12]=Object(c["i"])("h2",null,"Your wishlist is empty",-1)),t[13]||(t[13]=Object(c["i"])("p",null,"Start adding cards you want to collect!",-1)),Object(c["l"])(r,{to:"/collection",class:"browse-button"},{default:Object(c["O"])(()=>t[10]||(t[10]=[Object(c["k"])(" Browse Cards ")])),_:1})])),i.selectedCard?(Object(c["x"])(),Object(c["f"])(n,{key:2,card:i.selectedCard,onClose:t[0]||(t[0]=e=>i.selectedCard=null),onAddedToCollection:l.handleAddedToCollection},null,8,["card","onAddedToCollection"])):Object(c["g"])("",!0)])}function Cc(){const e=Object(c["A"])(new Map),t=async t=>{try{const{data:a}=await U["a"].from("products").select("*").eq("card_id",t).eq("active",!0).gt("stock",0).single();return e.value.set(t,a||null),a}catch(a){return console.error("Error checking store availability:",a),null}};return{availableProducts:e,checkStoreAvailability:t}}var Sc={components:{Card:et,CardDetailsModal:Bt},data(){return{wishlist:[],selectedCard:null}},computed:{estimatedTotal(){return this.wishlist.reduce((e,t)=>{const a="number"===typeof t.price?t.price:0;return e+a},0)}},setup(){const{availableProducts:e,checkStoreAvailability:t}=Cc();return{availableProducts:e,checkStoreAvailability:t}},methods:{loadWishlist(){const e=Lt.getWishlist();this.wishlist=e.map(e=>({...e,price:"N/A"!==e.price?Number(e.price):"N/A"}))},removeFromWishlist(e){Lt.removeFromWishlist(e),this.loadWishlist()},addToCollection(e){Lt.addToCollection(e),Lt.removeFromWishlist(e.id),this.loadWishlist()},isInCollection(e){return Lt.isInCollection(e)},showCardDetails(e){this.selectedCard=e},handleAddedToCollection(){this.loadWishlist()},isAvailableInStore(e){return void 0!==this.availableProducts.get(e)&&null!==this.availableProducts.get(e)},async checkWishlistAvailability(){for(const e of this.wishlist)await this.checkStoreAvailability(e.id)}},async mounted(){this.loadWishlist(),await this.checkWishlistAvailability()}};a("3743");const _c=q()(Sc,[["render",wc],["__scopeId","data-v-706fa52c"]]);var xc=_c;const Ac={class:"admin-container"},Pc={class:"admin-header"},Mc={class:"quick-stats"},Hc={class:"stat-card"},Ic={class:"stat-card"},Uc={class:"stat-card"},Dc={class:"admin-tabs"},Tc=["onClick"],qc={class:"material-symbols-rounded"},Fc={key:0,class:"admin-panel"},Vc={class:"panel-header"},Rc={class:"search-box"},Nc={class:"table-container"},Ec={class:"data-table"},Lc={class:"actions"},Wc=["onClick"],$c=["onClick"],Bc={key:1,class:"admin-panel"},zc={key:2,class:"admin-panel"},Qc={key:3,class:"admin-panel"},Jc={key:4,class:"admin-panel"},Gc={key:5,class:"admin-panel"},Kc={key:6,class:"admin-panel"},Zc={class:"form-section"},Xc={key:0,class:"form-group"},Yc={class:"input-wrapper"},es={key:1,class:"form-group"},ts={class:"input-wrapper"},as={class:"form-group"},cs={class:"input-wrapper"},ss={class:"form-group"},is={class:"input-wrapper"},ls={class:"form-group"},rs={class:"select-wrapper"},ns={class:"form-group"},os={class:"select-wrapper"},ds={key:0,class:"error-message"},bs={class:"form-actions"},us=["disabled"],Os={class:"modal-actions"};function js(e,t,a,s,i,l){const r=Object(c["D"])("NewsManager"),n=Object(c["D"])("CardsManager"),o=Object(c["D"])("ReportsManager"),d=Object(c["D"])("SettingsManager"),b=Object(c["D"])("StoreManager"),u=Object(c["D"])("OrderManager"),O=Object(c["D"])("Modal");return Object(c["x"])(),Object(c["h"])("div",Ac,[Object(c["i"])("div",Pc,[t[19]||(t[19]=Object(c["i"])("h1",null,"Admin Dashboard",-1)),Object(c["i"])("div",Mc,[Object(c["i"])("div",Hc,[t[14]||(t[14]=Object(c["i"])("span",{class:"material-symbols-rounded"},"group",-1)),Object(c["i"])("div",null,[t[13]||(t[13]=Object(c["i"])("h3",null,"Total Users",-1)),Object(c["i"])("p",null,Object(c["H"])(s.stats.totalUsers),1)])]),Object(c["i"])("div",Ic,[t[16]||(t[16]=Object(c["i"])("span",{class:"material-symbols-rounded"},"style",-1)),Object(c["i"])("div",null,[t[15]||(t[15]=Object(c["i"])("h3",null,"Total Cards",-1)),Object(c["i"])("p",null,Object(c["H"])(s.stats.totalCards),1)])]),Object(c["i"])("div",Uc,[t[18]||(t[18]=Object(c["i"])("span",{class:"material-symbols-rounded"},"today",-1)),Object(c["i"])("div",null,[t[17]||(t[17]=Object(c["i"])("h3",null,"New Today",-1)),Object(c["i"])("p",null,Object(c["H"])(s.stats.newToday),1)])])])]),Object(c["i"])("div",Dc,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.tabs,e=>(Object(c["x"])(),Object(c["h"])("button",{key:e.id,class:Object(c["r"])({active:s.currentTab===e.id}),onClick:t=>s.currentTab=e.id},[Object(c["i"])("span",qc,Object(c["H"])(e.icon),1),Object(c["k"])(" "+Object(c["H"])(e.name),1)],10,Tc))),128))]),"users"===s.currentTab?(Object(c["x"])(),Object(c["h"])("div",Fc,[Object(c["i"])("div",Vc,[Object(c["i"])("div",Rc,[t[20]||(t[20]=Object(c["i"])("span",{class:"material-symbols-rounded"},"search",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.userSearch=e),type:"text",placeholder:"Search users..."},null,512),[[c["M"],s.userSearch]])]),Object(c["i"])("button",{class:"add-button",onClick:t[1]||(t[1]=(...e)=>s.initNewUser&&s.initNewUser(...e))},t[21]||(t[21]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"person_add",-1),Object(c["k"])(" Add User ")]))]),Object(c["i"])("div",Nc,[Object(c["i"])("table",Ec,[t[24]||(t[24]=Object(c["i"])("thead",null,[Object(c["i"])("tr",null,[Object(c["i"])("th",null,"Email"),Object(c["i"])("th",null,"Name"),Object(c["i"])("th",null,"Role"),Object(c["i"])("th",null,"Status"),Object(c["i"])("th",null,"Joined"),Object(c["i"])("th",null,"Actions")])],-1)),Object(c["i"])("tbody",null,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.filteredUsers,e=>(Object(c["x"])(),Object(c["h"])("tr",{key:e.id},[Object(c["i"])("td",null,Object(c["H"])(e.email),1),Object(c["i"])("td",null,Object(c["H"])(e.full_name||"-"),1),Object(c["i"])("td",null,[Object(c["i"])("span",{class:Object(c["r"])(["role-badge",e.role])},Object(c["H"])(e.role),3)]),Object(c["i"])("td",null,[Object(c["i"])("span",{class:Object(c["r"])(["status-badge",e.status])},Object(c["H"])(e.status),3)]),Object(c["i"])("td",null,Object(c["H"])(s.formatDate(e.created_at)),1),Object(c["i"])("td",Lc,[Object(c["i"])("button",{onClick:t=>s.editUser(e),class:"icon-button"},t[22]||(t[22]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"edit",-1)]),8,Wc),Object(c["i"])("button",{onClick:t=>s.confirmDeleteUser(e),class:"icon-button danger"},t[23]||(t[23]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"delete",-1)]),8,$c)])]))),128))])])])])):Object(c["g"])("",!0),"news"===s.currentTab?(Object(c["x"])(),Object(c["h"])("div",Bc,[Object(c["l"])(r)])):Object(c["g"])("",!0),"cards"===s.currentTab?(Object(c["x"])(),Object(c["h"])("div",zc,[Object(c["l"])(n)])):Object(c["g"])("",!0),"reports"===s.currentTab?(Object(c["x"])(),Object(c["h"])("div",Qc,[Object(c["l"])(o)])):Object(c["g"])("",!0),"settings"===s.currentTab?(Object(c["x"])(),Object(c["h"])("div",Jc,[Object(c["l"])(d)])):Object(c["g"])("",!0),"store"===s.currentTab?(Object(c["x"])(),Object(c["h"])("div",Gc,[Object(c["l"])(b)])):Object(c["g"])("",!0),"orders"===s.currentTab?(Object(c["x"])(),Object(c["h"])("div",Kc,[Object(c["l"])(u)])):Object(c["g"])("",!0),s.showEditModal?(Object(c["x"])(),Object(c["f"])(O,{key:7,onClose:s.closeEditModal},{header:Object(c["O"])(()=>[Object(c["i"])("h2",null,Object(c["H"])(s.editingUser&&s.editingUser.id?"Edit User":"Add User"),1)]),default:Object(c["O"])(()=>[Object(c["i"])("form",{onSubmit:t[9]||(t[9]=Object(c["R"])((...e)=>s.saveUser&&s.saveUser(...e),["prevent"])),class:"edit-form"},[Object(c["i"])("div",Zc,[s.editingUser&&s.editingUser.id?Object(c["g"])("",!0):(Object(c["x"])(),Object(c["h"])("div",Xc,[t[25]||(t[25]=Object(c["i"])("label",null,"Email *",-1)),Object(c["i"])("div",Yc,[Object(c["P"])(Object(c["i"])("input",{type:"email","onUpdate:modelValue":t[2]||(t[2]=e=>s.userForm.email=e),required:"",placeholder:"user@example.com"},null,512),[[c["M"],s.userForm.email]])])])),s.editingUser&&s.editingUser.id?Object(c["g"])("",!0):(Object(c["x"])(),Object(c["h"])("div",es,[t[26]||(t[26]=Object(c["i"])("label",null,"Password *",-1)),Object(c["i"])("div",ts,[Object(c["P"])(Object(c["i"])("input",{type:"password","onUpdate:modelValue":t[3]||(t[3]=e=>s.userForm.password=e),required:"",placeholder:"Enter password",minlength:"6"},null,512),[[c["M"],s.userForm.password]])])])),Object(c["i"])("div",as,[t[27]||(t[27]=Object(c["i"])("label",null,"First Name",-1)),Object(c["i"])("div",cs,[Object(c["P"])(Object(c["i"])("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>s.userForm.first_name=e),placeholder:"Enter first name"},null,512),[[c["M"],s.userForm.first_name]])])]),Object(c["i"])("div",ss,[t[28]||(t[28]=Object(c["i"])("label",null,"Last Name",-1)),Object(c["i"])("div",is,[Object(c["P"])(Object(c["i"])("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>s.userForm.last_name=e),placeholder:"Enter last name"},null,512),[[c["M"],s.userForm.last_name]])])]),Object(c["i"])("div",ls,[t[31]||(t[31]=Object(c["i"])("label",null,"Role",-1)),Object(c["i"])("div",rs,[Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>s.userForm.role=e)},t[29]||(t[29]=[Object(c["i"])("option",{value:"user"},"Regular User",-1),Object(c["i"])("option",{value:"admin"},"Administrator",-1)]),512),[[c["L"],s.userForm.role]]),t[30]||(t[30]=Object(c["i"])("span",{class:"material-symbols-rounded"},"expand_more",-1))])]),Object(c["i"])("div",ns,[t[34]||(t[34]=Object(c["i"])("label",null,"Status",-1)),Object(c["i"])("div",os,[Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>s.userForm.status=e)},t[32]||(t[32]=[Object(c["i"])("option",{value:"active"},"Active",-1),Object(c["i"])("option",{value:"suspended"},"Suspended",-1)]),512),[[c["L"],s.userForm.status]]),t[33]||(t[33]=Object(c["i"])("span",{class:"material-symbols-rounded"},"expand_more",-1))])])]),s.formError?(Object(c["x"])(),Object(c["h"])("div",ds,Object(c["H"])(s.formError),1)):Object(c["g"])("",!0),Object(c["i"])("div",bs,[Object(c["i"])("button",{type:"button",class:"cancel-button",onClick:t[8]||(t[8]=(...e)=>s.closeEditModal&&s.closeEditModal(...e))}," Cancel "),Object(c["i"])("button",{type:"submit",class:"save-button",disabled:s.isSubmitting},Object(c["H"])(s.isSubmitting?"Saving...":"Save Changes"),9,us)])],32)]),_:1},8,["onClose"])):Object(c["g"])("",!0),s.showDeleteModal?(Object(c["x"])(),Object(c["f"])(O,{key:8,onClose:t[12]||(t[12]=e=>s.showDeleteModal=!1)},{header:Object(c["O"])(()=>t[35]||(t[35]=[Object(c["i"])("h2",null,"Confirm Delete",-1)])),default:Object(c["O"])(()=>[t[36]||(t[36]=Object(c["i"])("p",null,"Are you sure you want to delete this user?",-1)),Object(c["i"])("div",Os,[Object(c["i"])("button",{onClick:t[10]||(t[10]=e=>s.showDeleteModal=!1)},"Cancel"),Object(c["i"])("button",{onClick:t[11]||(t[11]=(...e)=>s.deleteUser&&s.deleteUser(...e)),class:"danger"},"Delete")])]),_:1})):Object(c["g"])("",!0)])}var ms=a("714b");const ps={class:"news-manager"},hs={class:"panel-header"},vs={class:"articles-list"},gs={class:"article-content"},fs={class:"article-date"},ys={class:"article-tags"},ks={class:"article-actions"},ws=["onClick"],Cs=["onClick"],Ss={class:"form-group"},_s={class:"form-group"},xs={class:"form-group"},As={class:"form-group"},Ps={class:"tags-preview"},Ms=["onClick"],Hs={class:"form-actions"};function Is(e,t,a,s,i,l){const r=Object(c["D"])("Modal");return Object(c["x"])(),Object(c["h"])("div",ps,[Object(c["i"])("div",hs,[t[9]||(t[9]=Object(c["i"])("h2",null,"News Articles",-1)),Object(c["i"])("button",{class:"add-button",onClick:t[0]||(t[0]=(...e)=>s.showAddModal&&s.showAddModal(...e))},t[8]||(t[8]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"post_add",-1),Object(c["k"])(" Create Article ")]))]),Object(c["i"])("div",vs,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.articles,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:"article-card"},[Object(c["i"])("div",gs,[Object(c["i"])("span",fs,Object(c["H"])(s.formatDate(e.created_at)),1),Object(c["i"])("h3",null,Object(c["H"])(e.title),1),Object(c["i"])("p",null,Object(c["H"])(e.excerpt),1),Object(c["i"])("div",ys,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(e.tags,e=>(Object(c["x"])(),Object(c["h"])("span",{key:e,class:"tag"},Object(c["H"])(e),1))),128))])]),Object(c["i"])("div",ks,[Object(c["i"])("button",{onClick:t=>s.editArticle(e),class:"icon-button"},t[10]||(t[10]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"edit",-1)]),8,ws),Object(c["i"])("button",{onClick:t=>s.deleteArticle(e.id),class:"icon-button danger"},t[11]||(t[11]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"delete",-1)]),8,Cs)])]))),128))]),s.showModal?(Object(c["x"])(),Object(c["f"])(r,{key:0,onClose:s.closeModal},{header:Object(c["O"])(()=>[Object(c["i"])("h2",null,Object(c["H"])(s.editingArticle?"Edit Article":"Create Article"),1)]),default:Object(c["O"])(()=>[Object(c["i"])("form",{onSubmit:t[7]||(t[7]=Object(c["R"])((...e)=>s.saveArticle&&s.saveArticle(...e),["prevent"])),class:"article-form"},[Object(c["i"])("div",Ss,[t[12]||(t[12]=Object(c["i"])("label",null,"Title *",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.articleForm.title=e),required:"",type:"text"},null,512),[[c["M"],s.articleForm.title]])]),Object(c["i"])("div",_s,[t[13]||(t[13]=Object(c["i"])("label",null,"Excerpt *",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>s.articleForm.excerpt=e),required:"",type:"text"},null,512),[[c["M"],s.articleForm.excerpt]])]),Object(c["i"])("div",xs,[t[14]||(t[14]=Object(c["i"])("label",null,"Content *",-1)),Object(c["P"])(Object(c["i"])("textarea",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.articleForm.content=e),required:"",rows:"6"},null,512),[[c["M"],s.articleForm.content]])]),Object(c["i"])("div",As,[t[15]||(t[15]=Object(c["i"])("label",null,"Tags",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>s.tagInput=e),onKeydown:t[5]||(t[5]=Object(c["Q"])(Object(c["R"])((...e)=>s.addTag&&s.addTag(...e),["prevent"]),["enter"])),placeholder:"Press enter to add tag"},null,544),[[c["M"],s.tagInput]]),Object(c["i"])("div",Ps,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.articleForm.tags,e=>(Object(c["x"])(),Object(c["h"])("span",{key:e,class:"tag",onClick:t=>s.removeTag(e)},Object(c["H"])(e)+" × ",9,Ms))),128))])]),Object(c["i"])("div",Hs,[Object(c["i"])("button",{type:"button",onClick:t[6]||(t[6]=(...e)=>s.closeModal&&s.closeModal(...e))},"Cancel"),t[16]||(t[16]=Object(c["i"])("button",{type:"submit",class:"primary"},"Save Article",-1))])],32)]),_:1},8,["onClose"])):Object(c["g"])("",!0)])}var Us={name:"NewsManager",components:{Modal:ms["a"]},setup(){const e=Object(c["A"])([]),t=Object(c["A"])(!1),a=Object(c["A"])(null),s=Object(c["A"])(""),i=Object(c["A"])({title:"",excerpt:"",content:"",tags:[]}),l=()=>{i.value={title:"",excerpt:"",content:"",tags:[]},a.value=null,s.value=""},r=async()=>{const{data:t,error:a}=await U["a"].from("news_articles").select("*").order("created_at",{ascending:!1});a||(e.value=t)},n=()=>{l(),t.value=!0},o=e=>{a.value=e,i.value={...e},t.value=!0},d=async()=>{const e={...i.value,updated_at:new Date};a.value?await U["a"].from("news_articles").update(e).eq("id",a.value.id):await U["a"].from("news_articles").insert([e]),await r(),j()},b=async e=>{confirm("Are you sure you want to delete this article?")&&(await U["a"].from("news_articles").delete().eq("id",e),await r())},u=()=>{const e=s.value.trim();e&&!i.value.tags.includes(e)&&i.value.tags.push(e),s.value=""},O=e=>{i.value.tags=i.value.tags.filter(t=>t!==e)},j=()=>{t.value=!1,l()};return Object(c["v"])(r),{articles:e,showModal:t,editingArticle:a,articleForm:i,tagInput:s,showAddModal:n,editArticle:o,saveArticle:d,deleteArticle:b,addTag:u,removeTag:O,closeModal:j,formatDate:e=>new Date(e).toLocaleDateString()}}};a("5e33");const Ds=q()(Us,[["render",Is],["__scopeId","data-v-075acf4a"]]);var Ts=Ds;const qs={class:"cards-manager"},Fs={class:"panel-header"},Vs={class:"actions"},Rs={class:"panel-content"},Ns={class:"cards-stats"},Es={class:"stat-item"},Ls={class:"stat-item"},Ws={class:"cards-grid"},$s=["src","alt"],Bs={class:"card-info"},zs={class:"card-actions"},Qs=["onClick"],Js=["onClick"];function Gs(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",qs,[Object(c["i"])("div",Fs,[Object(c["i"])("div",Vs,[Object(c["i"])("button",{class:"action-button",onClick:t[0]||(t[0]=(...t)=>e.syncCards&&e.syncCards(...t))},t[2]||(t[2]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"sync",-1),Object(c["k"])(" Sync with API ")])),Object(c["i"])("button",{class:"action-button",onClick:t[1]||(t[1]=(...t)=>e.importCards&&e.importCards(...t))},t[3]||(t[3]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"upload_file",-1),Object(c["k"])(" Import Cards ")]))])]),Object(c["i"])("div",Rs,[Object(c["i"])("div",Ns,[Object(c["i"])("div",Es,[t[4]||(t[4]=Object(c["i"])("h4",null,"Total Cards",-1)),Object(c["i"])("p",null,Object(c["H"])(s.stats.total),1)]),Object(c["i"])("div",Ls,[t[5]||(t[5]=Object(c["i"])("h4",null,"Last Synced",-1)),Object(c["i"])("p",null,Object(c["H"])(s.stats.lastSync?s.formatDate(s.stats.lastSync):"Never"),1)])]),Object(c["i"])("div",Ws,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.cards,a=>(Object(c["x"])(),Object(c["h"])("div",{key:a.id,class:"card-item"},[Object(c["i"])("img",{src:a.imageUrl,alt:a.name},null,8,$s),Object(c["i"])("div",Bs,[Object(c["i"])("h3",null,Object(c["H"])(a.name),1),Object(c["i"])("p",null,"$"+Object(c["H"])(a.price),1),Object(c["i"])("div",zs,[Object(c["i"])("button",{onClick:t=>e.editCard(a)},t[6]||(t[6]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"edit",-1)]),8,Qs),Object(c["i"])("button",{onClick:t=>e.deleteCard(a.id),class:"danger"},t[7]||(t[7]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"delete",-1)]),8,Js)])])]))),128))])])])}var Ks={name:"CardsManager",setup(){const e=Object(c["A"])([]),t=Object(c["A"])({total:0,lastSync:null});async function a(){const{data:a,error:c}=await U["a"].from("cards").select("*").order("name");c||(e.value=a,t.value.total=a.length)}return Object(c["v"])(a),{cards:e,stats:t,formatDate:e=>new Date(e).toLocaleDateString()}}};a("0e58");const Zs=q()(Ks,[["render",Gs],["__scopeId","data-v-1bee8475"]]);var Xs=Zs;const Ys={class:"reports-manager"},ei={class:"reports-grid"},ti={class:"report-card"},ai={class:"stat-list"},ci={class:"stat-item"},si={class:"stat-value"},ii={class:"stat-item"},li={class:"stat-value"},ri={class:"report-card"},ni={class:"stat-list"},oi={class:"stat-item"},di={class:"stat-value"},bi={class:"stat-item"},ui={class:"stat-value"},Oi={class:"report-card highlight"},ji={class:"ranking-list"},mi={class:"rank-info"},pi=["src","alt"],hi={class:"report-card"},vi={class:"activity-list"},gi={class:"activity-content"},fi={class:"activity-time"};function yi(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",Ys,[Object(c["i"])("div",ei,[Object(c["i"])("div",ti,[t[4]||(t[4]=Object(c["i"])("h3",null,"User Analytics",-1)),Object(c["i"])("div",ai,[Object(c["i"])("div",ci,[t[0]||(t[0]=Object(c["i"])("span",{class:"stat-label"},"Active Users",-1)),Object(c["i"])("span",si,Object(c["H"])(s.stats.activeUsers),1),t[1]||(t[1]=Object(c["i"])("span",{class:"stat-trend up"},"+12.5%",-1))]),Object(c["i"])("div",ii,[t[2]||(t[2]=Object(c["i"])("span",{class:"stat-label"},"Average Collection Size",-1)),Object(c["i"])("span",li,Object(c["H"])(s.stats.avgCollectionSize),1),t[3]||(t[3]=Object(c["i"])("span",{class:"stat-trend up"},"+5.2%",-1))])])]),Object(c["i"])("div",ri,[t[8]||(t[8]=Object(c["i"])("h3",null,"Market Overview",-1)),Object(c["i"])("div",ni,[Object(c["i"])("div",oi,[t[5]||(t[5]=Object(c["i"])("span",{class:"stat-label"},"Total Market Value",-1)),Object(c["i"])("span",di,"$"+Object(c["H"])(s.formatNumber(s.stats.totalMarketValue)),1)]),Object(c["i"])("div",bi,[t[6]||(t[6]=Object(c["i"])("span",{class:"stat-label"},"Average Card Price",-1)),Object(c["i"])("span",ui,"$"+Object(c["H"])(s.stats.avgCardPrice),1),t[7]||(t[7]=Object(c["i"])("span",{class:"stat-trend down"},"-2.1%",-1))])])]),Object(c["i"])("div",Oi,[t[9]||(t[9]=Object(c["i"])("h3",null,"Most Popular Cards",-1)),Object(c["i"])("ol",ji,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.popularCards,e=>(Object(c["x"])(),Object(c["h"])("li",{key:e.id},[Object(c["i"])("div",mi,[Object(c["i"])("img",{src:e.imageUrl,alt:e.name},null,8,pi),Object(c["i"])("div",null,[Object(c["i"])("h4",null,Object(c["H"])(e.name),1),Object(c["i"])("p",null,Object(c["H"])(e.count)+" collections",1)])]),Object(c["i"])("span",{class:Object(c["r"])(["trend",e.trend])},Object(c["H"])(e.change)+"%",3)]))),128))])]),Object(c["i"])("div",hi,[t[10]||(t[10]=Object(c["i"])("h3",null,"Recent Activity",-1)),Object(c["i"])("div",vi,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.recentActivity,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:"activity-item"},[Object(c["i"])("span",{class:"material-symbols-rounded",style:Object(c["s"])({color:e.color})},Object(c["H"])(e.icon),5),Object(c["i"])("div",gi,[Object(c["i"])("p",null,Object(c["H"])(e.description),1),Object(c["i"])("span",fi,Object(c["H"])(e.time),1)])]))),128))])])])])}var ki={name:"ReportsManager",setup(){const e=Object(c["A"])({activeUsers:1234,avgCollectionSize:156,totalMarketValue:25e5,avgCardPrice:45.99}),t=Object(c["A"])([{id:1,name:"Charizard VMAX",imageUrl:"/path/to/image",count:1560,trend:"up",change:"+15.2"}]),a=Object(c["A"])([{id:1,icon:"add_circle",color:"var(--system-green)",description:"New user registered",time:"5 minutes ago"}]),s=e=>(new Intl.NumberFormat).format(e);async function i(){}return Object(c["v"])(i),{stats:e,popularCards:t,recentActivity:a,formatNumber:s}}};a("c395");const wi=q()(ki,[["render",yi],["__scopeId","data-v-df595634"]]);var Ci=wi;const Si={class:"settings-manager"},_i={class:"settings-grid"},xi={class:"settings-card"},Ai={class:"settings-section"},Pi={class:"setting-item"},Mi={class:"switch"},Hi={class:"setting-item"},Ii={class:"switch"},Ui={class:"setting-item"},Di={class:"switch"},Ti={class:"settings-card"},qi={class:"settings-section"},Fi={class:"setting-field"},Vi={class:"input-group"},Ri=["type"],Ni={class:"material-symbols-rounded"},Ei={class:"setting-field"},Li={class:"setting-field"},Wi={class:"settings-card"},$i={class:"settings-section"},Bi={class:"setting-field"},zi={class:"settings-actions"},Qi=["disabled"];function Ji(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",Si,[Object(c["i"])("div",_i,[Object(c["i"])("div",xi,[t[17]||(t[17]=Object(c["i"])("h3",null,"General Settings",-1)),Object(c["i"])("div",Ai,[Object(c["i"])("div",Pi,[t[12]||(t[12]=Object(c["i"])("div",{class:"setting-content"},[Object(c["i"])("h4",null,"Maintenance Mode"),Object(c["i"])("p",null,"Block access to the application")],-1)),Object(c["i"])("label",Mi,[Object(c["P"])(Object(c["i"])("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>s.settings.maintenanceMode=e)},null,512),[[c["J"],s.settings.maintenanceMode]]),t[11]||(t[11]=Object(c["i"])("span",{class:"slider"},null,-1))])]),Object(c["i"])("div",Hi,[t[14]||(t[14]=Object(c["i"])("div",{class:"setting-content"},[Object(c["i"])("h4",null,"User Registration"),Object(c["i"])("p",null,"Allow new users to register")],-1)),Object(c["i"])("label",Ii,[Object(c["P"])(Object(c["i"])("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=e=>s.settings.allowRegistration=e)},null,512),[[c["J"],s.settings.allowRegistration]]),t[13]||(t[13]=Object(c["i"])("span",{class:"slider"},null,-1))])]),Object(c["i"])("div",Ui,[t[16]||(t[16]=Object(c["i"])("div",{class:"setting-content"},[Object(c["i"])("h4",null,"Email Notifications"),Object(c["i"])("p",null,"Send emails for important updates")],-1)),Object(c["i"])("label",Di,[Object(c["P"])(Object(c["i"])("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=e=>s.settings.emailNotifications=e)},null,512),[[c["J"],s.settings.emailNotifications]]),t[15]||(t[15]=Object(c["i"])("span",{class:"slider"},null,-1))])])])]),Object(c["i"])("div",Ti,[t[22]||(t[22]=Object(c["i"])("h3",null,"API Configuration",-1)),Object(c["i"])("div",qi,[Object(c["i"])("div",Fi,[t[18]||(t[18]=Object(c["i"])("label",null,"API Key",-1)),Object(c["i"])("div",Vi,[Object(c["P"])(Object(c["i"])("input",{type:s.showApiKey?"text":"password","onUpdate:modelValue":t[3]||(t[3]=e=>s.settings.apiKey=e)},null,8,Ri),[[c["K"],s.settings.apiKey]]),Object(c["i"])("button",{onClick:t[4]||(t[4]=e=>s.showApiKey=!s.showApiKey),class:"icon-button"},[Object(c["i"])("span",Ni,Object(c["H"])(s.showApiKey?"visibility_off":"visibility"),1)])])]),Object(c["i"])("div",Ei,[t[19]||(t[19]=Object(c["i"])("label",null,"Rate Limit (requests/minute)",-1)),Object(c["P"])(Object(c["i"])("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=e=>s.settings.rateLimit=e),min:"1",max:"1000"},null,512),[[c["M"],s.settings.rateLimit]])]),Object(c["i"])("div",Li,[t[21]||(t[21]=Object(c["i"])("label",null,"API Version",-1)),Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>s.settings.apiVersion=e)},t[20]||(t[20]=[Object(c["i"])("option",{value:"v1"},"Version 1.0",-1),Object(c["i"])("option",{value:"v2"},"Version 2.0",-1)]),512),[[c["L"],s.settings.apiVersion]])])])]),Object(c["i"])("div",Wi,[t[25]||(t[25]=Object(c["i"])("h3",null,"Cache Settings",-1)),Object(c["i"])("div",$i,[Object(c["i"])("div",Bi,[t[23]||(t[23]=Object(c["i"])("label",null,"Cache Duration (minutes)",-1)),Object(c["P"])(Object(c["i"])("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=e=>s.settings.cacheDuration=e),min:"5",max:"1440"},null,512),[[c["M"],s.settings.cacheDuration]])]),Object(c["i"])("button",{onClick:t[8]||(t[8]=(...e)=>s.clearCache&&s.clearCache(...e)),class:"action-button"},t[24]||(t[24]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"delete",-1),Object(c["k"])(" Clear Cache ")]))])])]),Object(c["i"])("div",zi,[Object(c["i"])("button",{class:"secondary",onClick:t[9]||(t[9]=(...e)=>s.resetSettings&&s.resetSettings(...e))},"Reset to Defaults"),Object(c["i"])("button",{class:"primary",onClick:t[10]||(t[10]=(...e)=>s.saveSettings&&s.saveSettings(...e)),disabled:s.isSaving},Object(c["H"])(s.isSaving?"Saving...":"Save Changes"),9,Qi)])])}var Gi={name:"SettingsManager",setup(){const e=Object(c["A"])({maintenanceMode:!1,allowRegistration:!0,emailNotifications:!1,apiKey:"",rateLimit:100,apiVersion:"v1",cacheDuration:60}),t=Object(c["A"])(!1),a=Object(c["A"])(!1);async function s(){const{data:t}=await U["a"].from("app_settings").select("*").single();t&&(e.value={...e.value,...t})}async function i(){a.value=!0,await U["a"].from("app_settings").upsert(e.value),a.value=!1}async function l(){}function r(){e.value={maintenanceMode:!1,allowRegistration:!0,emailNotifications:!1,apiKey:"",rateLimit:100,apiVersion:"v1",cacheDuration:60}}return Object(c["v"])(s),{settings:e,showApiKey:t,isSaving:a,saveSettings:i,clearCache:l,resetSettings:r}}};a("5121");const Ki=q()(Gi,[["render",Ji],["__scopeId","data-v-573dd3cd"]]);var Zi=Ki;const Xi={class:"store-manager"},Yi={class:"stats-grid"},el={class:"stat-card"},tl={class:"stat-value"},al={key:0,class:"stat-trend up"},cl={class:"stat-card"},sl={class:"stat-value"},il={key:0,class:"stat-card warning"},ll={class:"stat-value"},rl={class:"stat-action"},nl={class:"actions-bar"},ol={class:"search-box"},dl={class:"action-buttons"},bl={key:0,class:"bulk-actions-bar"},ul={class:"selection-info"},Ol={class:"bulk-actions"},jl={class:"products-table"},ml=["checked"],pl=["value"],hl={class:"product-cell"},vl=["src","alt"],gl={class:"product-info"},fl={key:0},yl={class:"actions-cell"},kl=["onClick"],wl=["onClick"],Cl=["onClick"],Sl={class:"material-symbols-rounded"},_l={class:"delete-confirmation"},xl={key:0},Al={key:1},Pl={class:"modal-actions"};function Ml(e,t,a,s,i,l){const r=Object(c["D"])("ProductForm"),n=Object(c["D"])("Modal"),o=Object(c["D"])("StockAdjustmentForm");return Object(c["x"])(),Object(c["h"])("div",Xi,[Object(c["i"])("div",Yi,[Object(c["i"])("div",el,[t[10]||(t[10]=Object(c["i"])("h3",null,"Total Products",-1)),Object(c["i"])("p",tl,Object(c["H"])(s.stats.totalProducts),1),s.stats.productTrend>0?(Object(c["x"])(),Object(c["h"])("div",al," +"+Object(c["H"])(s.stats.productTrend)+"% from last month ",1)):Object(c["g"])("",!0)]),Object(c["i"])("div",cl,[t[11]||(t[11]=Object(c["i"])("h3",null,"Total Sales",-1)),Object(c["i"])("p",sl,"$"+Object(c["H"])(s.stats.totalSales),1),Object(c["i"])("div",{class:Object(c["r"])(["stat-trend",s.stats.salesTrend>0?"up":"down"])},Object(c["H"])(s.stats.salesTrend>0?"+":"")+Object(c["H"])(s.stats.salesTrend)+"% from last month ",3)]),s.stats.lowStock>0?(Object(c["x"])(),Object(c["h"])("div",il,[t[12]||(t[12]=Object(c["i"])("h3",null,"Low Stock Items",-1)),Object(c["i"])("p",ll,Object(c["H"])(s.stats.lowStock),1),Object(c["i"])("div",rl,[Object(c["i"])("button",{onClick:t[0]||(t[0]=(...t)=>e.showLowStock&&e.showLowStock(...t))},"View Items")])])):Object(c["g"])("",!0)]),Object(c["i"])("div",nl,[Object(c["i"])("div",ol,[t[13]||(t[13]=Object(c["i"])("span",{class:"material-symbols-rounded"},"search",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.search=e),type:"text",placeholder:"Search products..."},null,512),[[c["M"],s.search]])]),Object(c["i"])("div",dl,[Object(c["i"])("button",{class:"secondary",onClick:t[2]||(t[2]=(...e)=>s.syncWithApi&&s.syncWithApi(...e))},t[14]||(t[14]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"sync",-1),Object(c["k"])(" Sync with API ")])),Object(c["i"])("button",{class:"primary",onClick:t[3]||(t[3]=e=>s.showAddProduct=!0)},t[15]||(t[15]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"add",-1),Object(c["k"])(" Add Product ")]))])]),s.selectedProducts.length>0?(Object(c["x"])(),Object(c["h"])("div",bl,[Object(c["i"])("div",ul,Object(c["H"])(s.selectedProducts.length)+" items selected ",1),Object(c["i"])("div",Ol,[Object(c["i"])("button",{class:"danger",onClick:t[4]||(t[4]=(...e)=>s.confirmDeleteSelected&&s.confirmDeleteSelected(...e))},t[16]||(t[16]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"delete",-1),Object(c["k"])(" Delete Selected ")]))])])):Object(c["g"])("",!0),Object(c["i"])("div",jl,[Object(c["i"])("table",null,[Object(c["i"])("thead",null,[Object(c["i"])("tr",null,[Object(c["i"])("th",null,[Object(c["i"])("input",{type:"checkbox",checked:s.isAllSelected,onChange:t[5]||(t[5]=(...e)=>s.toggleSelectAll&&s.toggleSelectAll(...e))},null,40,ml)]),t[17]||(t[17]=Object(c["i"])("th",null,"Product",-1)),t[18]||(t[18]=Object(c["i"])("th",null,"Type",-1)),t[19]||(t[19]=Object(c["i"])("th",null,"CMP",-1)),t[20]||(t[20]=Object(c["i"])("th",null,"CSP",-1)),t[21]||(t[21]=Object(c["i"])("th",null,"Stock",-1)),t[22]||(t[22]=Object(c["i"])("th",null,"Status",-1)),t[23]||(t[23]=Object(c["i"])("th",null,"Actions",-1))])]),Object(c["i"])("tbody",null,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.filteredProducts,e=>(Object(c["x"])(),Object(c["h"])("tr",{key:e.id},[Object(c["i"])("td",null,[Object(c["P"])(Object(c["i"])("input",{type:"checkbox",value:e.id,"onUpdate:modelValue":t[6]||(t[6]=e=>s.selectedProducts=e)},null,8,pl),[[c["J"],s.selectedProducts]])]),Object(c["i"])("td",hl,[Object(c["i"])("img",{src:e.image_url,alt:e.name},null,8,vl),Object(c["i"])("div",gl,[Object(c["i"])("h4",null,Object(c["H"])(e.name),1),e.metadata&&e.metadata.set?(Object(c["x"])(),Object(c["h"])("p",fl,Object(c["H"])(e.metadata.set.name),1)):Object(c["g"])("",!0)])]),Object(c["i"])("td",null,Object(c["H"])(e.type),1),Object(c["i"])("td",null,"$"+Object(c["H"])(s.getMarketPrice(e)),1),Object(c["i"])("td",null,"$"+Object(c["H"])(e.price),1),Object(c["i"])("td",{class:Object(c["r"])({"low-stock":e.stock<5})},Object(c["H"])(e.stock),3),Object(c["i"])("td",null,[Object(c["i"])("span",{class:Object(c["r"])(["status-badge",e.active?"active":"inactive"])},Object(c["H"])(e.active?"Active":"Inactive"),3)]),Object(c["i"])("td",yl,[Object(c["i"])("button",{class:"icon-button",onClick:t=>s.editProduct(e)},t[24]||(t[24]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"edit",-1)]),8,kl),Object(c["i"])("button",{class:"icon-button",onClick:t=>s.adjustStock(e)},t[25]||(t[25]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"inventory",-1)]),8,wl),Object(c["i"])("button",{class:"icon-button",onClick:t=>s.toggleProductStatus(e)},[Object(c["i"])("span",Sl,Object(c["H"])(e.active?"visibility":"visibility_off"),1)],8,Cl)])]))),128))])])]),s.showAddProduct?(Object(c["x"])(),Object(c["f"])(n,{key:1,onClose:s.closeAddModal},{header:Object(c["O"])(()=>[Object(c["i"])("h2",null,Object(c["H"])(s.editingProduct?"Edit Product":"Add Product"),1)]),default:Object(c["O"])(()=>[Object(c["l"])(r,{product:s.editingProduct,onSave:s.saveProduct,onCancel:s.closeAddModal},null,8,["product","onSave","onCancel"])]),_:1},8,["onClose"])):Object(c["g"])("",!0),s.showStockModal?(Object(c["x"])(),Object(c["f"])(n,{key:2,onClose:s.closeStockModal},{header:Object(c["O"])(()=>t[26]||(t[26]=[Object(c["i"])("h2",null,"Adjust Stock",-1)])),default:Object(c["O"])(()=>[Object(c["l"])(o,{product:s.selectedProduct,onSave:s.updateStock,onCancel:s.closeStockModal},null,8,["product","onSave","onCancel"])]),_:1},8,["onClose"])):Object(c["g"])("",!0),s.showDeleteModal?(Object(c["x"])(),Object(c["f"])(n,{key:3,onClose:t[9]||(t[9]=e=>s.showDeleteModal=!1)},{header:Object(c["O"])(()=>t[27]||(t[27]=[Object(c["i"])("h2",null,"Confirm Delete",-1)])),default:Object(c["O"])(()=>[Object(c["i"])("div",_l,[s.selectedProducts.length===s.filteredProducts.length?(Object(c["x"])(),Object(c["h"])("p",xl," Are you sure you want to delete all products? ")):(Object(c["x"])(),Object(c["h"])("p",Al," Are you sure you want to delete "+Object(c["H"])(s.selectedProducts.length)+" selected products? ",1)),t[28]||(t[28]=Object(c["i"])("div",{class:"warning"},[Object(c["i"])("span",{class:"material-symbols-rounded"},"warning"),Object(c["k"])(" This action cannot be undone. ")],-1)),Object(c["i"])("div",Pl,[Object(c["i"])("button",{class:"secondary",onClick:t[7]||(t[7]=e=>s.showDeleteModal=!1)}," Cancel "),Object(c["i"])("button",{class:"danger",onClick:t[8]||(t[8]=(...e)=>s.deleteSelected&&s.deleteSelected(...e))}," Delete ")])])]),_:1})):Object(c["g"])("",!0)])}const Hl={class:"product-form-container"},Il={key:0,class:"mode-selection"},Ul={key:1,class:"search-mode"},Dl={class:"search-container"},Tl={class:"search-box"},ql=["disabled"],Fl={key:0,class:"search-loading"},Vl={key:1,class:"search-error"},Rl={key:2,class:"no-results"},Nl={key:3,class:"search-results"},El=["onClick"],Ll={class:"card-image"},Wl=["src","alt"],$l={class:"card-info"},Bl={class:"card-meta"},zl={class:"set-name"},Ql={key:0,class:"price-info"},Jl={key:0,class:"load-more"},Gl=["disabled"],Kl={key:0,class:"loading-spinner small"},Zl={key:1},Xl={class:"form-section"},Yl={class:"form-group"},er={class:"form-group"},tr={class:"form-group"},ar={class:"form-group"},cr={class:"form-group"},sr={class:"form-group"},ir={class:"form-group"},lr={class:"checkbox-label"},rr={class:"form-actions"},nr={type:"submit",class:"primary"};function or(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",Hl,[s.selectedMode||a.product?"search"===s.selectedMode?(Object(c["x"])(),Object(c["h"])("div",Ul,[Object(c["i"])("button",{class:"back-button",onClick:t[2]||(t[2]=e=>s.selectedMode=null)},t[20]||(t[20]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"arrow_back",-1),Object(c["k"])(" Back to selection ")])),Object(c["i"])("div",Dl,[Object(c["i"])("div",Tl,[t[22]||(t[22]=Object(c["i"])("span",{class:"material-symbols-rounded"},"search",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.searchQuery=e),type:"text",placeholder:"Search by name, set, or number...",onInput:t[4]||(t[4]=(...e)=>s.debouncedSearch&&s.debouncedSearch(...e)),ref:"searchInput",disabled:s.isSearching},null,40,ql),[[c["M"],s.searchQuery]]),s.searchQuery?(Object(c["x"])(),Object(c["h"])("div",{key:0,class:"search-clear",onClick:t[5]||(t[5]=(...e)=>s.clearSearch&&s.clearSearch(...e))},t[21]||(t[21]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1)]))):Object(c["g"])("",!0)])]),s.isSearching?(Object(c["x"])(),Object(c["h"])("div",Fl,t[23]||(t[23]=[Object(c["i"])("div",{class:"loading-spinner"},null,-1),Object(c["i"])("p",null,"Searching cards...",-1)]))):Object(c["g"])("",!0),s.searchError?(Object(c["x"])(),Object(c["h"])("div",Vl,[t[24]||(t[24]=Object(c["i"])("span",{class:"material-symbols-rounded"},"error",-1)),t[25]||(t[25]=Object(c["i"])("h3",null,"Error searching cards",-1)),Object(c["i"])("p",null,Object(c["H"])(s.searchError),1),Object(c["i"])("button",{onClick:t[6]||(t[6]=(...e)=>s.retrySearch&&s.retrySearch(...e)),class:"retry-button"}," Try Again ")])):!s.searchQuery||s.isSearching||s.searchResults.length?s.searchResults.length?(Object(c["x"])(),Object(c["h"])("div",Nl,[Object(c["l"])(c["c"],{name:"card-result"},{default:Object(c["O"])(()=>[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.searchResults,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:"card-result",onClick:t=>s.selectCard(e)},[Object(c["i"])("div",Ll,[Object(c["i"])("img",{src:e.images.small,alt:e.name,loading:"lazy"},null,8,Wl),t[27]||(t[27]=Object(c["i"])("div",{class:"quick-actions"},[Object(c["i"])("button",{class:"select-button"},[Object(c["i"])("span",{class:"material-symbols-rounded"},"add"),Object(c["k"])(" Select ")])],-1))]),Object(c["i"])("div",$l,[Object(c["i"])("h4",null,Object(c["H"])(e.name),1),Object(c["i"])("div",Bl,[Object(c["i"])("span",zl,Object(c["H"])(e.set.name),1),Object(c["i"])("span",{class:Object(c["r"])(["rarity",s.getRarityClass(e.rarity)])},Object(c["H"])(e.rarity),3)]),s.getCardPrice(e)?(Object(c["x"])(),Object(c["h"])("div",Ql,[t[28]||(t[28]=Object(c["i"])("span",{class:"material-symbols-rounded"},"payments",-1)),Object(c["k"])(" $"+Object(c["H"])(s.getCardPrice(e)),1)])):Object(c["g"])("",!0)])],8,El))),128))]),_:1}),s.hasMoreResults?(Object(c["x"])(),Object(c["h"])("div",Jl,[Object(c["i"])("button",{onClick:t[7]||(t[7]=(...e)=>s.loadMoreResults&&s.loadMoreResults(...e)),disabled:s.isLoadingMore,class:"load-more-button"},[s.isLoadingMore?(Object(c["x"])(),Object(c["h"])("span",Kl)):(Object(c["x"])(),Object(c["h"])("span",Zl,"Load More Results"))],8,Gl)])):Object(c["g"])("",!0)])):Object(c["g"])("",!0):(Object(c["x"])(),Object(c["h"])("div",Rl,t[26]||(t[26]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"search_off",-1),Object(c["i"])("h3",null,"No cards found",-1),Object(c["i"])("p",null,"Try:",-1),Object(c["i"])("ul",{class:"search-tips"},[Object(c["i"])("li",null,'Using the full card name (e.g., "Pikachu V")'),Object(c["i"])("li",null,"Checking for typos"),Object(c["i"])("li",null,"Using fewer keywords"),Object(c["i"])("li",null,"Searching by set name")],-1)])))])):(Object(c["x"])(),Object(c["h"])("form",{key:2,onSubmit:t[17]||(t[17]=Object(c["R"])((...e)=>s.handleSubmit&&s.handleSubmit(...e),["prevent"])),class:"product-form"},[a.product||"manual"!==s.selectedMode?Object(c["g"])("",!0):(Object(c["x"])(),Object(c["h"])("button",{key:0,class:"back-button",onClick:t[8]||(t[8]=e=>s.selectedMode=null)},t[29]||(t[29]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"arrow_back",-1),Object(c["k"])(" Back to selection ")]))),Object(c["i"])("div",Xl,[Object(c["i"])("div",Yl,[t[30]||(t[30]=Object(c["i"])("label",null,"Name *",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>s.form.name=e),type:"text",required:"",placeholder:"Enter product name"},null,512),[[c["M"],s.form.name]])]),Object(c["i"])("div",er,[t[32]||(t[32]=Object(c["i"])("label",null,"Type *",-1)),Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[10]||(t[10]=e=>s.form.type=e),required:""},t[31]||(t[31]=[Object(c["i"])("option",{value:"single"},"Single Card",-1),Object(c["i"])("option",{value:"booster"},"Booster Pack",-1),Object(c["i"])("option",{value:"set"},"Card Set",-1)]),512),[[c["L"],s.form.type]])]),Object(c["i"])("div",tr,[t[33]||(t[33]=Object(c["i"])("label",null,"Price ($) *",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>s.form.price=e),type:"number",step:"0.01",min:"0",required:""},null,512),[[c["M"],s.form.price,void 0,{number:!0}]])]),Object(c["i"])("div",ar,[t[34]||(t[34]=Object(c["i"])("label",null,"Stock *",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>s.form.stock=e),type:"number",min:"0",required:""},null,512),[[c["M"],s.form.stock,void 0,{number:!0}]])]),Object(c["i"])("div",cr,[t[35]||(t[35]=Object(c["i"])("label",null,"Image URL",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[13]||(t[13]=e=>s.form.image_url=e),type:"url",placeholder:"https://..."},null,512),[[c["M"],s.form.image_url]])]),Object(c["i"])("div",sr,[t[36]||(t[36]=Object(c["i"])("label",null,"Description",-1)),Object(c["P"])(Object(c["i"])("textarea",{"onUpdate:modelValue":t[14]||(t[14]=e=>s.form.description=e),rows:"3",placeholder:"Enter product description"},null,512),[[c["M"],s.form.description]])]),Object(c["i"])("div",ir,[Object(c["i"])("label",lr,[Object(c["P"])(Object(c["i"])("input",{type:"checkbox","onUpdate:modelValue":t[15]||(t[15]=e=>s.form.active=e)},null,512),[[c["J"],s.form.active]]),t[37]||(t[37]=Object(c["k"])(" Active (available for purchase) "))])])]),Object(c["i"])("div",rr,[Object(c["i"])("button",{type:"button",class:"secondary",onClick:t[16]||(t[16]=t=>e.$emit("cancel"))}," Cancel "),Object(c["i"])("button",nr,Object(c["H"])(a.product?"Update Product":"Create Product"),1)])],32)):(Object(c["x"])(),Object(c["h"])("div",Il,[Object(c["i"])("button",{class:"mode-button",onClick:t[0]||(t[0]=e=>s.selectedMode="manual")},t[18]||(t[18]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"edit_note",-1),Object(c["i"])("h3",null,"Create Product from Scratch",-1),Object(c["i"])("p",null,"Manually enter all product details",-1)])),Object(c["i"])("button",{class:"mode-button",onClick:t[1]||(t[1]=e=>s.selectedMode="search")},t[19]||(t[19]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"search",-1),Object(c["i"])("h3",null,"Search and Add Product",-1),Object(c["i"])("p",null,"Search Pokemon TCG database to auto-fill details",-1)]))]))])}var dr=a("cee4");const br="0c4b0264-73d6-4ada-8edf-ef3ec5db80ea",ur="https://api.pokemontcg.io/v2",Or=dr["a"].create({baseURL:ur,headers:{"X-Api-Key":br}}),jr={async searchCards({q:e,page:t=1,pageSize:a=20}){try{const c=await Or.get("/cards",{params:{q:`name:${e}*`,page:t,pageSize:a,orderBy:"name",select:"id,name,images,types,rarity,cardmarket,set,flavorText"}});if(!c.data||!c.data.data)throw new Error("Invalid API response format");return{data:c.data.data,hasMore:c.data.totalCount>t*a,total:c.data.totalCount}}catch(c){if(c.response&&401===c.response.status)throw new Error("Invalid API key. Please check your configuration.");if(c.response&&429===c.response.status)throw new Error("Rate limit exceeded. Please try again later.");throw console.error("Pokemon TCG API Error:",c),new Error("Failed to fetch cards. Please try again.")}}};var mr=a("b047"),pr=a.n(mr),hr={name:"ProductForm",props:{product:{type:Object,default:null}},emits:["save","cancel"],setup(e,{emit:t}){const a=Object(c["A"])(null),s=Object(c["A"])(""),i=Object(c["A"])([]),l=Object(c["A"])(!1),r=Object(c["A"])(!1),n=Object(c["A"])({name:"",type:"single",price:0,stock:0,image_url:"",description:"",active:!0,metadata:{},...e.product||{}}),o=Object(c["A"])(1),d=Object(c["A"])(!1),b=Object(c["A"])(!1),u=Object(c["A"])(null),O=Object(c["A"])(null),j=pr()(async()=>{o.value=1,await m()},500);async function m(){if(!s.value||s.value.length<2)i.value=[];else{l.value=!0,O.value=null;try{const e=await jr.searchCards({q:s.value,page:o.value,pageSize:20});1===o.value?i.value=e.data:i.value=[...i.value,...e.data],d.value=e.hasMore,0===i.value.length&&(O.value="No cards found matching your search.")}catch(e){console.error("Search error:",e),O.value=e.message,i.value=[]}finally{l.value=!1}}}async function p(){b.value=!0,o.value++,await m(),b.value=!1}function h(){s.value="",i.value=[],o.value=1,d.value=!1,u.value&&u.value.focus()}function v(){O.value=null,m()}function g(e){return e.cardmarket&&e.cardmarket.prices&&e.cardmarket.prices.averageSellPrice?e.cardmarket.prices.averageSellPrice.toFixed(2):null}function f(e){return e?e.toLowerCase():""}function y(e){const t=g(e)||0;console.log("Selected card:",e),console.log("Card price:",t),n.value={name:e.name,type:"single",price:parseFloat(t),stock:0,image_url:e.images.large,description:e.flavorText||"",active:!0,tcg_id:e.id,metadata:{set:e.set,rarity:e.rarity,number:e.number,artist:e.artist}},console.log("Updated form:",n.value),a.value="manual"}async function k(){if(!r.value){r.value=!0;try{const c={...n.value,price:parseFloat(n.value.price)||0,stock:parseInt(n.value.stock)||0};console.log("Submitting product data:",c),await t("save",c),e.product||(n.value={name:"",type:"single",price:0,stock:0,image_url:"",description:"",active:!0,metadata:{}},a.value=null)}catch(c){console.error("Error submitting form:",c),alert("Failed to save product: "+c.message)}finally{r.value=!1}}}return Object(c["v"])(()=>{"search"===a.value&&u.value&&u.value.focus()}),{selectedMode:a,searchQuery:s,searchResults:i,isSearching:l,form:n,isSubmitting:r,handleSubmit:k,getCardPrice:g,hasMoreResults:d,isLoadingMore:b,searchInput:u,debouncedSearch:j,loadMoreResults:p,clearSearch:h,getRarityClass:f,searchError:O,retrySearch:v,selectCard:y}}};a("9359");const vr=q()(hr,[["render",or],["__scopeId","data-v-d40ffdc6"]]);var gr=vr;const fr={class:"form-section"},yr={class:"product-info"},kr=["src","alt"],wr={class:"form-group"},Cr={class:"adjustment-input"},Sr=["disabled"],_r={class:"form-group"},xr={key:0,class:"form-group"},Ar={class:"form-actions"},Pr=["disabled"];function Mr(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("form",{onSubmit:t[6]||(t[6]=Object(c["R"])((...e)=>s.handleSubmit&&s.handleSubmit(...e),["prevent"])),class:"stock-form"},[Object(c["i"])("div",fr,[Object(c["i"])("div",yr,[Object(c["i"])("img",{src:a.product.image_url,alt:a.product.name},null,8,kr),Object(c["i"])("div",null,[Object(c["i"])("h3",null,Object(c["H"])(a.product.name),1),Object(c["i"])("p",null,"Current Stock: "+Object(c["H"])(a.product.stock),1)])]),Object(c["i"])("div",wr,[t[7]||(t[7]=Object(c["i"])("label",null,"Adjustment *",-1)),Object(c["i"])("div",Cr,[Object(c["i"])("button",{type:"button",class:"adjust-button",disabled:s.form.quantity<=-a.product.stock,onClick:t[0]||(t[0]=e=>s.form.quantity--)},"-",8,Sr),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.form.quantity=e),type:"number",required:""},null,512),[[c["M"],s.form.quantity]]),Object(c["i"])("button",{type:"button",class:"adjust-button",onClick:t[2]||(t[2]=e=>s.form.quantity++)},"+")])]),Object(c["i"])("div",_r,[t[9]||(t[9]=Object(c["i"])("label",null,"Reason *",-1)),Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.form.reason=e),required:""},t[8]||(t[8]=[Object(c["i"])("option",{value:"restock"},"Restock",-1),Object(c["i"])("option",{value:"adjustment"},"Inventory Adjustment",-1),Object(c["i"])("option",{value:"damage"},"Damaged/Lost",-1),Object(c["i"])("option",{value:"other"},"Other",-1)]),512),[[c["L"],s.form.reason]])]),"other"===s.form.reason?(Object(c["x"])(),Object(c["h"])("div",xr,[t[10]||(t[10]=Object(c["i"])("label",null,"Specify Reason",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>s.form.customReason=e),type:"text",placeholder:"Enter reason",required:""},null,512),[[c["M"],s.form.customReason]])])):Object(c["g"])("",!0)]),Object(c["i"])("div",Ar,[Object(c["i"])("button",{type:"button",class:"secondary",onClick:t[5]||(t[5]=t=>e.$emit("cancel"))}," Cancel "),Object(c["i"])("button",{type:"submit",class:"primary",disabled:s.isSubmitting},Object(c["H"])(s.isSubmitting?"Saving...":"Update Stock"),9,Pr)])],32)}var Hr={name:"StockAdjustmentForm",props:{product:{type:Object,required:!0}},emits:["save","cancel"],setup(e){const t=Object(c["A"])(!1),a=Object(c["A"])({quantity:0,reason:"restock",customReason:""});async function s(){t.value=!0;try{await this.$emit("save",{productId:e.product.id,quantity:a.value.quantity,reason:"other"===a.value.reason?a.value.customReason:a.value.reason})}finally{t.value=!1}}return{form:a,isSubmitting:t,handleSubmit:s}}};a("a3ba");const Ir=q()(Hr,[["render",Mr],["__scopeId","data-v-5151e452"]]);var Ur=Ir,Dr={name:"StoreManager",components:{Modal:ms["a"],ProductForm:gr,StockAdjustmentForm:Ur},setup(){const e=Object(c["A"])(""),t=Object(c["A"])([]),a=Object(c["A"])(!1),s=Object(c["A"])(!1),i=Object(c["A"])(null),l=Object(c["A"])(null),r=Object(c["A"])({totalProducts:0,totalSales:0,lowStock:0,productTrend:0,salesTrend:0}),n=Object(c["A"])([]),o=Object(c["A"])(!1),d=Object(c["d"])(()=>{if(console.log("Filtering products:",t.value),!e.value)return t.value||[];const a=e.value.toLowerCase();return(t.value||[]).filter(e=>{const t=e.name&&e.name.toLowerCase().includes(a),c=e.type&&e.type.toLowerCase().includes(a);return t||c})}),b=Object(c["d"])(()=>d.value.length>0&&n.value.length===d.value.length);async function u(){try{const{data:e,error:a}=await U["a"].from("products").select("\n            id,\n            name,\n            description,\n            price,\n            stock,\n            type,\n            condition,\n            tcg_id,\n            image_url,\n            admin_id,\n            active,\n            metadata,\n            created_at,\n            updated_at\n          ").order("created_at",{ascending:!1});if(a)throw console.error("Database error:",a),a;console.log("Raw products data:",e),t.value=(e||[]).map(e=>({...e,price:parseFloat(e.price)||0,stock:parseInt(e.stock)||0,active:"boolean"!==typeof e.active||e.active,metadata:e.metadata||{},condition:e.condition||"New",type:e.type||"single"})),console.log("Transformed products:",t.value),p()}catch(e){console.error("Error fetching products:",e),alert("Failed to load products. Please try again.")}}function O(){return t.value.reduce((e,t)=>e+t.price*(t.total_sold||0),0).toFixed(2)}function j(){return 0}function m(){return 0}function p(){r.value={totalProducts:t.value.length,totalSales:O(),lowStock:t.value.filter(e=>e.stock<5).length,productTrend:j(),salesTrend:m()}}async function h(){try{const{data:e}=await tt["a"].getCards();if(!e)throw new Error("No data received from API");const t=e.map(e=>{const t=e.cardmarket&&e.cardmarket.prices&&e.cardmarket.prices.averageSellPrice||0;return{name:e.name,type:"single",tcg_id:e.id,price:t,stock:0,image_url:e.images.large,active:!0,metadata:{set:e.set,rarity:e.rarity,number:e.number,artist:e.artist}}}),{error:a}=await U["a"].from("products").upsert(t,{onConflict:"tcg_id",ignoreDuplicates:!1});if(a)throw a;await u()}catch(e){console.error("Error syncing with API:",e),alert("Failed to sync products with API. Please try again.")}}async function v(e){try{const t={name:e.name,description:e.description||"",price:parseFloat(e.price)||0,stock:parseInt(e.stock)||0,type:e.type||"single",condition:e.condition||"New",tcg_id:e.tcg_id||null,image_url:e.image_url||"",active:"boolean"!==typeof e.active||e.active,metadata:e.metadata||{},updated_at:(new Date).toISOString()};if(console.log("Saving product with data:",t),i.value){const{data:e,error:a}=await U["a"].from("products").update(t).eq("id",i.value.id).select();if(a)throw a;console.log("Updated product:",e)}else{const{data:e,error:a}=await U["a"].from("products").insert([{...t,created_at:(new Date).toISOString()}]).select();if(a)throw a;console.log("Created product:",e)}await u(),g()}catch(t){console.error("Error saving product:",t),alert("Failed to save product: "+t.message)}}function g(){a.value=!1,i.value=null}function f(){s.value=!1,l.value=null}async function y({productId:e,quantity:t,reason:a}){await U["a"].from("stock_movements").insert({product_id:e,quantity:t,reason:a}),await u(),f()}function k(e){console.log("Editing product:",e),i.value={...e},a.value=!0}function w(e){console.log("Adjusting stock for:",e),l.value=e,s.value=!0}async function C(e){try{const{error:t}=await U["a"].from("products").update({active:!e.active}).eq("id",e.id);if(t)throw t;await u()}catch(t){console.error("Error toggling product status:",t),alert("Failed to update product status")}}function S(e){if(!e.metadata)return"0.00";const t=e.metadata.tcg_pricing&&e.metadata.tcg_pricing.market,a=e.metadata.cardmarket&&e.metadata.cardmarket.prices&&e.metadata.cardmarket.prices.averageSellPrice,c=t||a||0;return c.toFixed(2)}function _(e){e.target.checked?n.value=d.value.map(e=>e.id):n.value=[]}function x(){o.value=!0}async function A(){try{const{error:e}=await U["a"].from("products").delete().in("id",n.value);if(e)throw e;await u(),n.value=[],o.value=!1}catch(e){console.error("Error deleting products:",e),alert("Failed to delete products: "+e.message)}}return Object(c["v"])(()=>{console.log("StoreManager mounted"),u()}),u(),{search:e,filteredProducts:d,products:t,stats:r,showAddProduct:a,showStockModal:s,editingProduct:i,selectedProduct:l,syncWithApi:h,saveProduct:v,closeAddModal:g,closeStockModal:f,updateStock:y,calculateTotalSales:O,calculateProductTrend:j,calculateSalesTrend:m,editProduct:k,adjustStock:w,toggleProductStatus:C,getMarketPrice:S,selectedProducts:n,isAllSelected:b,showDeleteModal:o,toggleSelectAll:_,confirmDeleteSelected:x,deleteSelected:A}}};a("c63d");const Tr=q()(Dr,[["render",Ml],["__scopeId","data-v-4fe5c552"]]);var qr=Tr;const Fr={class:"orders-panel"},Vr={class:"panel-header"},Rr={class:"status-filters"},Nr=["onClick"],Er={class:"orders-list"},Lr={class:"order-header"},Wr={class:"order-details"},$r={class:"items-summary"},Br={class:"items-list"},zr={class:"item-info"},Qr=["src","alt"],Jr={class:"item-quantity"},Gr={class:"item-price"},Kr={class:"order-totals"},Zr={class:"total-row"},Xr={class:"total-row grand-total"},Yr={class:"order-info"},en={class:"shipping-info"},tn={class:"payment-info"},an={key:0},cn={key:1,class:"admin-action"},sn={key:0,class:"order-actions"},ln=["onUpdate:modelValue","onChange"],rn=["value"],nn=["onClick"],on={class:"approval-options"},dn={class:"modal-actions"};function bn(e,t,a,s,i,l){const r=Object(c["D"])("Modal");return Object(c["x"])(),Object(c["h"])(c["a"],null,[Object(c["i"])("div",Fr,[Object(c["i"])("div",Vr,[t[4]||(t[4]=Object(c["i"])("h2",null,"Orders Management",-1)),Object(c["i"])("div",Rr,[(Object(c["x"])(),Object(c["h"])(c["a"],null,Object(c["B"])(["all","pending","approved","rejected"],e=>Object(c["i"])("button",{key:e,class:Object(c["r"])({active:s.currentStatus===e}),onClick:t=>s.currentStatus=e},Object(c["H"])(e.charAt(0).toUpperCase()+e.slice(1)),11,Nr)),64))])]),Object(c["i"])("div",Er,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.filteredOrders,a=>(Object(c["x"])(),Object(c["h"])("div",{key:a.id,class:"order-card"},[Object(c["i"])("div",Lr,[Object(c["i"])("div",null,[Object(c["i"])("h3",null,"Order #"+Object(c["H"])(a.id.slice(0,8)),1),Object(c["i"])("p",null,Object(c["H"])(new Date(a.created_at).toLocaleString()),1)]),Object(c["i"])("span",{class:Object(c["r"])(["status-badge",a.status])},Object(c["H"])(a.status),3)]),Object(c["i"])("div",Wr,[Object(c["i"])("div",$r,[Object(c["i"])("h4",null,"Items ("+Object(c["H"])(a.items.length)+")",1),Object(c["i"])("ul",Br,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(a.items,e=>(Object(c["x"])(),Object(c["h"])("li",{key:e.id,class:"item-row"},[Object(c["i"])("div",zr,[Object(c["i"])("img",{src:e.image_url,alt:e.name,class:"item-thumbnail"},null,8,Qr),Object(c["i"])("div",null,[Object(c["i"])("strong",null,Object(c["H"])(e.name),1),Object(c["i"])("span",Jr,"x"+Object(c["H"])(e.quantity),1)])]),Object(c["i"])("div",Gr,"€"+Object(c["H"])((e.price*e.quantity).toFixed(2)),1)]))),128))]),Object(c["i"])("div",Kr,[Object(c["i"])("div",Zr,[t[5]||(t[5]=Object(c["i"])("span",null,"Subtotal:",-1)),Object(c["i"])("span",null,"€"+Object(c["H"])(s.calculateSubtotal(a).toFixed(2)),1)]),t[7]||(t[7]=Object(c["i"])("div",{class:"total-row"},[Object(c["i"])("span",null,"Shipping:"),Object(c["i"])("span",null,"Free")],-1)),Object(c["i"])("div",Xr,[t[6]||(t[6]=Object(c["i"])("span",null,"Total:",-1)),Object(c["i"])("span",null,"€"+Object(c["H"])(a.total_amount.toFixed(2)),1)])])]),Object(c["i"])("div",Yr,[Object(c["i"])("div",en,[t[8]||(t[8]=Object(c["i"])("h4",null,"Shipping Details",-1)),Object(c["i"])("p",null,Object(c["H"])(a.shipping_address.address),1),Object(c["i"])("p",null,Object(c["H"])(a.shipping_address.postalCode)+" "+Object(c["H"])(a.shipping_address.city),1),Object(c["i"])("p",null,Object(c["H"])(a.shipping_address.phone),1)]),Object(c["i"])("div",tn,[t[14]||(t[14]=Object(c["i"])("h4",null,"Payment Details",-1)),Object(c["i"])("p",null,[t[9]||(t[9]=Object(c["i"])("strong",null,"Method:",-1)),Object(c["k"])(" "+Object(c["H"])(a.payment_method),1)]),Object(c["i"])("p",null,[t[10]||(t[10]=Object(c["i"])("strong",null,"Status:",-1)),Object(c["k"])(" "+Object(c["H"])(a.status),1)]),a.stripe_session_id?(Object(c["x"])(),Object(c["h"])("p",an,[t[11]||(t[11]=Object(c["i"])("strong",null,"Stripe Session:",-1)),Object(c["i"])("code",null,Object(c["H"])(a.stripe_session_id),1)])):Object(c["g"])("",!0),Object(c["i"])("p",null,[t[12]||(t[12]=Object(c["i"])("strong",null,"Order Date:",-1)),Object(c["k"])(" "+Object(c["H"])(s.formatDate(a.created_at)),1)]),a.admin_id?(Object(c["x"])(),Object(c["h"])("div",cn,[Object(c["i"])("p",null,[Object(c["i"])("strong",null,Object(c["H"])("approved"===a.status?"Approved":"Rejected")+" by:",1),Object(c["k"])(" "+Object(c["H"])(s.adminNames[a.admin_id]||"Loading..."),1)]),Object(c["i"])("p",null,[t[13]||(t[13]=Object(c["i"])("strong",null,"Action date:",-1)),Object(c["k"])(" "+Object(c["H"])(s.formatDate(a.admin_action_at)),1)])])):Object(c["g"])("",!0)])]),"cancelled"!==a.status?(Object(c["x"])(),Object(c["h"])("div",sn,[Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":e=>a.status=e,onChange:e=>s.updateOrderStatus(a.id,e.target.value)},[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.statusOptions,e=>(Object(c["x"])(),Object(c["h"])("option",{key:e.value,value:e.value},Object(c["H"])(e.label),9,rn))),128))],40,ln),[[c["L"],a.status]]),"waiting_for_shipping"===a.status?(Object(c["x"])(),Object(c["h"])("button",{key:0,onClick:t=>e.showTrackingModal(a),class:"add-tracking-btn"},t[15]||(t[15]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"local_shipping",-1),Object(c["k"])(" Add Tracking ")]),8,nn)):Object(c["g"])("",!0)])):Object(c["g"])("",!0)])]))),128))])]),s.showModal?(Object(c["x"])(),Object(c["f"])(r,{key:0,onClose:t[3]||(t[3]=e=>s.showModal=!1)},{header:Object(c["O"])(()=>t[16]||(t[16]=[Object(c["i"])("h2",null,"Approve Order",-1)])),default:Object(c["O"])(()=>[Object(c["i"])("div",on,[t[19]||(t[19]=Object(c["i"])("p",null,"Choose how you want to approve this order:",-1)),Object(c["i"])("button",{class:"approval-option",onClick:t[0]||(t[0]=(...e)=>s.approveWithPayment&&s.approveWithPayment(...e))},t[17]||(t[17]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"payments",-1),Object(c["i"])("div",null,[Object(c["i"])("h3",null,"Approve with Payment URL"),Object(c["i"])("p",null,"Generate a Stripe payment link and copy to clipboard")],-1)])),Object(c["i"])("button",{class:"approval-option",onClick:t[1]||(t[1]=(...e)=>s.approveWithoutPayment&&s.approveWithoutPayment(...e))},t[18]||(t[18]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"done_all",-1),Object(c["i"])("div",null,[Object(c["i"])("h3",null,"Approve without Payment URL"),Object(c["i"])("p",null,"Mark as approved without generating payment link")],-1)])),Object(c["i"])("div",dn,[Object(c["i"])("button",{class:"cancel-btn",onClick:t[2]||(t[2]=e=>s.showModal=!1)},"Cancel")])])]),_:1})):Object(c["g"])("",!0)],64)}var un={name:"OrderManager",components:{Modal:ms["a"]},setup(){const e=Object(c["A"])([]),t=Object(c["A"])("all"),a=Object(c["A"])(!1),s=Object(c["A"])(null),i=Object(c["A"])({}),l=Object(c["A"])({}),r=[{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"paid",label:"Paid"},{value:"preparing",label:"Preparing"},{value:"waiting_for_shipping",label:"Waiting for Shipping"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"rejected",label:"Rejected"}],n=Object(c["d"])(()=>"all"===t.value?e.value:e.value.filter(e=>e.status===t.value));async function o(){const{data:t,error:a}=await U["a"].from("orders").select("*").order("created_at",{ascending:!1});if(a)return void console.error("Error fetching orders:",a);e.value=t;const c=[...new Set(t.filter(e=>e.admin_id).map(e=>e.admin_id))];for(const e of c){const t=await m(e);l.value[e]=t}}function d(e){s.value=e,a.value=!0}async function b(){const e=s.value;try{const{data:t,error:a}=await U["a"].functions.invoke("create-payment",{body:{items:e.items.map(e=>({...e,price_in_cents:Math.round(100*e.price)})),email:e.customer_email,user_id:e.user_id,shipping_address:e.shipping_address,order_id:e.id}});if(a)throw a;const c=`${window.location.origin}/checkout?session=${t.sessionId}`;await navigator.clipboard.writeText(c),alert("Payment link copied to clipboard!"),await j(e.id,"approved",t.sessionId)}catch(t){console.error("Error creating payment link:",t),alert("Failed to create payment link")}a.value=!1}async function u(){await j(s.value.id,"approved"),a.value=!1}const O=async(e,t)=>{const{error:a}=await U["a"].from("orders").update({tracking_info:t,status:"shipped"}).eq("id",e);if(a)throw a},j=async(e,t,a=null)=>{const c={status:t,admin_id:h["a"].state.user.id,admin_action_at:(new Date).toISOString()};a&&(c.tracking_info=a);const{error:s}=await U["a"].from("orders").update(c).eq("id",e);if(s)throw s;await o()};async function m(e){if(!i.value[e]){const{data:t,error:a}=await U["a"].from("profiles").select("first_name, last_name").eq("id",e).single();i.value[e]=!a&&t?`${t.first_name} ${t.last_name}`:"Unknown Admin"}return i.value[e]}function p(e){return e.items.reduce((e,t)=>e+t.price*t.quantity,0)}function v(e){return new Date(e).toLocaleString("nl-NL",{dateStyle:"medium",timeStyle:"short"})}return Object(c["v"])(o),{orders:e,currentStatus:t,filteredOrders:n,updateOrderStatus:j,showModal:a,showApprovalModal:d,approveWithPayment:b,approveWithoutPayment:u,calculateSubtotal:p,formatDate:v,getAdminName:m,adminNames:l,statusOptions:r,updateTrackingInfo:O}}};a("bc7b");const On=q()(un,[["render",bn],["__scopeId","data-v-29170a88"]]);var jn=On,mn={name:"Admin",components:{Modal:ms["a"],NewsManager:Ts,CardsManager:Xs,ReportsManager:Ci,SettingsManager:Zi,StoreManager:qr,OrderManager:jn},setup(){const e=Object(c["A"])("users"),t=Object(c["A"])([]),a=Object(c["A"])(""),s=Object(c["A"])(!1),i=Object(c["A"])(!1),l=Object(c["A"])(null),r=Object(c["A"])({totalUsers:0,totalCards:0,newToday:0,totalArticles:0,activeUsers:0,pendingReports:0}),n=Object(c["A"])({maintenanceMode:!1,allowRegistrations:!0}),o=Object(c["A"])({email:"",password:"",first_name:"",last_name:"",role:"user",status:"active"}),d=Object(c["A"])(""),b=Object(c["A"])(!1),u=[{id:"users",name:"Users",icon:"group"},{id:"store",name:"Store",icon:"store"},{id:"orders",name:"Orders",icon:"local_shipping"},{id:"news",name:"News",icon:"newspaper"},{id:"cards",name:"Cards",icon:"style"},{id:"reports",name:"Reports",icon:"monitoring"},{id:"settings",name:"Settings",icon:"settings"}],O=Object(c["d"])(()=>{if(!a.value)return t.value;const e=a.value.toLowerCase();return t.value.filter(t=>t.email.toLowerCase().includes(e)||t.full_name&&t.full_name.toLowerCase().includes(e))});async function j(){const e=new Date;e.setHours(0,0,0,0);const{count:t}=await U["a"].from("profiles").select("*",{count:"exact"}).gte("created_at",e.toISOString());r.value.newToday=t||0}async function m(){try{const{data:e,error:a}=await U["a"].rpc("get_users_with_profiles");if(a)return void console.error("Error fetching users:",a);console.log("Fetched users:",e),t.value=e.map(e=>({id:e.id,email:e.email,full_name:e.first_name&&e.last_name?`${e.first_name} ${e.last_name}`:"-",role:e.role||"user",status:e.status||"active",created_at:e.created_at})),r.value.totalUsers=t.value.length}catch(e){console.error("Unexpected error:",e)}}function p(){l.value=null,o.value={email:"",password:"",first_name:"",last_name:"",role:"user",status:"active"},s.value=!0}async function h(e){const[t,a]=(e.full_name||"-").split(" ");l.value=e,o.value={...o.value,first_name:"-"!==t?t:"",last_name:a||"",role:e.role||"user",status:e.status||"active"},s.value=!0}async function v(e){l.value=e,i.value=!0}async function g(){if(!l.value)return;const{error:e}=await U["a"].from("profiles").delete().eq("id",l.value.id);e?console.error("Error deleting user:",e):(i.value=!1,l.value=null,await m())}async function f(){b.value=!0,d.value="";try{if(l.value&&l.value.id){const{error:e}=await U["a"].from("profiles").update({first_name:o.value.first_name,last_name:o.value.last_name,role:o.value.role,status:o.value.status}).eq("id",l.value.id);if(e)throw e}else{const{data:e,error:t}=await U["a"].auth.signUp({email:o.value.email,password:o.value.password});if(t)throw t;const{error:a}=await U["a"].from("profiles").insert({id:e.user.id,first_name:o.value.first_name,last_name:o.value.last_name,role:o.value.role,status:o.value.status});if(a)throw a}C(),await m()}catch(e){console.error("Error saving user:",e),d.value=e.message}finally{b.value=!1}}async function y(){console.log("Saving settings:",n.value)}async function k(){console.log("Backing up database...")}async function w(){console.log("Syncing cards...")}function C(){s.value=!1,l.value=null,o.value={email:"",password:"",first_name:"",last_name:"",role:"user",status:"active"},d.value=""}return Object(c["v"])(async()=>{await m(),await j()}),{currentTab:e,tabs:u,users:t,userSearch:a,filteredUsers:O,stats:r,settings:n,showEditModal:s,showDeleteModal:i,editingUser:l,userForm:o,formError:d,isSubmitting:b,editUser:h,confirmDeleteUser:v,deleteUser:g,saveUser:f,saveSettings:y,backupDatabase:k,syncCards:w,closeEditModal:C,initNewUser:p,formatDate:e=>new Date(e).toLocaleDateString()}}};a("cf5f");const pn=q()(mn,[["render",js],["__scopeId","data-v-c4d0a374"]]);var hn=pn;const vn={class:"store"},gn={class:"store-hero"},fn={class:"quick-categories"},yn=["onClick"],kn={class:"material-symbols-rounded"},wn={class:"filter-section"},Cn={class:"search-container"},Sn={class:"search-box"},_n={class:"advanced-filters"},xn={key:0,class:"active-filters"},An={class:"products-grid"},Pn={class:"product-image"},Mn=["src","alt"],Hn={key:0,class:"product-badges"},In={key:0,class:"rarity-badge"},Un={key:1,class:"stock-badge"},Dn={class:"product-info"},Tn={class:"product-header"},qn={class:"product-type"},Fn={class:"product-meta"},Vn={key:0,class:"product-set"},Rn={class:"product-price"},Nn=["disabled","onClick"],En={class:"product-actions"},Ln=["onClick"],Wn={class:"material-symbols-rounded"},$n=["onClick"],Bn={key:1,class:"pagination"},zn=["disabled"],Qn=["onClick"],Jn=["disabled"],Gn={class:"quick-view"},Kn={class:"quick-view-image"},Zn=["src","alt"],Xn={class:"quick-view-details"},Yn={class:"meta-info"},eo={key:0,class:"set"},to={key:1,class:"rarity"},ao={class:"pricing"},co={class:"market-price"},so={class:"our-price"},io={class:"stock-info"},lo={class:"material-symbols-rounded"},ro=["disabled"];function no(e,t,a,s,i,l){const r=Object(c["D"])("Modal"),n=Object(c["D"])("AppleNotification");return Object(c["x"])(),Object(c["h"])("div",vn,[Object(c["i"])("div",gn,[t[13]||(t[13]=Object(c["i"])("div",{class:"hero-content"},[Object(c["i"])("h1",null,"Card Market"),Object(c["i"])("p",{class:"subtitle"},"Discover rare and valuable Pokémon cards")],-1)),Object(c["i"])("div",fn,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.categories,e=>(Object(c["x"])(),Object(c["h"])("button",{key:e.id,class:Object(c["r"])(["category-pill",{active:s.filters.category===e.id}]),onClick:t=>s.filters.category=e.id},[Object(c["i"])("span",kn,Object(c["H"])(e.icon),1),Object(c["k"])(" "+Object(c["H"])(e.name),1)],10,yn))),128))])]),Object(c["i"])("div",wn,[Object(c["i"])("div",Cn,[Object(c["i"])("div",Sn,[t[14]||(t[14]=Object(c["i"])("span",{class:"material-symbols-rounded"},"search",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.search=e),type:"text",placeholder:"Search for cards, sets, or boosters..."},null,512),[[c["M"],s.search]])]),Object(c["i"])("div",_n,[Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.filters.priceRange=e)},t[15]||(t[15]=[Object(c["i"])("option",{value:""},"All Prices",-1),Object(c["i"])("option",{value:"under10"},"Under $10",-1),Object(c["i"])("option",{value:"10to50"},"$10 - $50",-1),Object(c["i"])("option",{value:"50plus"},"$50+",-1)]),512),[[c["L"],s.filters.priceRange]]),Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>s.filters.rarity=e)},t[16]||(t[16]=[Object(c["j"])('<option value="" data-v-c79ac13a>All Rarities</option><option value="common" data-v-c79ac13a>Common</option><option value="uncommon" data-v-c79ac13a>Uncommon</option><option value="rare" data-v-c79ac13a>Rare</option><option value="ultra" data-v-c79ac13a>Ultra Rare</option>',5)]),512),[[c["L"],s.filters.rarity]]),Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.filters.condition=e)},t[17]||(t[17]=[Object(c["j"])('<option value="" data-v-c79ac13a>All Conditions</option><option value="mint" data-v-c79ac13a>Mint</option><option value="near_mint" data-v-c79ac13a>Near Mint</option><option value="excellent" data-v-c79ac13a>Excellent</option><option value="good" data-v-c79ac13a>Good</option>',5)]),512),[[c["L"],s.filters.condition]])])])]),s.activeFiltersCount?(Object(c["x"])(),Object(c["h"])("div",xn,[s.filters.priceRange?(Object(c["x"])(),Object(c["h"])("span",{key:0,class:"filter-tag",onClick:t[4]||(t[4]=e=>s.filters.priceRange="")},[Object(c["k"])(Object(c["H"])(e.formatPriceRange(s.filters.priceRange))+" ",1),t[18]||(t[18]=Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1))])):Object(c["g"])("",!0),s.filters.rarity?(Object(c["x"])(),Object(c["h"])("span",{key:1,class:"filter-tag",onClick:t[5]||(t[5]=e=>s.filters.rarity="")},[Object(c["k"])(Object(c["H"])(s.filters.rarity)+" ",1),t[19]||(t[19]=Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1))])):Object(c["g"])("",!0),s.filters.condition?(Object(c["x"])(),Object(c["h"])("span",{key:2,class:"filter-tag",onClick:t[6]||(t[6]=e=>s.filters.condition="")},[Object(c["k"])(Object(c["H"])(s.filters.condition)+" ",1),t[20]||(t[20]=Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1))])):Object(c["g"])("",!0),Object(c["i"])("button",{class:"clear-filters",onClick:t[7]||(t[7]=(...e)=>s.clearFilters&&s.clearFilters(...e))},"Clear All")])):Object(c["g"])("",!0),Object(c["i"])("div",An,[Object(c["l"])(c["c"],{name:"product-card"},{default:Object(c["O"])(()=>[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.paginatedProducts,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:Object(c["r"])(["product-card",{"out-of-stock":e.stock<=0,"in-wishlist":s.isInWishlist(e.id)}])},[Object(c["i"])("div",Pn,[Object(c["i"])("img",{src:e.image_url,alt:e.name},null,8,Mn),e.metadata?(Object(c["x"])(),Object(c["h"])("div",Hn,[e.metadata.rarity?(Object(c["x"])(),Object(c["h"])("span",In,Object(c["H"])(e.metadata.rarity),1)):Object(c["g"])("",!0),e.stock<5&&e.stock>0?(Object(c["x"])(),Object(c["h"])("span",Un," Low Stock ")):Object(c["g"])("",!0)])):Object(c["g"])("",!0)]),Object(c["i"])("div",Dn,[Object(c["i"])("div",Tn,[Object(c["i"])("span",qn,Object(c["H"])(e.type),1),Object(c["i"])("h3",null,Object(c["H"])(e.name),1)]),Object(c["i"])("div",Fn,[e.metadata&&e.metadata.set?(Object(c["x"])(),Object(c["h"])("span",Vn,Object(c["H"])(e.metadata.set.name),1)):Object(c["g"])("",!0),Object(c["i"])("span",Rn,"$"+Object(c["H"])(e.price),1)]),Object(c["i"])("button",{class:"buy-button",disabled:e.stock<=0,onClick:t=>s.addToCart(e,t)},Object(c["H"])(e.stock<=0?"Out of Stock":"Add to Cart"),9,Nn)]),Object(c["i"])("div",En,[Object(c["i"])("button",{class:Object(c["r"])(["wishlist-button",{active:s.isInWishlist(e.id)}]),onClick:Object(c["R"])(t=>s.toggleWishlist(e),["stop"])},[Object(c["i"])("span",Wn,Object(c["H"])(s.isInWishlist(e.id)?"favorite":"favorite_border"),1)],10,Ln),Object(c["i"])("button",{class:"quick-view-button",onClick:Object(c["R"])(t=>s.showQuickView(e),["stop"])},t[21]||(t[21]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"visibility",-1)]),8,$n)])],2))),128))]),_:1})]),s.totalPages>1?(Object(c["x"])(),Object(c["h"])("div",Bn,[Object(c["i"])("button",{disabled:1===s.currentPage,onClick:t[8]||(t[8]=e=>s.currentPage--)},t[22]||(t[22]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"chevron_left",-1)]),8,zn),(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.displayedPages,e=>(Object(c["x"])(),Object(c["h"])("button",{key:e,class:Object(c["r"])({active:s.currentPage===e}),onClick:t=>s.currentPage=e},Object(c["H"])(e),11,Qn))),128)),Object(c["i"])("button",{disabled:s.currentPage===s.totalPages,onClick:t[9]||(t[9]=e=>s.currentPage++)},t[23]||(t[23]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"chevron_right",-1)]),8,Jn)])):Object(c["g"])("",!0),s.quickViewProduct?(Object(c["x"])(),Object(c["f"])(r,{key:2,onClose:t[11]||(t[11]=e=>s.quickViewProduct=null)},{default:Object(c["O"])(()=>[Object(c["i"])("div",Gn,[Object(c["i"])("div",Kn,[Object(c["i"])("img",{src:s.quickViewProduct.image_url,alt:s.quickViewProduct.name},null,8,Zn)]),Object(c["i"])("div",Xn,[Object(c["i"])("h2",null,Object(c["H"])(s.quickViewProduct.name),1),Object(c["i"])("div",Yn,[s.quickViewProduct.metadata&&s.quickViewProduct.metadata.set?(Object(c["x"])(),Object(c["h"])("span",eo,Object(c["H"])(s.quickViewProduct.metadata.set.name),1)):Object(c["g"])("",!0),s.quickViewProduct.metadata?(Object(c["x"])(),Object(c["h"])("span",to,Object(c["H"])(s.quickViewProduct.metadata.rarity),1)):Object(c["g"])("",!0)]),Object(c["i"])("div",ao,[Object(c["i"])("div",co,[t[24]||(t[24]=Object(c["i"])("span",null,"Market Price",-1)),Object(c["i"])("strong",null,"$"+Object(c["H"])(s.getMarketPrice(s.quickViewProduct)),1)]),Object(c["i"])("div",so,[t[25]||(t[25]=Object(c["i"])("span",null,"Our Price",-1)),Object(c["i"])("strong",null,"$"+Object(c["H"])(s.quickViewProduct.price),1)])]),Object(c["i"])("div",io,[Object(c["i"])("span",lo,Object(c["H"])(s.quickViewProduct.stock>0?"inventory_2":"inventory_2_off"),1),Object(c["k"])(" "+Object(c["H"])(s.quickViewProduct.stock>0?s.quickViewProduct.stock+" in stock":"Out of stock"),1)]),Object(c["i"])("button",{class:"add-to-cart",disabled:s.quickViewProduct.stock<=0,onClick:t[10]||(t[10]=e=>s.addToCart(s.quickViewProduct,e))}," Add to Cart ",8,ro)])])]),_:1})):Object(c["g"])("",!0),s.showFilters?(Object(c["x"])(),Object(c["f"])(r,{key:3,onClose:t[12]||(t[12]=e=>s.showFilters=!1)},{header:Object(c["O"])(()=>t[26]||(t[26]=[Object(c["i"])("h2",null,"Filter Products",-1)])),default:Object(c["O"])(()=>t[27]||(t[27]=[Object(c["i"])("div",{class:"filters-form"},null,-1)])),_:1})):Object(c["g"])("",!0),Object(c["l"])(n,{show:s.notification.show,title:s.notification.title,message:s.notification.message,type:s.notification.type,onClose:s.hideNotification},null,8,["show","title","message","type","onClose"])])}const oo={class:"material-symbols-rounded icon"},bo={class:"content"};function uo(e,t,a,s,i,l){return Object(c["x"])(),Object(c["f"])(c["b"],{name:"notification"},{default:Object(c["O"])(()=>[a.show?(Object(c["x"])(),Object(c["h"])("div",{key:0,class:Object(c["r"])(["notification",a.type])},[Object(c["i"])("span",oo,Object(c["H"])(l.icon),1),Object(c["i"])("div",bo,[Object(c["i"])("h4",null,Object(c["H"])(a.title),1),Object(c["i"])("p",null,Object(c["H"])(a.message),1)]),Object(c["i"])("button",{onClick:t[0]||(t[0]=t=>e.$emit("close")),class:"close-btn"},t[1]||(t[1]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1)]))],2)):Object(c["g"])("",!0)]),_:1})}var Oo={name:"AppleNotification",props:{show:Boolean,title:String,message:String,type:{type:String,default:"success",validator:e=>["success","error","info"].includes(e)}},computed:{icon(){const e={success:"check_circle",error:"error",info:"info"};return e[this.type]}},emits:["close"]};a("5f9e");const jo=q()(Oo,[["render",uo],["__scopeId","data-v-109d7732"]]);var mo=jo;const po={key:0,class:"preview-content"},ho={class:"preview-image"},vo=["src","alt"],go={class:"preview-info"},fo={class:"product-type"},yo={class:"product-meta"},ko={key:0,class:"meta-item"},wo={key:1,class:"meta-item"},Co={class:"price-section"},So={class:"price"},_o=["disabled"];function xo(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",{class:Object(c["r"])(["preview-overlay",{"is-open":e.isOpen}]),onClick:t[3]||(t[3]=(...t)=>e.close&&e.close(...t))},[Object(c["i"])("div",{class:Object(c["r"])(["preview-panel",{"is-open":e.isOpen}]),onClick:t[2]||(t[2]=Object(c["R"])(()=>{},["stop"]))},[Object(c["i"])("button",{class:"close-button",onClick:t[0]||(t[0]=(...t)=>e.close&&e.close(...t))},t[4]||(t[4]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1)])),e.product?(Object(c["x"])(),Object(c["h"])("div",po,[Object(c["i"])("div",ho,[Object(c["i"])("img",{src:e.product.image_url,alt:e.product.name},null,8,vo)]),Object(c["i"])("div",go,[Object(c["i"])("span",fo,Object(c["H"])(e.product.type),1),Object(c["i"])("h2",null,Object(c["H"])(e.product.name),1),Object(c["i"])("div",yo,[e.product.metadata&&e.product.metadata.set?(Object(c["x"])(),Object(c["h"])("div",ko,[t[5]||(t[5]=Object(c["i"])("h4",null,"Set",-1)),Object(c["i"])("p",null,Object(c["H"])(e.product.metadata.set.name),1)])):Object(c["g"])("",!0),e.product.metadata&&e.product.metadata.rarity?(Object(c["x"])(),Object(c["h"])("div",wo,[t[6]||(t[6]=Object(c["i"])("h4",null,"Rarity",-1)),Object(c["i"])("p",null,Object(c["H"])(e.product.metadata.rarity),1)])):Object(c["g"])("",!0)]),Object(c["i"])("div",Co,[Object(c["i"])("div",So,"$"+Object(c["H"])(e.product.price),1),Object(c["i"])("div",{class:Object(c["r"])(["stock",e.getStockLevel(e.product.stock)])},Object(c["H"])(e.product.stock)+" in stock ",3)]),Object(c["i"])("button",{class:"add-to-cart",disabled:e.product.stock<=0,onClick:t[1]||(t[1]=(...t)=>e.addToCart&&e.addToCart(...t))}," Add to Cart ",8,_o)])])):Object(c["g"])("",!0)],2)],2)}var Ao=Object(c["m"])({name:"QuickPreview",props:{product:Object,isOpen:Boolean},emits:["close"],setup(e,{emit:t}){function a(){t("close")}function c(){v["a"].addItem(e.product),a()}function s(e){return e<=0?"out":e<5?"low":"good"}return{close:a,addToCart:c,getStockLevel:s}}});a("b09e");const Po=q()(Ao,[["render",xo],["__scopeId","data-v-affce238"]]);var Mo=Po,Ho={name:"Store",components:{Modal:ms["a"],CartSlideOver:V,QuickPreview:Mo,AppleNotification:mo},setup(){const e=Object(c["A"])(""),t=Object(c["A"])(!1),a=Object(c["A"])(!1),s=Object(c["A"])(!1),i=Object(c["A"])(null),l=Object(c["A"])([]),r=Object(c["A"])({condition:"",sort:"newest",category:"",priceRange:"",rarity:""}),n=Object(c["A"])(1),o=12,d=Object(c["A"])(null),b=Object(c["A"])([{id:"all",name:"All",icon:"category"},{id:"rare",name:"Rare",icon:"star"},{id:"common",name:"Common",icon:"circle"},{id:"uncommon",name:"Uncommon",icon:"diamond"}]),u=Object(c["A"])([]),O=Object(c["A"])(!0),j=Object(c["d"])(()=>h["a"].state.user?h["a"].state.user.id:null),m=Object(c["d"])(()=>Object.values(r.value).filter(Boolean).length),p=Object(c["d"])(()=>{let t=[...u.value];if(e.value){const a=e.value.toLowerCase();t=t.filter(e=>e.name.toLowerCase().includes(a))}return r.value.category&&"all"!==r.value.category&&(t=t.filter(e=>e.type===r.value.category)),r.value.priceRange&&(t=I(t,r.value.priceRange)),r.value.rarity&&(t=t.filter(e=>e.metadata&&e.metadata.rarity&&e.metadata.rarity.toLowerCase()===r.value.rarity)),r.value.condition&&(t=t.filter(e=>e.metadata&&e.metadata.condition&&e.metadata.condition.toLowerCase()===r.value.condition)),D(t,r.value.sort)}),g=Object(c["d"])(()=>{const e=(n.value-1)*o;return p.value.slice(e,e+o)}),f=Object(c["d"])(()=>Math.ceil(p.value.length/o)),y=Object(c["d"])(()=>{const e=f.value,t=n.value,a=2,c=[],s=[];let i;c.push(1);for(let l=t-a;l<=t+a;l++)l>=1&&l<=e&&c.push(l);return c.push(e),c.forEach(e=>{i&&(e-i===2?s.push(i+1):e-i!==1&&s.push("...")),s.push(e),i=e}),s});async function k(){const{data:e,error:t}=await U["a"].from("products").select("*").eq("active",!0);t?console.error("Error fetching listings:",t):l.value=e||[]}async function w(){console.log("Fetching products..."),O.value=!0;try{const{data:e,error:t}=await U["a"].from("products").select("*").eq("active",!0).order("created_at",{ascending:!1});if(t)throw console.error("Supabase error:",t),t;if(console.log("Raw data from Supabase:",e),!e||0===e.length)return console.log("No products found in database"),void(u.value=[]);u.value=e.map(e=>({...e,price:parseFloat(e.price)||0,stock:parseInt(e.stock)||0})),console.log("Transformed products:",u.value)}catch(e){console.error("Error fetching products:",e)}finally{O.value=!1}}function C(e){return e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())}function S(e){i.value=e,a.value=!0}async function _(){if(i.value&&h["a"].state.user)try{const{error:e}=await U["a"].from("orders").insert({product_id:i.value.id,user_id:h["a"].state.user.id,quantity:1,total_amount:i.value.price,status:"completed"});if(e)throw e;const{error:t}=await U["a"].from("products").update({active:!1,stock:i.value.stock-1}).eq("id",i.value.id);if(t)throw t;a.value=!1,await k()}catch(e){console.error("Error processing purchase:",e)}}const x=Object(c["A"])(null),A=Object(c["A"])(!1);function P(e){x.value=e,A.value=!0}function M(){r.value={priceRange:"",rarity:"",condition:"",sort:"newest",category:""},n.value=1}function H(e){d.value=e}function I(e,t){switch(t){case"under10":return e.filter(e=>e.price<10);case"10to50":return e.filter(e=>e.price>=10&&e.price<=50);case"50plus":return e.filter(e=>e.price>50);default:return e}}function D(e,t){switch(t){case"price_low":return e.sort((e,t)=>e.price-t.price);case"price_high":return e.sort((e,t)=>t.price-e.price);case"newest":return e.sort((e,t)=>new Date(t.created_at)-new Date(e.created_at));case"popularity":return e.sort((e,t)=>t.popularity-e.popularity);default:return e}}const T=Object(c["A"])([]);async function q(){if(h["a"].state.user)try{const{data:e,error:t}=await U["a"].from("wishlists").select("card_id").eq("user_id",h["a"].state.user.id);if(t)throw t;T.value=e.map(e=>e.card_id),console.log("Fetched wishlist:",T.value)}catch(e){console.error("Error fetching wishlist:",e)}}function F(e){return T.value.includes(e)}async function V(e){if(h["a"].state.user)try{const t=F(e.id);if(t){const{error:t}=await U["a"].from("wishlists").delete().eq("user_id",h["a"].state.user.id).eq("card_id",e.id);if(t)throw t;T.value=T.value.filter(t=>t!==e.id)}else{const{error:t}=await U["a"].from("wishlists").insert({user_id:h["a"].state.user.id,card_id:e.id,card_data:{name:e.name,image_url:e.image_url,price:e.price,type:e.type,metadata:e.metadata}});if(t)throw t;T.value.push(e.id)}}catch(t){console.error("Error updating wishlist:",t),alert("Failed to update wishlist")}else alert("Please log in to add items to your wishlist")}function R(e){if(!e.metadata)return"0.00";let t=e.price;return e.metadata.cardmarket&&e.metadata.cardmarket.prices&&e.metadata.cardmarket.prices.averageSellPrice?t=e.metadata.cardmarket.prices.averageSellPrice:e.metadata.tcgplayer&&e.metadata.tcgplayer.prices&&e.metadata.tcgplayer.prices.market&&(t=e.metadata.tcgplayer.prices.market),parseFloat(t).toFixed(2)}function N(e){console.log("Adding product to cart:",e);const t=(e,t,a)=>t.split(".").reduce((e,t)=>e&&void 0!==e[t]?e[t]:a,e),a={id:e.id,name:e.name,price:parseFloat(e.price||0),image_url:e.image_url,set:t(e,"metadata.set.name","Unknown Set"),rarity:t(e,"metadata.rarity","Common"),type:e.type||"Unknown Type",quantity:1};console.log("Processed card item:",a),v["a"].addItem(a),L("Added to Cart",e.name+" has been added to your cart.","success")}const E=Object(c["A"])({show:!1,title:"",message:"",type:"success"});function L(e,t,a="success"){E.value={show:!0,title:e,message:t,type:a},setTimeout(()=>{W()},3e3)}function W(){E.value.show=!1}function N(e){v["a"].addItem({id:e.id,name:e.name,price:e.price,image_url:e.image,quantity:1}),L("Added to Cart",e.name+" has been added to your cart.","success")}return Object(c["v"])(async()=>{await Promise.all([w(),h["a"].state.user?q():Promise.resolve()])}),{search:e,filters:r,filteredProducts:p,showSellModal:t,showBuyModal:a,showFilters:s,selectedListing:i,buyCard:S,confirmPurchase:_,formatCondition:C,currentUserId:j,categories:b,selectedProduct:x,showPreview:A,showQuickPreview:P,cart:v["a"],currentPage:n,quickViewProduct:d,activeFiltersCount:m,paginatedProducts:g,totalPages:f,displayedPages:y,clearFilters:M,showQuickView:H,products:u,isLoading:O,isInWishlist:F,toggleWishlist:V,fetchProducts:w,wishlist:T,getMarketPrice:R,addToCart:N,notification:E,hideNotification:W}}};a("4b58");const Io=q()(Ho,[["render",no],["__scopeId","data-v-c79ac13a"]]);var Uo=Io;const Do=[{path:"/",name:"Home",component:va,meta:{public:!0}},{path:"/collection",name:"Collection",component:Gt,meta:{public:!0}},{path:"/pricing",name:"Pricing",component:()=>a.e("chunk-62ad9a69").then(a.bind(null,"8aff")),meta:{public:!0}},{path:"/about",name:"About",component:()=>a.e("chunk-2fe52e9a").then(a.bind(null,"f820")),meta:{public:!0}},{path:"/my-collection",name:"MyCollection",component:tc,meta:{requiresAuth:!0}},{path:"/wishlist",name:"Wishlist",component:xc,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:Ia,meta:{public:!0}},{path:"/register",name:"Register",component:()=>a.e("chunk-13be29f5").then(a.bind(null,"73cf")),meta:{public:!0}},{path:"/admin",name:"Admin",component:hn,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/profile",name:"Profile",component:()=>a.e("chunk-28a89ab6").then(a.bind(null,"c66d")),meta:{requiresAuth:!0}},{path:"/store",name:"Store",component:Uo,meta:{requiresAuth:!0}},{path:"/cart",name:"Cart",component:()=>a.e("chunk-5c094b52").then(a.bind(null,"b789")),meta:{requiresAuth:!0}},{path:"/checkout",name:"Checkout",component:()=>a.e("chunk-8a95aeea").then(a.bind(null,"7cb4")),meta:{requiresAuth:!0,title:"Checkout"}},{path:"/checkout/success",name:"CheckoutSuccess",component:()=>a.e("chunk-c066c090").then(a.bind(null,"4625")),meta:{requiresAuth:!0}},{path:"/order-confirmation/:orderId",name:"OrderConfirmation",component:()=>a.e("chunk-7229211b").then(a.bind(null,"6eb9")),props:!0,meta:{requiresAuth:!0}},{path:"/orders",name:"Orders",component:()=>a.e("chunk-53d5b976").then(a.bind(null,"159d")),meta:{requiresAuth:!0}}],To=Object(R["a"])({history:Object(R["b"])("/"),routes:Do});To.beforeEach(async(e,t,a)=>{h["a"].state.initialized||await h["a"].initializeAuth();const c=!!h["a"].state.session,s=h["a"].state.isAdmin;!e.meta.requiresAuth||c?!e.meta.requiresAdmin||s?a():a("/"):a("/login")});var qo=To;const Fo=Object(c["e"])(B);Fo.use(qo),Fo.mount("#app")},"5e33":function(e,t,a){"use strict";a("4a66")},"5f9e":function(e,t,a){"use strict";a("3f66")},"6fff":function(e,t,a){},"714b":function(e,t,a){"use strict";var c=a("7a23");const s={key:0,class:"modal-header"},i={class:"modal-content"},l={key:1,class:"modal-footer"};function r(e,t,a,r,n,o){return Object(c["x"])(),Object(c["f"])(c["b"],{name:"modal-fade"},{default:Object(c["O"])(()=>[a.show?(Object(c["x"])(),Object(c["h"])("div",{key:0,class:"modal-overlay",onClick:t[1]||(t[1]=Object(c["R"])(t=>e.$emit("close"),["self"]))},[Object(c["i"])("div",{class:"modal-container",style:Object(c["s"])({maxWidth:a.maxWidth+"px"})},[e.$slots.header?(Object(c["x"])(),Object(c["h"])("div",s,[Object(c["C"])(e.$slots,"header",{},void 0,!0),Object(c["i"])("button",{class:"close-button",onClick:t[0]||(t[0]=t=>e.$emit("close"))},t[2]||(t[2]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1)]))])):Object(c["g"])("",!0),Object(c["i"])("div",i,[Object(c["C"])(e.$slots,"default",{},void 0,!0)]),e.$slots.footer?(Object(c["x"])(),Object(c["h"])("div",l,[Object(c["C"])(e.$slots,"footer",{},void 0,!0)])):Object(c["g"])("",!0)],4)])):Object(c["g"])("",!0)]),_:3})}var n={name:"Modal",props:{show:{type:Boolean,default:!0},maxWidth:{type:Number,default:600}},mounted(){document.body.style.overflow="hidden"},beforeDestroy(){document.body.style.overflow=""}},o=(a("c362"),a("6b0d")),d=a.n(o);const b=d()(n,[["render",r],["__scopeId","data-v-bb221992"]]);t["a"]=b},7265:function(e,t,a){"use strict";a("b504")},7307:function(e,t,a){"use strict";a("d351")},"78bc":function(e,t,a){"use strict";a("386d")},"79a7":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var c=a("940b");const s="https://qhghblgzpgoftoovbmes.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFoZ2hibGd6cGdvZnRvb3ZibWVzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzkzNjI4MzUsImV4cCI6MjA1NDkzODgzNX0.ifNQ2s7hjm0VinL8m1nJTTUnL7ZOLzdZ6z9Ycp4gqmQ",l=Object(c["a"])(s,i)},"7dbe":function(e,t,a){},"889e":function(e,t,a){"use strict";var c=a("7a23"),s=a("79a7");const i=Object(c["z"])({user:null,session:null,profile:null,isAdmin:!1,initialized:!1}),l={state:i,async initializeAuth(){try{const{data:e}=await s["a"].auth.getSession(),t=e.session||null;if(i.session=t,i.user=t?t.user:null,t){const{data:e}=await s["a"].from("profiles").select("*").eq("id",t.user.id).single();i.profile=e,i.isAdmin=!!e&&"admin"===e.role}}catch(e){console.error("Auth initialization error:",e),i.session=null,i.user=null,i.profile=null,i.isAdmin=!1}finally{i.initialized=!0}},async signIn(e,t){const{data:a,error:c}=await s["a"].auth.signInWithPassword({email:e,password:t});if(c)return{error:c};if(i.session=a.session,i.user=a.user,a.user){const{data:e}=await s["a"].from("profiles").select("*").eq("id",a.user.id).single();i.profile=e,i.isAdmin=!!e&&"admin"===e.role}return{user:i.user}},async signOut(){const{error:e}=await s["a"].auth.signOut();return e||(i.user=null,i.session=null,i.profile=null,i.isAdmin=!1),{error:e}}};s["a"].auth.onAuthStateChange((e,t)=>{i.session=t,i.user=t?t.user:null,t?s["a"].from("profiles").select("*").eq("id",t.user.id).single().then(({data:e})=>{i.profile=e,i.isAdmin=!!e&&"admin"===e.role}):(i.profile=null,i.isAdmin=!1)}),t["a"]=l},"8c2f":function(e,t,a){"use strict";var c=a("7a23");a("2064");const s=localStorage.getItem("cart"),i=s?JSON.parse(s):{items:[],total:0,show:!1},l=Object(c["z"])(i);Object(c["N"])(()=>l.items,e=>{localStorage.setItem("cart",JSON.stringify({items:e,total:l.total,show:l.show}))},{deep:!0}),t["a"]={state:l,toggleCart(){l.show=!l.show},async addItem(e){try{console.log("Adding item to cart:",e);const t={id:e.id,name:e.name,price:parseFloat(e.price)||0,image_url:e.image_url,set:e.set||"",rarity:e.rarity||"",quantity:1,tcg_id:e.tcg_id};console.log("Normalized cart item:",t);const a=l.items.find(e=>e.id===t.id);a?a.quantity++:l.items.push(t),this.calculateTotal(),l.show=!0}catch(t){console.error("Error adding item to cart:",t),this.addItemFallback(e)}},addItemFallback(e){const t=e.image_url||e.imageUrl||e.images&&(e.images.large||e.images.small)||"",a={id:e.id,name:e.name,price:parseFloat(e.price)||0,image_url:t,set:e.set||"",rarity:e.rarity||"",quantity:1},c=l.items.find(e=>e.id===a.id);c?c.quantity++:l.items.push(a),this.calculateTotal(),l.show=!0},removeItem(e){l.items=l.items.filter(t=>t.id!==e),this.calculateTotal()},updateQuantity(e,t){const a=l.items.find(t=>t.id===e);a&&(a.quantity=t,this.calculateTotal())},calculateTotal(){l.total=l.items.reduce((e,t)=>e+t.price*t.quantity,0)},clear(){l.items=[],l.total=0,l.show=!1}}},"8fb5":function(e,t,a){"use strict";a("ad02")},9359:function(e,t,a){"use strict";a("d683")},"996c":function(e,t,a){},a3ba:function(e,t,a){"use strict";a("f8c8")},a98f:function(e,t,a){},aafd:function(e,t,a){},ad02:function(e,t,a){},b09e:function(e,t,a){"use strict";a("c442")},b504:function(e,t,a){},b7f1:function(e,t,a){"use strict";function c(e){if(!e||"string"!==typeof e)return"/placeholder.png";if(e.startsWith("https://")){const t=e.split("/").pop(),a=e.split("/").slice(-2)[0];return`https://qhghblgzpgoftoovbmes.supabase.co/storage/v1/object/public/card-images/${a}/${t}`}return"/placeholder.png"}function s(e){console.warn("Image failed to load:",e.target.src),e.target.src="/placeholder.png"}a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return s}))},bb18:function(e,t,a){"use strict";a("6fff")},bc7b:function(e,t,a){"use strict";a("d591")},c2d5:function(e,t,a){},c362:function(e,t,a){"use strict";a("c2d5")},c395:function(e,t,a){"use strict";a("487e")},c442:function(e,t,a){},c63d:function(e,t,a){"use strict";a("996c")},cf5f:function(e,t,a){"use strict";a("1b3d")},d351:function(e,t,a){},d591:function(e,t,a){},d683:function(e,t,a){},d959:function(e,t,a){},dfd6:function(e,t,a){"use strict";a("0731")},e069:function(e,t,a){"use strict";a("aafd")},ee29:function(e,t,a){"use strict";a("7dbe")},f76e:function(e,t,a){},f8c8:function(e,t,a){},fc82:function(e,t,a){}});
//# sourceMappingURL=app.064eb5ca.js.map