(function(e){function t(t){for(var c,s,n=t[0],r=t[1],o=t[2],d=0,b=[];d<n.length;d++)s=n[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&b.push(i[s][0]),i[s]=0;for(c in r)Object.prototype.hasOwnProperty.call(r,c)&&(e[c]=r[c]);u&&u(t);while(b.length)b.shift()();return l.push.apply(l,o||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],c=!0,s=1;s<a.length;s++){var n=a[s];0!==i[n]&&(c=!1)}c&&(l.splice(t--,1),e=r(r.s=a[0]))}return e}var c={},s={app:0},i={app:0},l=[];function n(e){return r.p+"js/"+({}[e]||e)+"."+{"chunk-0173399f":"2366f0d6","chunk-13be29f5":"ac94a91e","chunk-28a89ab6":"a527599e","chunk-2d0e2721":"39716f46","chunk-2fe52e9a":"5ea4ab9e","chunk-62ad9a69":"08657534","chunk-7229211b":"89560697","chunk-781b0d1e":"3c9ab5b2","chunk-8a95aeea":"7093d32d","chunk-c066c090":"989c5d97"}[e]+".js"}function r(t){if(c[t])return c[t].exports;var a=c[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.e=function(e){var t=[],a={"chunk-0173399f":1,"chunk-13be29f5":1,"chunk-28a89ab6":1,"chunk-2fe52e9a":1,"chunk-62ad9a69":1,"chunk-7229211b":1,"chunk-781b0d1e":1,"chunk-8a95aeea":1,"chunk-c066c090":1};s[e]?t.push(s[e]):0!==s[e]&&a[e]&&t.push(s[e]=new Promise((function(t,a){for(var c="css/"+({}[e]||e)+"."+{"chunk-0173399f":"fd69787a","chunk-13be29f5":"e02c82d6","chunk-28a89ab6":"01871f80","chunk-2d0e2721":"31d6cfe0","chunk-2fe52e9a":"2c59716c","chunk-62ad9a69":"dfca84cb","chunk-7229211b":"16dc44ee","chunk-781b0d1e":"52bd11de","chunk-8a95aeea":"09cdc2b4","chunk-c066c090":"2b6b2e4d"}[e]+".css",i=r.p+c,l=document.getElementsByTagName("link"),n=0;n<l.length;n++){var o=l[n],d=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(d===c||d===i))return t()}var b=document.getElementsByTagName("style");for(n=0;n<b.length;n++){o=b[n],d=o.getAttribute("data-href");if(d===c||d===i)return t()}var u=document.createElement("link");u.rel="stylesheet",u.type="text/css",u.onload=t,u.onerror=function(t){var c=t&&t.target&&t.target.src||i,l=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");l.code="CSS_CHUNK_LOAD_FAILED",l.request=c,delete s[e],u.parentNode.removeChild(u),a(l)},u.href=i;var O=document.getElementsByTagName("head")[0];O.appendChild(u)})).then((function(){s[e]=0})));var c=i[e];if(0!==c)if(c)t.push(c[2]);else{var l=new Promise((function(t,a){c=i[e]=[t,a]}));t.push(c[2]=l);var o,d=document.createElement("script");d.charset="utf-8",d.timeout=120,r.nc&&d.setAttribute("nonce",r.nc),d.src=n(e);var b=new Error;o=function(t){d.onerror=d.onload=null,clearTimeout(u);var a=i[e];if(0!==a){if(a){var c=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;b.message="Loading chunk "+e+" failed.\n("+c+": "+s+")",b.name="ChunkLoadError",b.type=c,b.request=s,a[1](b)}i[e]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:d})}),12e4);d.onerror=d.onload=o,document.head.appendChild(d)}return Promise.all(t)},r.m=e,r.c=c,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)r.d(a,c,function(t){return e[t]}.bind(null,c));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r.oe=function(e){throw console.error(e),e};var o=window["webpackJsonp"]=window["webpackJsonp"]||[],d=o.push.bind(o);o.push=t,o=o.slice();for(var b=0;b<o.length;b++)t(o[b]);var u=d;l.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"06ad":function(e,t,a){},"0731":function(e,t,a){},"0be8":function(e,t,a){},"0c68":function(e,t,a){"use strict";a("b6cb")},"0e58":function(e,t,a){"use strict";a("0fae")},"0fae":function(e,t,a){},"15a5":function(e,t,a){"use strict";a("44d1")},"1f14":function(e,t,a){},"204a":function(e,t,a){"use strict";a("9fb6")},2064:function(e,t,a){"use strict";var c=a("cee4");const s="0c4b0264-73d6-4ada-8edf-ef3ec5db80ea",i="https://api.pokemontcg.io/v2",l=c["a"].create({baseURL:i,headers:{"X-Api-Key":s,"Content-Type":"application/json"}});t["a"]={async getCards(e={}){const t=await l.get("/cards",{params:{pageSize:250,page:e.page||1,q:e.query||"",orderBy:e.orderBy||"name",select:"id,name,images,types,rarity,cardmarket,set",...e}});return t.data},async getSets(){const e=await l.get("/sets",{params:{orderBy:"-releaseDate",select:"id,name,images,releaseDate,series"}});return e.data},async getCardById(e){const t=await l.get("/cards/"+e);return t.data},async getCardsByQuery(e){const t=await l.get("/cards",{params:{q:e}});return t.data},getCard(e){return l.get("/cards/"+e)}}},2161:function(e,t,a){"use strict";a("7770")},"34f1":function(e,t,a){},"36a6":function(e,t,a){"use strict";a("1f14")},"36e4":function(e,t,a){},"395c":function(e,t,a){},"3b4f":function(e,t,a){"use strict";a("f76e")},"3e12":function(e,t,a){"use strict";a("a98f")},"3f66":function(e,t,a){},"44d1":function(e,t,a){},"463e":function(e,t,a){"use strict";a("71ea")},"487e":function(e,t,a){},"4a66":function(e,t,a){},"4ab2":function(e,t,a){"use strict";a("0be8")},5121:function(e,t,a){"use strict";a("395c")},"56d7":function(e,t,a){"use strict";a.r(t);var c=a("7a23");const s={class:"app"},i={class:"main-content"},l={key:1,class:"loading-screen"};function n(e,t,a,n,r,o){const d=Object(c["D"])("AppHeader"),b=Object(c["D"])("router-view"),u=Object(c["D"])("NotificationCenter");return Object(c["x"])(),Object(c["h"])("div",s,[n.auth.state.initialized?(Object(c["x"])(),Object(c["f"])(d,{key:0})):Object(c["g"])("",!0),Object(c["i"])("main",i,[n.auth.state.initialized?(Object(c["x"])(),Object(c["f"])(b,{key:0})):(Object(c["x"])(),Object(c["h"])("div",l,t[0]||(t[0]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"autorenew",-1),Object(c["k"])(" Loading... ")])))]),Object(c["l"])(u)])}const r={class:"app-header"},o={class:"nav-container"},d={class:"nav-left"},b={class:"nav-links"},u={class:"nav-right"},O={key:0,class:"cart-badge"},j={class:"notification-menu"},m={key:0,class:"notification-badge"},p={key:0,class:"notifications-dropdown"},h={class:"dropdown-header"},v={class:"notifications-list"},g={key:0,class:"empty-notifications"},f={class:"icon material-symbols-rounded"},y={class:"content"},k={class:"timestamp"},w=["onClick"],C={class:"username"},_={key:0,class:"user-dropdown"},S={class:"material-symbols-rounded"},x={key:0,class:"mobile-menu"},A={class:"mobile-menu-header"},M={class:"mobile-menu-content"},P={class:"mobile-menu-section"},H={key:0,class:"mobile-badge"},I={class:"mobile-menu-section"},D={class:"mobile-menu-footer"},U={key:1,class:"mobile-menu-section auth-section"};function T(e,t,a,s,i,l){const n=Object(c["D"])("router-link"),T=Object(c["D"])("CartSlideOver");return Object(c["x"])(),Object(c["h"])("header",r,[Object(c["i"])("nav",o,[Object(c["i"])("div",d,[Object(c["l"])(n,{to:"/",class:"logo"},{default:Object(c["O"])(()=>t[9]||(t[9]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"style",-1),Object(c["k"])(" CardWatcher ")])),_:1}),Object(c["i"])("div",b,[Object(c["l"])(n,{to:"/collection"},{default:Object(c["O"])(()=>t[10]||(t[10]=[Object(c["k"])("Browse")])),_:1}),Object(c["l"])(n,{to:"/store"},{default:Object(c["O"])(()=>t[11]||(t[11]=[Object(c["k"])("Store")])),_:1}),s.isLoggedIn?(Object(c["x"])(),Object(c["h"])(c["a"],{key:0},[Object(c["l"])(n,{to:"/my-collection"},{default:Object(c["O"])(()=>t[12]||(t[12]=[Object(c["k"])("My Collection")])),_:1}),Object(c["l"])(n,{to:"/wishlist"},{default:Object(c["O"])(()=>t[13]||(t[13]=[Object(c["k"])("Wishlist")])),_:1})],64)):Object(c["g"])("",!0)])]),Object(c["i"])("div",u,[Object(c["l"])(n,{to:"/cart",class:"cart-button"},{default:Object(c["O"])(()=>[t[14]||(t[14]=Object(c["i"])("span",{class:"material-symbols-rounded"},"shopping_cart",-1)),s.cart.state.items.length?(Object(c["x"])(),Object(c["h"])("span",O,Object(c["H"])(s.cart.state.items.length),1)):Object(c["g"])("",!0)]),_:1}),Object(c["i"])("div",j,[Object(c["i"])("button",{class:"nav-button notification-button",onClick:t[0]||(t[0]=(...e)=>s.toggleNotifications&&s.toggleNotifications(...e))},[t[15]||(t[15]=Object(c["i"])("span",{class:"material-symbols-rounded"},"notifications",-1)),s.unreadNotifications?(Object(c["x"])(),Object(c["h"])("span",m,Object(c["H"])(s.unreadNotifications),1)):Object(c["g"])("",!0)]),s.showNotifications?(Object(c["x"])(),Object(c["h"])("div",p,[Object(c["i"])("div",h,[t[16]||(t[16]=Object(c["i"])("h3",null,"Notifications",-1)),s.notifications.length?(Object(c["x"])(),Object(c["h"])("button",{key:0,onClick:t[1]||(t[1]=(...e)=>s.clearNotifications&&s.clearNotifications(...e)),class:"clear-button"}," Clear All ")):Object(c["g"])("",!0)]),Object(c["i"])("div",v,[s.notifications.length?Object(c["g"])("",!0):(Object(c["x"])(),Object(c["h"])("div",g,t[17]||(t[17]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"notifications_off",-1),Object(c["i"])("p",null,"No notifications",-1)]))),(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.notifications,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:Object(c["r"])(["notification-item",e.type])},[Object(c["i"])("span",f,Object(c["H"])(s.getNotificationIcon(e.type)),1),Object(c["i"])("div",y,[Object(c["i"])("p",null,Object(c["H"])(e.message),1),Object(c["i"])("span",k,Object(c["H"])(s.formatTime(e.timestamp)),1)]),Object(c["i"])("button",{class:"dismiss-button",onClick:Object(c["R"])(t=>s.dismissNotification(e.id),["stop"])},t[18]||(t[18]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1)]),8,w)],2))),128))])])):Object(c["g"])("",!0)]),s.isLoggedIn?(Object(c["x"])(),Object(c["h"])(c["a"],{key:0},[Object(c["i"])("button",{class:"user-menu",onClick:t[2]||(t[2]=(...e)=>s.toggleUserMenu&&s.toggleUserMenu(...e))},[t[19]||(t[19]=Object(c["i"])("span",{class:"material-symbols-rounded"},"account_circle",-1)),Object(c["i"])("span",C,[Object(c["k"])(Object(c["H"])(s.userDisplayName)+" ",1),Object(c["i"])("span",{class:Object(c["r"])(["role-badge",s.userRole])},Object(c["H"])(s.userRole),3)]),t[20]||(t[20]=Object(c["i"])("span",{class:"material-symbols-rounded"},"expand_more",-1))]),s.showUserMenu?(Object(c["x"])(),Object(c["h"])("div",_,[Object(c["l"])(n,{to:"/profile",class:"dropdown-item"},{default:Object(c["O"])(()=>t[21]||(t[21]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"person",-1),Object(c["k"])(" Profile ")])),_:1}),Object(c["l"])(n,{to:"/orders",class:"dropdown-item"},{default:Object(c["O"])(()=>t[22]||(t[22]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"receipt_long",-1),Object(c["k"])(" My Orders ")])),_:1}),s.isAdmin?(Object(c["x"])(),Object(c["f"])(n,{key:0,to:"/admin",class:"dropdown-item"},{default:Object(c["O"])(()=>t[23]||(t[23]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"admin_panel_settings",-1),Object(c["k"])(" Admin Panel ")])),_:1})):Object(c["g"])("",!0),Object(c["i"])("button",{onClick:t[3]||(t[3]=(...e)=>s.handleSignOut&&s.handleSignOut(...e)),class:"dropdown-item"},t[24]||(t[24]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"logout",-1),Object(c["k"])(" Sign Out ")]))])):Object(c["g"])("",!0)],64)):(Object(c["x"])(),Object(c["h"])(c["a"],{key:1},[Object(c["l"])(n,{to:"/register",class:"auth-button secondary"},{default:Object(c["O"])(()=>t[25]||(t[25]=[Object(c["k"])("Register")])),_:1}),Object(c["l"])(n,{to:"/login",class:"auth-button primary"},{default:Object(c["O"])(()=>t[26]||(t[26]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"login",-1),Object(c["k"])(" Sign In ")])),_:1})],64))]),s.isMobile?(Object(c["x"])(),Object(c["h"])("button",{key:0,class:"mobile-menu-btn",onClick:t[4]||(t[4]=(...e)=>s.toggleMobileNav&&s.toggleMobileNav(...e))},[Object(c["i"])("span",S,Object(c["H"])(s.showMobileNav?"close":"menu"),1)])):Object(c["g"])("",!0)]),Object(c["l"])(T,{show:e.showCart,onClose:t[5]||(t[5]=t=>e.showCart=!1)},null,8,["show"]),Object(c["l"])(c["b"],{name:"slide"},{default:Object(c["O"])(()=>[s.showMobileNav?(Object(c["x"])(),Object(c["h"])("div",x,[Object(c["i"])("div",A,[Object(c["l"])(n,{to:"/",class:"logo",onClick:s.toggleMobileNav},{default:Object(c["O"])(()=>t[27]||(t[27]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"style",-1),Object(c["k"])(" CardWatcher ")])),_:1},8,["onClick"]),Object(c["i"])("button",{onClick:t[6]||(t[6]=(...e)=>s.toggleMobileNav&&s.toggleMobileNav(...e)),class:"close-button"},t[28]||(t[28]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1)]))]),Object(c["i"])("div",M,[Object(c["i"])("div",P,[Object(c["l"])(n,{to:"/collection",onClick:s.toggleMobileNav,class:"mobile-menu-item"},{default:Object(c["O"])(()=>t[29]||(t[29]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"dashboard",-1),Object(c["k"])(" Browse ")])),_:1},8,["onClick"]),Object(c["l"])(n,{to:"/store",onClick:s.toggleMobileNav,class:"mobile-menu-item"},{default:Object(c["O"])(()=>t[30]||(t[30]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"store",-1),Object(c["k"])(" Store ")])),_:1},8,["onClick"]),Object(c["l"])(n,{to:"/cart",onClick:s.toggleMobileNav,class:"mobile-menu-item"},{default:Object(c["O"])(()=>[t[31]||(t[31]=Object(c["i"])("span",{class:"material-symbols-rounded"},"shopping_cart",-1)),t[32]||(t[32]=Object(c["k"])(" Cart ")),s.cart.state.items.length?(Object(c["x"])(),Object(c["h"])("span",H,Object(c["H"])(s.cart.state.items.length),1)):Object(c["g"])("",!0)]),_:1},8,["onClick"])]),s.isLoggedIn?(Object(c["x"])(),Object(c["h"])(c["a"],{key:0},[Object(c["i"])("div",I,[t[38]||(t[38]=Object(c["i"])("div",{class:"section-title"},"My Account",-1)),Object(c["l"])(n,{to:"/my-collection",onClick:s.toggleMobileNav,class:"mobile-menu-item"},{default:Object(c["O"])(()=>t[33]||(t[33]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"collections_bookmark",-1),Object(c["k"])(" My Collection ")])),_:1},8,["onClick"]),Object(c["l"])(n,{to:"/wishlist",onClick:s.toggleMobileNav,class:"mobile-menu-item"},{default:Object(c["O"])(()=>t[34]||(t[34]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"favorite",-1),Object(c["k"])(" Wishlist ")])),_:1},8,["onClick"]),Object(c["l"])(n,{to:"/profile",onClick:s.toggleMobileNav,class:"mobile-menu-item"},{default:Object(c["O"])(()=>t[35]||(t[35]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"person",-1),Object(c["k"])(" Profile ")])),_:1},8,["onClick"]),Object(c["l"])(n,{to:"/orders",onClick:s.toggleMobileNav,class:"mobile-menu-item"},{default:Object(c["O"])(()=>t[36]||(t[36]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"receipt_long",-1),Object(c["k"])(" Orders ")])),_:1},8,["onClick"]),s.isAdmin?(Object(c["x"])(),Object(c["f"])(n,{key:0,to:"/admin",onClick:s.toggleMobileNav,class:"mobile-menu-item"},{default:Object(c["O"])(()=>t[37]||(t[37]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"admin_panel_settings",-1),Object(c["k"])(" Admin Panel ")])),_:1},8,["onClick"])):Object(c["g"])("",!0)]),Object(c["i"])("div",D,[Object(c["i"])("button",{onClick:t[7]||(t[7]=(...e)=>s.handleSignOut&&s.handleSignOut(...e)),class:"mobile-menu-item sign-out"},t[39]||(t[39]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"logout",-1),Object(c["k"])(" Sign Out ")]))])],64)):(Object(c["x"])(),Object(c["h"])("div",U,[Object(c["l"])(n,{to:"/login",onClick:s.toggleMobileNav,class:"auth-button primary"},{default:Object(c["O"])(()=>t[40]||(t[40]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"login",-1),Object(c["k"])(" Sign In ")])),_:1},8,["onClick"]),Object(c["l"])(n,{to:"/register",onClick:s.toggleMobileNav,class:"auth-button secondary"},{default:Object(c["O"])(()=>t[41]||(t[41]=[Object(c["k"])(" Register ")])),_:1},8,["onClick"])]))])])):Object(c["g"])("",!0)]),_:1}),Object(c["l"])(c["b"],{name:"fade"},{default:Object(c["O"])(()=>[s.showMobileNav?(Object(c["x"])(),Object(c["h"])("div",{key:0,class:"mobile-menu-overlay",onClick:t[8]||(t[8]=(...e)=>s.toggleMobileNav&&s.toggleMobileNav(...e))})):Object(c["g"])("",!0)]),_:1})])}var N=a("889e"),F=a("8c2f");const q={class:"cart-header"},R={key:0,class:"empty-cart"},E={key:1,class:"cart-items"},L=["src","alt"],V={class:"item-details"},W={class:"item-price"},B={class:"quantity-controls"},$=["onClick"],z=["onClick"],Q=["onClick"],J={key:2,class:"cart-footer"},G={class:"subtotal"};function K(e,t,a,s,i,l){return e.show?(Object(c["x"])(),Object(c["h"])("div",{key:0,class:"cart-overlay",onClick:t[3]||(t[3]=t=>e.$emit("close"))},[Object(c["i"])("div",{class:"cart-slideover",onClick:t[2]||(t[2]=Object(c["R"])(()=>{},["stop"]))},[Object(c["i"])("div",q,[t[5]||(t[5]=Object(c["i"])("h2",null,"Shopping Cart",-1)),Object(c["i"])("button",{class:"close-button",onClick:t[0]||(t[0]=t=>e.$emit("close"))},t[4]||(t[4]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1)]))]),e.cart.items.length?(Object(c["x"])(),Object(c["h"])("div",E,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(e.cart.items,a=>(Object(c["x"])(),Object(c["h"])("div",{key:a.id,class:"cart-item"},[Object(c["i"])("img",{src:a.image_url,alt:a.name},null,8,L),Object(c["i"])("div",V,[Object(c["i"])("h3",null,Object(c["H"])(a.name),1),Object(c["i"])("div",W,"$"+Object(c["H"])(a.price),1),Object(c["i"])("div",B,[Object(c["i"])("button",{onClick:t=>e.decrementQuantity(a)},"-",8,$),Object(c["i"])("span",null,Object(c["H"])(a.quantity),1),Object(c["i"])("button",{onClick:t=>e.incrementQuantity(a)},"+",8,z)])]),Object(c["i"])("button",{class:"remove-item",onClick:t=>e.removeItem(a)},t[7]||(t[7]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"delete",-1)]),8,Q)]))),128))])):(Object(c["x"])(),Object(c["h"])("div",R,t[6]||(t[6]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"shopping_cart",-1),Object(c["i"])("p",null,"Your cart is empty",-1)]))),e.cart.items.length?(Object(c["x"])(),Object(c["h"])("div",J,[Object(c["i"])("div",G,[t[8]||(t[8]=Object(c["i"])("span",null,"Subtotal",-1)),Object(c["i"])("strong",null,"$"+Object(c["H"])(e.cart.total.toFixed(2)),1)]),Object(c["i"])("button",{class:"checkout-button",onClick:t[1]||(t[1]=(...t)=>e.checkout&&e.checkout(...t))},t[9]||(t[9]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"payments",-1),Object(c["k"])(" Checkout ")]))])):Object(c["g"])("",!0)])])):Object(c["g"])("",!0)}var Z=a("4c16"),X=a("79a7"),Y=Object(c["m"])({name:"CartSlideOver",props:{show:Boolean},setup(){async function e(){try{const{data:e,error:t}=await X["a"].functions.invoke("create-checkout-session",{body:{items:F["a"].items}});if(t)throw t;const a=await Object(Z["a"])("pk_test_51QrkgR4CfmNPourcrOX3w5QB0d3oS76LrpMWcaGU8lnsj7mAc8SlPE3rEDZm8HLpezTqlTvAOwR2QOkl4xFTMAwu00SfIVQ1iY");await a.redirectToCheckout({sessionId:e.id})}catch(e){console.error("Checkout error:",e),alert("Failed to initiate checkout")}}function t(e){F["a"].updateQuantity(e.id,e.quantity+1)}function a(e){e.quantity>1&&F["a"].updateQuantity(e.id,e.quantity-1)}function c(e){F["a"].removeItem(e.id)}return{cart:F["a"],checkout:e,incrementQuantity:t,decrementQuantity:a,removeItem:c}}}),ee=(a("3e12"),a("6b0d")),te=a.n(ee);const ae=te()(Y,[["render",K],["__scopeId","data-v-48223bb6"]]);var ce=ae,se=a("6605");const ie=Object(c["z"])({notifications:[],show:!1}),le={state:ie,notify(e,t="info",a=5e3,c=Date.now()){const s={id:c,message:e,type:t,timestamp:new Date,read:!1},i=this.state.notifications.findIndex(e=>e.id===c);return-1!==i?this.state.notifications[i]=s:this.state.notifications.push(s),"success"===t&&a&&setTimeout(()=>{this.remove(c)},a),c},success(e,t){return this.notify(e,"success",t)},error(e,t){return this.notify(e,"error",t)},warning(e,t){return this.notify(e,"warning",t)},info(e,t){return this.notify(e,"info",t)},async markAsRead(e){const t=this.state.notifications.find(t=>t.id===e);t&&(t.read=!0,"string"===typeof e&&await X["a"].from("notifications").update({read:!0}).eq("id",e))},async markAllAsRead(){this.state.notifications.forEach(e=>e.read=!0),await X["a"].from("notifications").update({read:!0}).eq("read",!1)},async loadUserNotifications(){const{data:{user:e}}=await X["a"].auth.getUser();if(!e)return;const{data:t,error:a}=await X["a"].from("notifications").select("*").or(`recipient_id.eq.${e.id},recipient_id.is.null`).order("created_at",{ascending:!1});!a&&t&&t.forEach(e=>{this.notify(e.message,e.type,null,e.id)})},remove(e){const t=this.state.notifications.findIndex(t=>t.id===e);-1!==t&&this.state.notifications.splice(t,1)},clear(){this.state.notifications=[]},async sendToAll({message:e,type:t="info",duration:a=5e3}){try{const{data:{user:c}}=await X["a"].auth.getUser(),{error:s}=await X["a"].from("notifications").insert({message:e,type:t,sender_id:c.id,recipient_id:null,duration:a});if(s)throw s}catch(c){throw console.error("Error sending notification:",c),c}},async sendToUsers({userIds:e,message:t,type:a="info",duration:c=5e3}){try{const{data:{user:s}}=await X["a"].auth.getUser(),i=e.map(e=>({message:t,type:a,sender_id:s.id,recipient_id:e,duration:c})),{error:l}=await X["a"].from("notifications").insert(i);if(l)throw l}catch(s){throw console.error("Error sending notifications:",s),s}},subscribeToNotifications(e){return X["a"].channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:"recipient_id=is.null OR recipient_id=eq."+e},e=>{this.notify(e.new.message,e.new.type,e.new.duration)}).subscribe()}};var ne=le,re={name:"AppHeader",components:{CartSlideOver:ce},setup(){const e=Object(c["A"])(!1),t=Object(c["d"])(()=>!!N["a"].state.session),a=Object(c["d"])(()=>{if(!N["a"].state.user)return"";const e=N["a"].state.profile;return e&&e.first_name&&e.last_name?`${e.first_name} ${e.last_name}`:N["a"].state.user.email}),s=Object(c["d"])(()=>N["a"].state.isAdmin),i=Object(c["d"])(()=>N["a"].state.isAdmin?"admin":"user"),l=()=>{e.value=!e.value},n=async()=>{await N["a"].signOut(),e.value=!1};Object(se["d"])();Object(c["N"])(()=>F["a"].state.items.length,(e,t)=>{if(e>t){const e=document.querySelector(".cart-badge");e&&(e.classList.add("pulse"),setTimeout(()=>e.classList.remove("pulse"),300))}});const r=Object(c["d"])(()=>ne.state.notifications.length),o=Object(c["A"])(!1),d=Object(c["d"])(()=>ne.state.notifications),b=()=>{o.value=!o.value},u=e=>{ne.remove(e)},O=()=>{ne.clear()},j=e=>{const t={success:"check_circle",error:"error",warning:"warning",info:"info"};return t[e]||"notifications"},m=e=>new Date(e).toLocaleTimeString();Object(c["v"])(()=>{document.addEventListener("click",e=>{e.target.closest(".notification-menu")||(o.value=!1)})});const p=Object(c["A"])(!1),h=()=>{p.value=!p.value},v=Object(c["A"])(!1),g=()=>{v.value=window.innerWidth<=768};return Object(c["v"])(()=>{g(),window.addEventListener("resize",g)}),{isLoggedIn:t,showUserMenu:e,toggleUserMenu:l,handleSignOut:n,userDisplayName:a,isAdmin:s,userRole:i,cart:F["a"],unreadNotifications:r,toggleNotifications:b,showNotifications:o,notifications:d,dismissNotification:u,clearNotifications:O,getNotificationIcon:j,formatTime:m,showMobileNav:p,toggleMobileNav:h,isMobile:v}}};a("463e");const oe=te()(re,[["render",T],["__scopeId","data-v-112668ea"]]);var de=oe;const be={class:"notification-center"},ue=["onClick"],Oe={class:"icon material-symbols-rounded"},je={class:"content"},me={class:"timestamp"},pe=["onClick"];function he(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",be,[Object(c["l"])(c["c"],{name:"notification",tag:"div",class:"notifications-container"},{default:Object(c["O"])(()=>[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.notifications,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:Object(c["r"])(["notification",e.type,{unread:!e.read}]),onClick:t=>s.markAsRead(e.id)},[Object(c["i"])("span",Oe,Object(c["H"])(s.getIcon(e.type)),1),Object(c["i"])("div",je,[Object(c["i"])("p",null,Object(c["H"])(e.message),1),Object(c["i"])("span",me,Object(c["H"])(s.formatTime(e.timestamp)),1)]),Object(c["i"])("button",{class:"close-button",onClick:Object(c["R"])(t=>s.dismiss(e.id),["stop"])},t[0]||(t[0]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1)]),8,pe)],10,ue))),128))]),_:1})])}var ve={name:"NotificationCenter",setup(){const e=Object(c["d"])(()=>ne.state.notifications),t=e=>{const t={success:"check_circle",error:"error",warning:"warning",info:"info"};return t[e]||"notifications"},a=e=>new Date(e).toLocaleTimeString(),s=e=>{ne.remove(e)},i=async e=>{await ne.markAsRead(e)};return Object(c["v"])(()=>{ne.loadUserNotifications()}),{notifications:e,getIcon:t,formatTime:a,dismiss:s,markAsRead:i}}};a("a087");const ge=te()(ve,[["render",he],["__scopeId","data-v-0296b84d"]]);var fe=ge,ye={name:"App",components:{AppHeader:de,NotificationCenter:fe},setup(){return{auth:N["a"]}}};a("dd72");const ke=te()(ye,[["render",n]]);var we=ke;const Ce={class:"home"},_e={class:"widgets-grid"},Se={class:"widget-grid"},xe={class:"widget highlight-widget"},Ae={key:0,class:"card-preview"},Me=["src","alt"],Pe={class:"card-info"},He={class:"price"},Ie={class:"widget"},De={class:"trend-list"},Ue={class:"trend-name"},Te={class:"widget"},Ne={class:"news-list"},Fe={class:"news-date"},qe={class:"widget"},Re={class:"value-list"},Ee={key:0,class:"cta-section"},Le={class:"cta-content"},Ve={class:"cta-buttons"};function We(e,t,a,s,i,l){const n=Object(c["D"])("MarketWidget"),r=Object(c["D"])("TrendingCardsWidget"),o=Object(c["D"])("router-link");return Object(c["x"])(),Object(c["h"])("div",Ce,[t[12]||(t[12]=Object(c["i"])("header",{class:"page-header"},[Object(c["i"])("div",{class:"header-content"},[Object(c["i"])("h1",null,"Welcome back!"),Object(c["i"])("p",{class:"subtitle"},"Track your Pokémon card collection and market trends")])],-1)),Object(c["i"])("div",_e,[Object(c["l"])(n,{class:"widget"}),Object(c["l"])(r,{class:"widget"})]),Object(c["i"])("div",Se,[Object(c["i"])("div",xe,[t[0]||(t[0]=Object(c["i"])("span",{class:"material-symbols-rounded widget-icon"},"diamond",-1)),t[1]||(t[1]=Object(c["i"])("h2",null,"Most Expensive Card",-1)),i.mostExpensiveCard?(Object(c["x"])(),Object(c["h"])("div",Ae,[Object(c["i"])("img",{src:i.mostExpensiveCard.imageUrl,alt:i.mostExpensiveCard.name},null,8,Me),Object(c["i"])("div",Pe,[Object(c["i"])("h3",null,Object(c["H"])(i.mostExpensiveCard.name),1),Object(c["i"])("p",He,"$"+Object(c["H"])(i.mostExpensiveCard.price),1)])])):Object(c["g"])("",!0)]),Object(c["i"])("div",Ie,[t[2]||(t[2]=Object(c["i"])("span",{class:"material-symbols-rounded widget-icon"},"trending_up",-1)),t[3]||(t[3]=Object(c["i"])("h2",null,"Market Trends",-1)),Object(c["i"])("ul",De,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(i.trends,e=>(Object(c["x"])(),Object(c["h"])("li",{key:e.id},[Object(c["i"])("span",Ue,Object(c["H"])(e.name),1),Object(c["i"])("span",{class:Object(c["r"])(["trend-change",e.direction])},Object(c["H"])(e.change)+"% ",3)]))),128))])]),Object(c["i"])("div",Te,[t[4]||(t[4]=Object(c["i"])("span",{class:"material-symbols-rounded widget-icon"},"newspaper",-1)),t[5]||(t[5]=Object(c["i"])("h2",null,"Latest News",-1)),Object(c["i"])("div",Ne,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(i.news,e=>(Object(c["x"])(),Object(c["h"])("article",{key:e.id,class:"news-item"},[Object(c["i"])("h4",null,Object(c["H"])(e.title),1),Object(c["i"])("p",null,Object(c["H"])(e.excerpt),1),Object(c["i"])("span",Fe,Object(c["H"])(e.date),1)]))),128))])]),Object(c["i"])("div",qe,[t[6]||(t[6]=Object(c["i"])("span",{class:"material-symbols-rounded widget-icon"},"star",-1)),t[7]||(t[7]=Object(c["i"])("h2",null,"Top Valued Cards",-1)),Object(c["i"])("ol",Re,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(i.topValuedCards,e=>(Object(c["x"])(),Object(c["h"])("li",{key:e.id},Object(c["H"])(e.name)+" - $"+Object(c["H"])(e.price),1))),128))])])]),l.isLoggedIn?Object(c["g"])("",!0):(Object(c["x"])(),Object(c["h"])("div",Ee,[Object(c["i"])("div",Le,[t[10]||(t[10]=Object(c["i"])("h2",null,"Want to track your collection?",-1)),t[11]||(t[11]=Object(c["i"])("p",null,"Create a free account to manage your Pokémon card collection and wishlist.",-1)),Object(c["i"])("div",Ve,[Object(c["l"])(o,{to:"/register",class:"cta-button primary"},{default:Object(c["O"])(()=>t[8]||(t[8]=[Object(c["k"])(" Create Account ")])),_:1}),Object(c["l"])(o,{to:"/login",class:"cta-button secondary"},{default:Object(c["O"])(()=>t[9]||(t[9]=[Object(c["k"])(" Sign In ")])),_:1})])])]))])}const Be={class:"collection-wrapper"},$e={class:"collection"},ze={class:"collection-header"},Qe={class:"header-content"},Je={class:"subtitle"},Ge={class:"filter-section"},Ke={class:"search-wrapper"},Ze={class:"search-bar"},Xe={class:"controls"},Ye={class:"view-toggle"},et={key:0,class:"search-filters"},tt={class:"filter-chip"},at={class:"filter-chip"},ct={class:"filter-chip"},st={key:0,class:"loading-overlay"},it={key:1},lt={key:0,class:"card-actions"},nt=["onClick","title"],rt={class:"material-symbols-rounded"},ot=["onClick","title"],dt={class:"material-symbols-rounded"},bt=["src","alt","onClick"],ut={class:"card-details"},Ot={class:"card-meta"},jt={class:"card-set"},mt={key:0,class:"card-rarity"},pt={key:0,class:"card-price"},ht={key:0,class:"load-more"},vt={key:1,class:"no-results"};function gt(e,t,a,s,i,l){const n=Object(c["D"])("SetFilter"),r=Object(c["D"])("CardDetailsModal"),o=Object(c["E"])("intersect");return Object(c["x"])(),Object(c["h"])("div",Be,[Object(c["i"])("div",$e,[Object(c["i"])("div",ze,[Object(c["i"])("div",Qe,[t[12]||(t[12]=Object(c["i"])("h1",null,"Browse Pokémon Cards",-1)),Object(c["i"])("p",Je,Object(c["H"])(i.totalCards)+" cards available",1)]),Object(c["i"])("div",Ge,[Object(c["i"])("div",Ke,[Object(c["i"])("div",Ze,[t[14]||(t[14]=Object(c["i"])("span",{class:"material-symbols-rounded search-icon"},"search",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.searchQuery=e),placeholder:"Search by name, type, or rarity...",type:"text",onFocus:t[1]||(t[1]=e=>i.searchActive=!0),onBlur:t[2]||(t[2]=e=>i.searchActive=!1)},null,544),[[c["M"],i.searchQuery]]),i.searchQuery?(Object(c["x"])(),Object(c["h"])("button",{key:0,class:"clear-button",onClick:t[3]||(t[3]=(...e)=>l.clearSearch&&l.clearSearch(...e))},t[13]||(t[13]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1)]))):Object(c["g"])("",!0)]),Object(c["i"])("div",Xe,[Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>i.sortBy=e),class:"sort-select"},t[15]||(t[15]=[Object(c["j"])('<option value="name" data-v-27186d76>Name (A-Z)</option><option value="-name" data-v-27186d76>Name (Z-A)</option><option value="-cardmarket.prices.averageSellPrice" data-v-27186d76>Price (High to Low)</option><option value="cardmarket.prices.averageSellPrice" data-v-27186d76>Price (Low to High)</option><option value="-set.releaseDate" data-v-27186d76>Newest First</option><option value="set.releaseDate" data-v-27186d76>Oldest First</option>',6)]),512),[[c["L"],i.sortBy]]),Object(c["i"])("div",Ye,[Object(c["i"])("button",{class:Object(c["r"])(["view-button",{active:"grid"===i.viewMode}]),onClick:t[5]||(t[5]=e=>l.setViewMode("grid")),title:"Grid View"},t[16]||(t[16]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"grid_view",-1)]),2),Object(c["i"])("button",{class:Object(c["r"])(["view-button",{active:"list"===i.viewMode}]),onClick:t[6]||(t[6]=e=>l.setViewMode("list")),title:"List View"},t[17]||(t[17]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"view_list",-1)]),2)])])]),i.searchActive||i.searchQuery?(Object(c["x"])(),Object(c["h"])("div",et,[Object(c["i"])("label",tt,[Object(c["P"])(Object(c["i"])("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=e=>i.searchInNames=e)},null,512),[[c["J"],i.searchInNames]]),t[18]||(t[18]=Object(c["i"])("span",{class:"material-symbols-rounded"},"label",-1)),t[19]||(t[19]=Object(c["k"])(" Names "))]),Object(c["i"])("label",at,[Object(c["P"])(Object(c["i"])("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=e=>i.searchInTypes=e)},null,512),[[c["J"],i.searchInTypes]]),t[20]||(t[20]=Object(c["i"])("span",{class:"material-symbols-rounded"},"bolt",-1)),t[21]||(t[21]=Object(c["k"])(" Types "))]),Object(c["i"])("label",ct,[Object(c["P"])(Object(c["i"])("input",{type:"checkbox","onUpdate:modelValue":t[9]||(t[9]=e=>i.searchInRarity=e)},null,512),[[c["J"],i.searchInRarity]]),t[22]||(t[22]=Object(c["i"])("span",{class:"material-symbols-rounded"},"diamond",-1)),t[23]||(t[23]=Object(c["k"])(" Rarity "))])])):Object(c["g"])("",!0)])]),Object(c["l"])(n,{sets:i.sets,selectedSet:i.selectedSet,onSelect:l.selectSet,onClear:l.clearSetFilter},null,8,["sets","selectedSet","onSelect","onClear"]),Object(c["l"])(c["b"],{name:"fade",mode:"out-in"},{default:Object(c["O"])(()=>[i.loading?(Object(c["x"])(),Object(c["h"])("div",st,t[24]||(t[24]=[Object(c["i"])("div",{class:"loading-content"},[Object(c["i"])("div",{class:"loading-spinner"}),Object(c["i"])("p",null,"Loading Pokémon Cards...")],-1)]))):(Object(c["x"])(),Object(c["h"])("div",it,[Object(c["l"])(c["c"],{name:i.viewMode,tag:"div",class:Object(c["r"])(["cards-container",i.viewMode])},{default:Object(c["O"])(()=>[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(l.displayedCards,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:Object(c["r"])(["card-item",{"list-view":"list"===i.viewMode}])},[i.auth.state.session?(Object(c["x"])(),Object(c["h"])("div",lt,[Object(c["i"])("button",{class:Object(c["r"])(["action-button",{active:l.isInCollection(e.id)}]),onClick:Object(c["R"])(t=>l.toggleCollection(e),["stop"]),title:l.isInCollection(e.id)?"Remove from Collection":"Add to Collection"},[Object(c["i"])("span",rt,Object(c["H"])(l.isInCollection(e.id)?"library_add_check":"library_add"),1)],10,nt),Object(c["i"])("button",{class:Object(c["r"])(["action-button",{active:l.isInWishlist(e.id)}]),onClick:Object(c["R"])(t=>l.toggleWishlist(e),["stop"]),title:l.isInWishlist(e.id)?"Remove from Wishlist":"Add to Wishlist"},[Object(c["i"])("span",dt,Object(c["H"])(l.isInWishlist(e.id)?"favorite":"favorite_border"),1)],10,ot)])):Object(c["g"])("",!0),Object(c["i"])("img",{src:e.imageUrl||e.images.small,alt:e.name,loading:"lazy",onClick:t=>l.openCardModal(e)},null,8,bt),Object(c["i"])("div",ut,[Object(c["i"])("h3",null,Object(c["H"])(e.name),1),Object(c["i"])("div",Ot,[Object(c["i"])("span",jt,Object(c["H"])(e.set.name),1),e.rarity?(Object(c["x"])(),Object(c["h"])("span",mt,Object(c["H"])(e.rarity),1)):Object(c["g"])("",!0)]),"N/A"!==e.price?(Object(c["x"])(),Object(c["h"])("div",pt," €"+Object(c["H"])(e.price.toFixed(2)),1)):Object(c["g"])("",!0)])],2))),128))]),_:1},8,["name","class"]),i.hasMore?Object(c["P"])((Object(c["x"])(),Object(c["h"])("div",ht,t[25]||(t[25]=[Object(c["i"])("div",{class:"loading-spinner small"},null,-1),Object(c["k"])(" Loading more cards... ")]))),[[o,l.loadMore]]):0===l.displayedCards.length?(Object(c["x"])(),Object(c["h"])("div",vt,[t[26]||(t[26]=Object(c["i"])("span",{class:"material-symbols-rounded"},"search_off",-1)),t[27]||(t[27]=Object(c["i"])("p",null,"No cards found matching your criteria",-1)),Object(c["i"])("button",{onClick:t[10]||(t[10]=(...e)=>l.resetFilters&&l.resetFilters(...e)),class:"reset-button"},"Reset Filters")])):Object(c["g"])("",!0)]))]),_:1}),i.selectedCard?(Object(c["x"])(),Object(c["f"])(r,{key:0,card:i.selectedCard,onClose:t[11]||(t[11]=e=>i.selectedCard=null)},null,8,["card"])):Object(c["g"])("",!0)])])}const ft={class:"card-image-container"},yt=["src","alt"],kt={key:0,class:"image-placeholder"},wt={class:"card-details"},Ct={class:"card-name"},_t={class:"card-type"},St={class:"card-rarity"},xt={class:"card-price"};function At(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",{class:"card",onClick:t[1]||(t[1]=t=>e.$emit("card-selected",a.card))},[Object(c["i"])("div",ft,[Object(c["i"])("img",{src:s.imageUrl,alt:a.card.name,class:"card-image",onError:t[0]||(t[0]=(...e)=>s.handleImageError&&s.handleImageError(...e)),ref:"cardImage"},null,40,yt),i.hasValidImage?Object(c["g"])("",!0):(Object(c["x"])(),Object(c["h"])("div",kt,t[2]||(t[2]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"broken_image",-1),Object(c["i"])("span",null,"No image available",-1)])))]),Object(c["i"])("div",wt,[Object(c["i"])("h3",Ct,Object(c["H"])(a.card.name),1),Object(c["i"])("p",_t,Object(c["H"])(a.card.type),1),Object(c["i"])("p",St,Object(c["H"])(a.card.rarity),1),Object(c["i"])("p",xt,Object(c["H"])(l.formatPrice(a.card.price)),1)])])}var Mt=a("b7f1"),Pt={name:"Card",props:{card:{type:Object,required:!0}},data(){return{hasValidImage:!0}},setup(e){const t=computed(()=>Object(Mt["a"])(e.card.imageUrl));return{imageUrl:t,handleImageError:Mt["b"]}},methods:{handleClick(){this.$emit("card-selected",this.card)},formatPrice(e){return"N/A"===e?"N/A":"$"+Number(e).toFixed(2)}}};a("e069");const Ht=te()(Pt,[["render",At],["__scopeId","data-v-538121a9"]]);var It=Ht,Dt=a("2064");const Ut={class:"set-filter"},Tt={class:"set-grid",ref:"setGrid"},Nt={class:"set-content"},Ft={class:"set-info"},qt={class:"set-date"},Rt=["onClick"],Et={class:"set-content"},Lt={class:"set-icon"},Vt=["src","alt"],Wt={key:1,class:"material-symbols-rounded"},Bt={class:"set-info"},$t={class:"set-name"},zt={class:"set-date"};function Qt(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",Ut,[Object(c["i"])("div",{class:Object(c["r"])(["set-list",{expanded:i.isExpanded}])},[Object(c["i"])("div",Tt,[Object(c["i"])("button",{class:Object(c["r"])(["set-button all-sets",{active:!a.selectedSet}]),onClick:t[0]||(t[0]=t=>e.$emit("clear"))},[Object(c["i"])("div",Nt,[t[3]||(t[3]=Object(c["i"])("div",{class:"set-icon"},[Object(c["i"])("span",{class:"material-symbols-rounded"},"category")],-1)),Object(c["i"])("div",Ft,[t[2]||(t[2]=Object(c["i"])("span",{class:"set-name"},"All Sets",-1)),Object(c["i"])("span",qt,Object(c["H"])(a.sets.length)+" sets available",1)])])],2),(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(l.displayedSets,e=>(Object(c["x"])(),Object(c["h"])("button",{key:e.id,class:Object(c["r"])(["set-button",{active:a.selectedSet===e.id}]),onClick:t=>l.selectSet(e.id)},[Object(c["i"])("div",Et,[Object(c["i"])("div",Lt,[l.hasLogo(e)?(Object(c["x"])(),Object(c["h"])("img",{key:0,src:e.images.logo,alt:e.name,class:"set-logo",loading:"lazy"},null,8,Vt)):(Object(c["x"])(),Object(c["h"])("span",Wt,"style"))]),Object(c["i"])("div",Bt,[Object(c["i"])("span",$t,Object(c["H"])(e.name),1),Object(c["i"])("span",zt,Object(c["H"])(l.formatDate(e.releaseDate)),1)]),t[4]||(t[4]=Object(c["i"])("div",{class:"selection-highlight"},null,-1))])],10,Rt))),128))],512)],2),l.canLoadMore?(Object(c["x"])(),Object(c["h"])("button",{key:0,class:"load-more-button",onClick:t[1]||(t[1]=(...e)=>l.loadMoreSets&&l.loadMoreSets(...e))},[t[5]||(t[5]=Object(c["i"])("span",{class:"material-symbols-rounded"},"add_circle",-1)),Object(c["k"])(" Load More Sets ("+Object(c["H"])(l.remainingSets)+" remaining) ",1)])):Object(c["g"])("",!0)])}var Jt={name:"SetFilter",props:{sets:{type:Array,default:()=>[]},selectedSet:{type:String,default:null}},data(){return{displayCount:4,increment:10,isExpanded:!1,defaultVisibleCount:10,canScrollUp:!1,canScrollDown:!1}},computed:{displayedSets(){return this.sets.slice(0,this.displayCount)},canLoadMore(){return this.displayCount<this.sets.length},remainingSets(){return this.sets.length-this.displayCount},visibleSets(){return this.isExpanded?this.sets:this.sets.slice(0,this.defaultVisibleCount)}},methods:{hasLogo(e){return e.images&&e.images.logo},toggleExpand(){this.isExpanded=!this.isExpanded},formatDate(e){return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short"}):""},selectSet(e){this.$emit("select",e),this.$nextTick(()=>{const e=this.$refs.setGrid.querySelector(".set-button.active");e&&e.scrollIntoView({behavior:"smooth",block:"nearest"})})},checkScroll(){const e=this.$refs.setGrid;e&&(this.canScrollUp=e.scrollTop>0,this.canScrollDown=e.scrollTop<e.scrollHeight-e.clientHeight)},loadMoreSets(){this.displayCount=Math.min(this.displayCount+this.increment,this.sets.length)}},mounted(){const e=this.$refs.setGrid;e&&(e.addEventListener("scroll",this.checkScroll),this.checkScroll())},beforeUnmount(){const e=this.$refs.setGrid;e&&e.removeEventListener("scroll",this.checkScroll)}};a("8fb5");const Gt=te()(Jt,[["render",Qt],["__scopeId","data-v-eefeb482"]]);var Kt=Gt;const Zt={class:"card-showcase"},Xt={class:"card-image"},Yt=["src","alt"],ea={class:"card-info"},ta={class:"info-header"},aa={class:"set-info"},ca=["src","alt"],sa=["src","alt"],ia={class:"details-grid"},la={class:"detail-item"},na={class:"value"},ra={class:"detail-item"},oa={class:"value"},da={class:"detail-item"},ba={class:"value"},ua={class:"detail-item"},Oa={class:"value price"},ja={key:0,class:"card-description"},ma={key:1,class:"action-buttons"},pa={class:"material-symbols-rounded"},ha={class:"material-symbols-rounded"};function va(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",{class:"modal-overlay",onClick:t[5]||(t[5]=t=>e.$emit("close"))},[Object(c["i"])("div",{class:"modal-content",onClick:t[4]||(t[4]=Object(c["R"])(()=>{},["stop"]))},[Object(c["i"])("button",{class:"close-button",onClick:t[0]||(t[0]=t=>e.$emit("close"))},t[6]||(t[6]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1)])),Object(c["i"])("div",Zt,[Object(c["i"])("div",Xt,[Object(c["i"])("img",{src:a.card.imageUrl||a.card.images.large||a.card.images.small,alt:a.card.name},null,8,Yt)]),Object(c["i"])("div",ea,[Object(c["i"])("div",ta,[Object(c["i"])("div",null,[Object(c["i"])("h2",null,Object(c["H"])(a.card.name),1),Object(c["i"])("div",aa,[a.card.set.images&&a.card.set.images.symbol?(Object(c["x"])(),Object(c["h"])("img",{key:0,src:a.card.set.images.symbol,alt:a.card.set.name,class:"set-symbol"},null,8,ca)):Object(c["g"])("",!0),Object(c["i"])("span",null,Object(c["H"])(a.card.set.name),1)])]),a.card.set.images&&a.card.set.images.logo?(Object(c["x"])(),Object(c["h"])("img",{key:0,src:a.card.set.images.logo,alt:a.card.set.name,class:"set-logo"},null,8,sa)):Object(c["g"])("",!0)]),Object(c["i"])("div",ia,[Object(c["i"])("div",la,[t[7]||(t[7]=Object(c["i"])("span",{class:"label"},"Rarity",-1)),Object(c["i"])("span",na,Object(c["H"])(a.card.rarity||"Unknown"),1)]),Object(c["i"])("div",ra,[t[8]||(t[8]=Object(c["i"])("span",{class:"label"},"Card Number",-1)),Object(c["i"])("span",oa,Object(c["H"])(a.card.number||"N/A")+"/"+Object(c["H"])(a.card.set.total),1)]),Object(c["i"])("div",da,[t[9]||(t[9]=Object(c["i"])("span",{class:"label"},"Release Date",-1)),Object(c["i"])("span",ba,Object(c["H"])(l.formatDate(a.card.set.releaseDate)),1)]),Object(c["i"])("div",ua,[t[10]||(t[10]=Object(c["i"])("span",{class:"label"},"Market Price",-1)),Object(c["i"])("span",Oa,Object(c["H"])(l.formatPrice(a.card.price)),1)])]),a.card.flavorText?(Object(c["x"])(),Object(c["h"])("div",ja,[Object(c["i"])("p",null,Object(c["H"])(a.card.flavorText),1)])):Object(c["g"])("",!0),s.auth.state.session?(Object(c["x"])(),Object(c["h"])("div",ma,[s.storeProduct?(Object(c["x"])(),Object(c["h"])("button",{key:0,class:"action-btn store",onClick:t[1]||(t[1]=(...e)=>s.goToStore&&s.goToStore(...e))},[t[11]||(t[11]=Object(c["i"])("span",{class:"material-symbols-rounded"},"shopping_cart",-1)),Object(c["k"])(" Buy in Store - €"+Object(c["H"])(s.storeProduct.price.toFixed(2)),1)])):Object(c["g"])("",!0),Object(c["i"])("button",{class:Object(c["r"])(["action-btn collection",{active:s.isInCollection}]),onClick:t[2]||(t[2]=(...e)=>s.toggleCollection&&s.toggleCollection(...e))},[Object(c["i"])("span",pa,Object(c["H"])(s.isInCollection?"library_add_check":"library_add"),1),Object(c["k"])(" "+Object(c["H"])(s.isInCollection?"In Collection":"Add to Collection"),1)],2),Object(c["i"])("button",{class:Object(c["r"])(["action-btn wishlist",{active:s.isInWishlist}]),onClick:t[3]||(t[3]=(...e)=>s.toggleWishlist&&s.toggleWishlist(...e))},[Object(c["i"])("span",ha,Object(c["H"])(s.isInWishlist?"favorite":"favorite_border"),1),Object(c["k"])(" "+Object(c["H"])(s.isInWishlist?"In Wishlist":"Add to Wishlist"),1)],2)])):Object(c["g"])("",!0)])])])])}const ga=Object(c["z"])({cards:[],loading:!1,error:null,filters:{page:1,query:"",orderBy:"name"},totalCards:0,myCollection:[],wishlist:[]});var fa={state:ga,async loadCards(e={}){ga.loading=!0,ga.error=null;try{const t=await pokemonApi.getCards({...ga.filters,...e});ga.cards=t.data,ga.totalCards=t.totalCount,ga.filters={...ga.filters,...e}}catch(t){ga.error=t.message}finally{ga.loading=!1}},setFilter(e,t){ga.filters[e]=t},async initializeUserData(){if(N["a"].state.user)try{ga.loading=!0;const{data:e}=await X["a"].from("collections").select("*").eq("user_id",N["a"].state.user.id);ga.myCollection=e?e.map(e=>e.card_data):[];const{data:t}=await X["a"].from("wishlists").select("*").eq("user_id",N["a"].state.user.id);ga.wishlist=t?t.map(e=>e.card_data):[]}catch(e){ga.error=e.message}finally{ga.loading=!1}},async addToCollection(e){if(N["a"].state.user&&!this.isInCollection(e.id))try{const t={...e,price:e.cardmarket&&e.cardmarket.prices&&e.cardmarket.prices.averageSellPrice||"N/A",added_at:(new Date).toISOString()},{error:a}=await X["a"].from("collections").insert({user_id:N["a"].state.user.id,card_id:e.id,card_data:t});if(a)throw a;ga.myCollection.push(t)}catch(t){ga.error=t.message}},async removeFromCollection(e){if(N["a"].state.user)try{const{error:t}=await X["a"].from("collections").delete().eq("user_id",N["a"].state.user.id).eq("card_id",e);if(t)throw t;ga.myCollection=ga.myCollection.filter(t=>t.id!==e)}catch(t){ga.error=t.message}},async addToWishlist(e){if(N["a"].state.user&&!this.isInWishlist(e.id))try{const{error:t}=await X["a"].from("wishlists").insert({user_id:N["a"].state.user.id,card_id:e.id,card_data:e});if(t)throw t;ga.wishlist.push(e)}catch(t){ga.error=t.message}},async removeFromWishlist(e){if(N["a"].state.user)try{const{error:t}=await X["a"].from("wishlists").delete().eq("user_id",N["a"].state.user.id).eq("card_id",e);if(t)throw t;ga.wishlist=ga.wishlist.filter(t=>t.id!==e)}catch(t){ga.error=t.message}},isInCollection(e){return ga.myCollection.some(t=>t.id===e)},isInWishlist(e){return ga.wishlist.some(t=>t.id===e)},getCollection(){return ga.myCollection},getWishlist(){return ga.wishlist},subscribeToChanges(){if(!N["a"].state.user)return;const e=X["a"].channel("collection_changes").on("postgres_changes",{event:"*",schema:"public",table:"collections",filter:"user_id=eq."+N["a"].state.user.id},e=>{"INSERT"===e.eventType?ga.myCollection.push(e.new.card_data):"DELETE"===e.eventType&&(ga.myCollection=ga.myCollection.filter(t=>t.id!==e.old.card_id))}).subscribe(),t=X["a"].channel("wishlist_changes").on("postgres_changes",{event:"*",schema:"public",table:"wishlists",filter:"user_id=eq."+N["a"].state.user.id},e=>{"INSERT"===e.eventType?ga.wishlist.push(e.new.card_data):"DELETE"===e.eventType&&(ga.wishlist=ga.wishlist.filter(t=>t.id!==e.old.card_id))}).subscribe();return()=>{e.unsubscribe(),t.unsubscribe()}},getCollectionStats(){const e=ga.myCollection.length,t=ga.myCollection.reduce((e,t)=>{const a="number"===typeof t.price?t.price:0;return e+a},0);return{totalCards:e,totalValue:t}}},ya={name:"CardDetailsModal",props:{card:{type:Object,required:!0}},setup(e){const t=Object(se["d"])(),a=Object(c["A"])(null),s=async()=>{try{const{data:t}=await X["a"].from("products").select("*").eq("card_id",e.card.id).eq("active",!0).gt("stock",0).single();a.value=t}catch(t){console.error("Error checking store availability:",t)}},i=()=>{a.value&&t.push({name:"Store",query:{product:a.value.id}})};Object(c["v"])(()=>{s()});const l=Object(c["d"])(()=>fa.isInCollection(e.card.id)),n=Object(c["d"])(()=>fa.isInWishlist(e.card.id)),r=()=>{N["a"].state.session&&(l.value?fa.removeFromCollection(e.card.id):fa.addToCollection(e.card))},o=()=>{N["a"].state.session&&(n.value?fa.removeFromWishlist(e.card.id):fa.addToWishlist(e.card))};return{auth:N["a"],isInCollection:l,isInWishlist:n,toggleCollection:r,toggleWishlist:o,storeProduct:a,goToStore:i}},methods:{formatDate(e){return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"},formatPrice(e){return"N/A"===e?"N/A":"€"+Number(e).toFixed(2)}}};a("ee29");const ka=te()(ya,[["render",va],["__scopeId","data-v-56e52e8a"]]);var wa=ka,Ca={components:{Card:It,SetFilter:Kt,CardDetailsModal:wa},data(){return{cards:[],sets:[],selectedSet:null,searchQuery:"",sortBy:"name",viewMode:"grid",page:1,loading:!1,hasMore:!0,selectedCard:null,totalCards:0,searchActive:!1,searchInNames:!0,searchInTypes:!1,searchInRarity:!1,auth:N["a"]}},computed:{displayedCards(){return this.cards}},methods:{async fetchCards(e=!1){e&&(this.page=1,this.cards=[]),this.loading=!0;try{const t={page:this.page,orderBy:this.sortBy,q:this.buildSearchQuery(),select:"id,name,images,types,rarity,cardmarket,set"},a=await Dt["a"].getCards(t),c=a.data.map(e=>({id:e.id,name:e.name,imageUrl:e.images&&(e.images.small||e.images.large)||"",type:Array.isArray(e.types)?e.types[0]:"Unknown",rarity:e.rarity||"Common",price:e.cardmarket&&e.cardmarket.prices?e.cardmarket.prices.averageSellPrice:"N/A",set:e.set}));this.cards=e?c:[...this.cards,...c],this.totalCards=a.totalCount,this.hasMore=this.cards.length<this.totalCards}catch(t){console.error("Error fetching cards:",t)}finally{this.loading=!1}},async fetchSets(){try{const e=await Dt["a"].getSets();this.sets=e.data}catch(e){console.error("Error fetching sets:",e)}},selectSet(e){this.selectedSet=e,this.fetchCards(!0)},clearSetFilter(){this.selectedSet=null,this.fetchCards(!0)},loadMore(){!this.loading&&this.hasMore&&(this.page++,this.fetchCards())},openCardModal(e){this.selectedCard=e},clearSearch(){this.searchQuery="",this.fetchCards(!0)},setViewMode(e){localStorage.setItem("preferredViewMode",e),this.viewMode=e},resetFilters(){this.searchQuery="",this.selectedSet=null,this.sortBy="name",this.fetchCards(!0)},buildSearchQuery(){let e="";if(this.searchQuery){const t=[];this.searchInNames&&t.push(`name:"*${this.searchQuery}*"`),this.searchInTypes&&t.push(`types:"*${this.searchQuery}*"`),this.searchInRarity&&t.push(`rarity:"*${this.searchQuery}*"`),e=t.join(" OR ")}return this.selectedSet&&(e=e?`(${e}) AND set.id:${this.selectedSet}`:"set.id:"+this.selectedSet),e},isInCollection(e){return fa.isInCollection(e)},isInWishlist(e){return fa.isInWishlist(e)},toggleCollection(e){this.auth.state.session&&(this.isInCollection(e.id)?fa.removeFromCollection(e.id):fa.addToCollection(e))},toggleWishlist(e){this.auth.state.session&&(this.isInWishlist(e.id)?fa.removeFromWishlist(e.id):fa.addToWishlist(e))}},watch:{searchQuery:_a((function(){this.fetchCards(!0)}),300),sortBy(){this.fetchCards(!0)}},mounted(){this.fetchSets(),this.fetchCards(),this.viewMode=localStorage.getItem("preferredViewMode")||"grid"}};function _a(e,t){let a;return function(...c){clearTimeout(a),a=setTimeout(()=>e.apply(this,c),t)}}a("bb18");const Sa=te()(Ca,[["render",gt],["__scopeId","data-v-27186d76"]]);var xa=Sa;const Aa={class:"market-widget"},Ma={class:"widget-header"};function Pa(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",Aa,[Object(c["i"])("div",Ma,[t[2]||(t[2]=Object(c["i"])("h2",null,"Market Overview",-1)),Object(c["i"])("button",{class:"refresh-button",onClick:t[0]||(t[0]=(...e)=>l.refreshData&&l.refreshData(...e))},t[1]||(t[1]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"refresh",-1)]))]),t[3]||(t[3]=Object(c["j"])('<div class="market-stats" data-v-336e696f><div class="stat-item" data-v-336e696f><div class="stat-label" data-v-336e696f>Market Volume</div><div class="stat-value" data-v-336e696f>$123,456</div><div class="stat-trend up" data-v-336e696f><span class="material-symbols-rounded" data-v-336e696f>trending_up</span> +5.2% </div></div><div class="stat-item" data-v-336e696f><div class="stat-label" data-v-336e696f>Active Listings</div><div class="stat-value" data-v-336e696f>24,789</div><div class="stat-trend down" data-v-336e696f><span class="material-symbols-rounded" data-v-336e696f>trending_down</span> -2.1% </div></div><div class="stat-item" data-v-336e696f><div class="stat-label" data-v-336e696f>Avg Card Price</div><div class="stat-value" data-v-336e696f>$48.32</div><div class="stat-trend up" data-v-336e696f><span class="material-symbols-rounded" data-v-336e696f>trending_up</span> +1.8% </div></div></div>',1))])}var Ha={name:"MarketWidget",methods:{refreshData(){}}};a("3b4f");const Ia=te()(Ha,[["render",Pa],["__scopeId","data-v-336e696f"]]);var Da=Ia;const Ua={class:"trending-widget"},Ta={class:"widget-header"},Na={class:"time-filter"},Fa=["onClick"],qa={class:"trending-cards"},Ra=["src","alt"],Ea={class:"card-info"},La={class:"card-name"},Va={class:"card-price"},Wa={class:"material-symbols-rounded"};function Ba(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",Ua,[Object(c["i"])("div",Ta,[t[0]||(t[0]=Object(c["i"])("h2",null,"Trending Cards",-1)),Object(c["i"])("div",Na,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(i.periods,e=>(Object(c["x"])(),Object(c["h"])("button",{key:e,class:Object(c["r"])({active:i.selectedPeriod===e}),onClick:t=>i.selectedPeriod=e},Object(c["H"])(e),11,Fa))),128))])]),Object(c["i"])("div",qa,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(i.trendingCards,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:"trend-card"},[Object(c["i"])("img",{src:e.image,alt:e.name,class:"card-thumbnail"},null,8,Ra),Object(c["i"])("div",Ea,[Object(c["i"])("div",La,Object(c["H"])(e.name),1),Object(c["i"])("div",Va,"$"+Object(c["H"])(e.price),1),Object(c["i"])("div",{class:Object(c["r"])(["price-change",e.change>0?"up":"down"])},[Object(c["i"])("span",Wa,Object(c["H"])(e.change>0?"trending_up":"trending_down"),1),Object(c["k"])(" "+Object(c["H"])(Math.abs(e.change))+"% ",1)],2)])]))),128))])])}var $a={name:"TrendingCardsWidget",data(){return{periods:["24h","7d","30d"],selectedPeriod:"24h",trendingCards:[{id:1,name:"Charizard VMAX",price:189.99,change:12.5,image:"path/to/image"}]}}};a("dfd6");const za=te()($a,[["render",Ba],["__scopeId","data-v-c75984e0"]]);var Qa=za,Ja={name:"Home",components:{Collection:xa,MarketWidget:Da,TrendingCardsWidget:Qa},data(){return{mostExpensiveCard:null,topValuedCards:[],trends:[{id:1,name:"Charizard Base Set",change:"+12.5",direction:"up"},{id:2,name:"Pikachu Illustrator",change:"+5.2",direction:"up"},{id:3,name:"Mewtwo GX",change:"-2.1",direction:"down"}],news:[{id:1,title:"New Scarlet & Violet Set Announced",excerpt:"The Pokémon Company reveals exciting new cards...",date:"2 hours ago"},{id:2,title:"Record Breaking Card Sale",excerpt:"Rare Pikachu card sells for unprecedented amount...",date:"1 day ago"}]}},async mounted(){try{const e=await Dt["a"].getCards(1,100),t=e.data.map(e=>({id:e.id,name:e.name,imageUrl:e.images.small,price:e.cardmarket&&e.cardmarket.prices?e.cardmarket.prices.averageSellPrice:0})).filter(e=>e.price>0);t.sort((e,t)=>t.price-e.price),this.mostExpensiveCard=t[0],this.topValuedCards=t.slice(0,5)}catch(e){console.error("Error fetching cards:",e)}},computed:{isLoggedIn(){return!!N["a"].state.session}}};a("7307");const Ga=te()(Ja,[["render",We],["__scopeId","data-v-d72b2e98"]]);var Ka=Ga;const Za={class:"auth-container"},Xa={class:"auth-card"},Ya={class:"form-group"},ec={class:"input-wrapper"},tc={class:"form-group"},ac={class:"input-wrapper"},cc={key:0,class:"error-message"},sc=["disabled"],ic={class:"button-content"},lc={class:"auth-footer"};function nc(e,t,a,s,i,l){const n=Object(c["D"])("router-link");return Object(c["x"])(),Object(c["h"])("div",Za,[Object(c["i"])("div",Xa,[t[9]||(t[9]=Object(c["i"])("div",{class:"auth-header"},[Object(c["i"])("span",{class:"material-symbols-rounded"},"person_outline"),Object(c["i"])("h1",null,"Welcome Back"),Object(c["i"])("p",{class:"subtitle"},"Sign in to manage your collection")],-1)),Object(c["i"])("form",{onSubmit:t[2]||(t[2]=Object(c["R"])((...e)=>l.handleSubmit&&l.handleSubmit(...e),["prevent"]))},[Object(c["i"])("div",Ya,[Object(c["i"])("div",ec,[t[3]||(t[3]=Object(c["i"])("span",{class:"material-symbols-rounded"},"mail",-1)),Object(c["P"])(Object(c["i"])("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>i.email=e),type:"email",placeholder:"Email address",required:""},null,512),[[c["M"],i.email]])])]),Object(c["i"])("div",tc,[Object(c["i"])("div",ac,[t[4]||(t[4]=Object(c["i"])("span",{class:"material-symbols-rounded"},"lock",-1)),Object(c["P"])(Object(c["i"])("input",{id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>i.password=e),type:"password",placeholder:"Password",required:""},null,512),[[c["M"],i.password]])])]),i.error?(Object(c["x"])(),Object(c["h"])("div",cc,[t[5]||(t[5]=Object(c["i"])("span",{class:"material-symbols-rounded"},"error",-1)),Object(c["k"])(" "+Object(c["H"])(i.error),1)])):Object(c["g"])("",!0),Object(c["i"])("button",{type:"submit",disabled:i.loading,class:Object(c["r"])(["submit-button",{loading:i.loading}])},[Object(c["i"])("span",ic,[t[6]||(t[6]=Object(c["i"])("span",{class:"material-symbols-rounded"},"login",-1)),Object(c["k"])(" "+Object(c["H"])(i.loading?"Signing in...":"Sign In"),1)])],10,sc)],32),Object(c["i"])("div",lc,[t[8]||(t[8]=Object(c["i"])("p",null,"Don't have an account?",-1)),Object(c["l"])(n,{to:"/register",class:"auth-link"},{default:Object(c["O"])(()=>t[7]||(t[7]=[Object(c["k"])(" Create Account "),Object(c["i"])("span",{class:"material-symbols-rounded"},"arrow_forward",-1)])),_:1})])])])}var rc={name:"Login",data(){return{email:"",password:"",loading:!1,error:null}},methods:{async handleSubmit(){this.loading=!0,this.error=null;const{user:e,error:t}=await N["a"].signIn(this.email,this.password);t?this.error=t.message:this.$router.push("/dashboard"),this.loading=!1}}};a("15a5");const oc=te()(rc,[["render",nc],["__scopeId","data-v-48df06ae"]]);var dc=oc;const bc={class:"my-collection"},uc={class:"collection-header"},Oc={class:"stats"},jc={class:"stat-item"},mc={class:"stat-content"},pc={class:"stat-item"},hc={class:"stat-content"},vc={key:0,class:"cards-grid"},gc=["onClick"],fc={class:"card-hover-overlay"},yc=["onClick"],kc={class:"card-content"},wc=["src","alt"],Cc={class:"card-details"},_c={class:"card-meta"},Sc={class:"card-set"},xc={key:0,class:"card-rarity"},Ac={key:0,class:"card-price"},Mc={key:1,class:"empty-state"};function Pc(e,t,a,s,i,l){const n=Object(c["D"])("router-link"),r=Object(c["D"])("CardDetailsModal");return Object(c["x"])(),Object(c["h"])("div",bc,[Object(c["i"])("div",uc,[t[5]||(t[5]=Object(c["i"])("h1",null,"My Collection",-1)),Object(c["i"])("div",Oc,[Object(c["i"])("div",jc,[t[2]||(t[2]=Object(c["i"])("span",{class:"material-symbols-rounded"},"diamond",-1)),Object(c["i"])("div",mc,[t[1]||(t[1]=Object(c["i"])("h3",null,"Total Cards",-1)),Object(c["i"])("p",null,Object(c["H"])(l.collection.length),1)])]),Object(c["i"])("div",pc,[t[4]||(t[4]=Object(c["i"])("span",{class:"material-symbols-rounded"},"payments",-1)),Object(c["i"])("div",hc,[t[3]||(t[3]=Object(c["i"])("h3",null,"Total Value",-1)),Object(c["i"])("p",null,"$"+Object(c["H"])(l.totalValue.toFixed(2)),1)])])])]),l.collection.length?(Object(c["x"])(),Object(c["h"])("div",vc,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(l.collection,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:"card-item",onClick:t=>l.showCardDetails(e)},[Object(c["i"])("div",fc,[Object(c["i"])("button",{class:"action-button",onClick:Object(c["R"])(t=>l.removeFromCollection(e.id),["stop"]),title:"Remove from Collection"},t[6]||(t[6]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"remove_circle",-1)]),8,yc)]),Object(c["i"])("div",kc,[Object(c["i"])("img",{src:e.imageUrl||e.images.small,alt:e.name,loading:"lazy"},null,8,wc),Object(c["i"])("div",Cc,[Object(c["i"])("h3",null,Object(c["H"])(e.name),1),Object(c["i"])("div",_c,[Object(c["i"])("span",Sc,Object(c["H"])(e.set.name),1),e.rarity?(Object(c["x"])(),Object(c["h"])("span",xc,Object(c["H"])(e.rarity),1)):Object(c["g"])("",!0)]),"N/A"!==e.price?(Object(c["x"])(),Object(c["h"])("div",Ac," €"+Object(c["H"])(Number(e.price).toFixed(2)),1)):Object(c["g"])("",!0)])])],8,gc))),128))])):(Object(c["x"])(),Object(c["h"])("div",Mc,[t[8]||(t[8]=Object(c["i"])("span",{class:"material-symbols-rounded"},"category",-1)),t[9]||(t[9]=Object(c["i"])("h2",null,"Your collection is empty",-1)),t[10]||(t[10]=Object(c["i"])("p",null,"Start adding cards from the collection page!",-1)),Object(c["l"])(n,{to:"/collection",class:"browse-button"},{default:Object(c["O"])(()=>t[7]||(t[7]=[Object(c["k"])(" Browse Cards ")])),_:1})])),i.selectedCard?(Object(c["x"])(),Object(c["f"])(r,{key:2,card:i.selectedCard,onClose:t[0]||(t[0]=e=>i.selectedCard=null)},null,8,["card"])):Object(c["g"])("",!0)])}var Hc={components:{Card:It,CardDetailsModal:wa},data(){return{selectedCard:null,unsubscribe:null}},async created(){await fa.initializeUserData(),this.unsubscribe=fa.subscribeToChanges()},unmounted(){this.unsubscribe&&this.unsubscribe()},computed:{collection(){return fa.getCollection()},collectionStats(){return fa.getCollectionStats()},totalValue(){return this.collectionStats.totalValue}},methods:{removeFromCollection(e){fa.removeFromCollection(e)},showCardDetails(e){this.selectedCard=e}}};a("e9a8");const Ic=te()(Hc,[["render",Pc],["__scopeId","data-v-58bc3bc8"]]);var Dc=Ic;const Uc={class:"wishlist"},Tc={class:"wishlist-header"},Nc={class:"stats"},Fc={class:"stat-item"},qc={class:"stat-content"},Rc={class:"stat-item"},Ec={class:"stat-content"},Lc={key:0,class:"cards-grid"},Vc=["onClick"],Wc={key:0,class:"store-badge"},Bc={class:"card-hover-overlay"},$c=["onClick"],zc=["onClick"],Qc={class:"card-content"},Jc=["src","alt"],Gc={class:"card-details"},Kc={class:"card-meta"},Zc={class:"card-set"},Xc={key:0,class:"card-rarity"},Yc={key:0,class:"card-price"},es={key:1,class:"empty-state"};function ts(e,t,a,s,i,l){const n=Object(c["D"])("router-link"),r=Object(c["D"])("CardDetailsModal");return Object(c["x"])(),Object(c["h"])("div",Uc,[Object(c["i"])("div",Tc,[t[5]||(t[5]=Object(c["i"])("h1",null,"My Wishlist",-1)),Object(c["i"])("div",Nc,[Object(c["i"])("div",Fc,[t[2]||(t[2]=Object(c["i"])("span",{class:"material-symbols-rounded"},"favorite",-1)),Object(c["i"])("div",qc,[t[1]||(t[1]=Object(c["i"])("h3",null,"Wanted Cards",-1)),Object(c["i"])("p",null,Object(c["H"])(i.wishlist.length),1)])]),Object(c["i"])("div",Rc,[t[4]||(t[4]=Object(c["i"])("span",{class:"material-symbols-rounded"},"savings",-1)),Object(c["i"])("div",Ec,[t[3]||(t[3]=Object(c["i"])("h3",null,"Total Value",-1)),Object(c["i"])("p",null,"$"+Object(c["H"])(l.estimatedTotal.toFixed(2)),1)])])])]),i.wishlist.length?(Object(c["x"])(),Object(c["h"])("div",Lc,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(i.wishlist,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:Object(c["r"])(["card-item",{"available-in-store":l.isAvailableInStore(e.id)}]),onClick:t=>l.showCardDetails(e)},[l.isAvailableInStore(e.id)?(Object(c["x"])(),Object(c["h"])("div",Wc,t[6]||(t[6]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"shopping_cart",-1),Object(c["k"])(" Available in Store ")]))):Object(c["g"])("",!0),Object(c["i"])("div",Bc,[l.isInCollection(e.id)?Object(c["g"])("",!0):(Object(c["x"])(),Object(c["h"])("button",{key:0,class:"action-button collect",onClick:Object(c["R"])(t=>l.addToCollection(e),["stop"]),title:"Add to Collection"},t[7]||(t[7]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"add_circle",-1)]),8,$c)),Object(c["i"])("button",{class:"action-button remove",onClick:Object(c["R"])(t=>l.removeFromWishlist(e.id),["stop"]),title:"Remove from Wishlist"},t[8]||(t[8]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"favorite",-1)]),8,zc)]),Object(c["i"])("div",Qc,[t[9]||(t[9]=Object(c["i"])("div",{class:"card-badge"},"Wishlist",-1)),Object(c["i"])("img",{src:e.imageUrl||e.images.small,alt:e.name,loading:"lazy"},null,8,Jc),Object(c["i"])("div",Gc,[Object(c["i"])("h3",null,Object(c["H"])(e.name),1),Object(c["i"])("div",Kc,[Object(c["i"])("span",Zc,Object(c["H"])(e.set.name),1),e.rarity?(Object(c["x"])(),Object(c["h"])("span",Xc,Object(c["H"])(e.rarity),1)):Object(c["g"])("",!0)]),"N/A"!==e.price?(Object(c["x"])(),Object(c["h"])("div",Yc," €"+Object(c["H"])(Number(e.price).toFixed(2)),1)):Object(c["g"])("",!0)])])],10,Vc))),128))])):(Object(c["x"])(),Object(c["h"])("div",es,[t[11]||(t[11]=Object(c["i"])("span",{class:"material-symbols-rounded"},"favorite_border",-1)),t[12]||(t[12]=Object(c["i"])("h2",null,"Your wishlist is empty",-1)),t[13]||(t[13]=Object(c["i"])("p",null,"Start adding cards you want to collect!",-1)),Object(c["l"])(n,{to:"/collection",class:"browse-button"},{default:Object(c["O"])(()=>t[10]||(t[10]=[Object(c["k"])(" Browse Cards ")])),_:1})])),i.selectedCard?(Object(c["x"])(),Object(c["f"])(r,{key:2,card:i.selectedCard,onClose:t[0]||(t[0]=e=>i.selectedCard=null),onAddedToCollection:l.handleAddedToCollection},null,8,["card","onAddedToCollection"])):Object(c["g"])("",!0)])}function as(){const e=Object(c["A"])(new Map),t=async t=>{try{const{data:a}=await X["a"].from("products").select("*").eq("card_id",t).eq("active",!0).gt("stock",0).single();return e.value.set(t,a||null),a}catch(a){return console.error("Error checking store availability:",a),null}};return{availableProducts:e,checkStoreAvailability:t}}var cs={components:{Card:It,CardDetailsModal:wa},data(){return{wishlist:[],selectedCard:null,unsubscribe:null}},computed:{estimatedTotal(){return this.wishlist.reduce((e,t)=>{const a="number"===typeof t.price?t.price:0;return e+a},0)}},setup(){const{availableProducts:e,checkStoreAvailability:t}=as();return{availableProducts:e,checkStoreAvailability:t}},methods:{loadWishlist(){const e=fa.getWishlist();this.wishlist=e.map(e=>({...e,price:"N/A"!==e.price?Number(e.price):"N/A"}))},removeFromWishlist(e){fa.removeFromWishlist(e),this.loadWishlist()},addToCollection(e){fa.addToCollection(e),fa.removeFromWishlist(e.id),this.loadWishlist()},isInCollection(e){return fa.isInCollection(e)},showCardDetails(e){this.selectedCard=e},handleAddedToCollection(){this.loadWishlist()},isAvailableInStore(e){return void 0!==this.availableProducts.get(e)&&null!==this.availableProducts.get(e)},async checkWishlistAvailability(){for(const e of this.wishlist)await this.checkStoreAvailability(e.id)}},async created(){await fa.initializeUserData(),this.unsubscribe=fa.subscribeToChanges()},async mounted(){this.loadWishlist(),await this.checkWishlistAvailability()},unmounted(){this.unsubscribe&&this.unsubscribe()}};a("0c68");const ss=te()(cs,[["render",ts],["__scopeId","data-v-761fbe7c"]]);var is=ss;const ls={class:"admin-container"},ns={class:"admin-header"},rs={class:"quick-actions"},os={class:"quick-stats"},ds={class:"stat-card users"},bs={class:"stat-info"},us={class:"stat-change"},Os={class:"stat-card orders"},js={class:"stat-info"},ms={class:"stat-change"},ps={class:"stat-card revenue"},hs={class:"stat-info"},vs={class:"stat-change"},gs={class:"stat-card inventory"},fs={class:"stat-info"},ys={class:"stat-change"},ks={class:"admin-tabs"},ws=["onClick"],Cs={class:"material-symbols-rounded"},_s={key:0,class:"tab-badge"},Ss={key:0,class:"admin-panel"},xs={class:"panel-header"},As={class:"search-box"},Ms={class:"table-container"},Ps={class:"data-table"},Hs={class:"actions"},Is=["onClick"],Ds=["onClick"],Us={key:1,class:"admin-panel"},Ts={key:2,class:"admin-panel"},Ns={key:3,class:"admin-panel"},Fs={key:4,class:"admin-panel"},qs={key:5,class:"admin-panel"},Rs={key:6,class:"admin-panel"},Es={key:7,class:"admin-panel"},Ls={class:"form-section"},Vs={key:0,class:"form-group"},Ws={class:"input-wrapper"},Bs={key:1,class:"form-group"},$s={class:"input-wrapper"},zs={class:"form-group"},Qs={class:"input-wrapper"},Js={class:"form-group"},Gs={class:"input-wrapper"},Ks={class:"form-group"},Zs={class:"select-wrapper"},Xs={class:"form-group"},Ys={class:"select-wrapper"},ei={key:0,class:"error-message"},ti={class:"form-actions"},ai=["disabled"],ci={class:"modal-actions"};function si(e,t,a,s,i,l){const n=Object(c["D"])("NewsManager"),r=Object(c["D"])("CardsManager"),o=Object(c["D"])("ReportsManager"),d=Object(c["D"])("SettingsManager"),b=Object(c["D"])("StoreManager"),u=Object(c["D"])("OrderManager"),O=Object(c["D"])("NotificationsManager"),j=Object(c["D"])("Modal");return Object(c["x"])(),Object(c["h"])("div",ls,[Object(c["i"])("div",ns,[t[27]||(t[27]=Object(c["i"])("h1",null,"Admin Dashboard",-1)),Object(c["i"])("div",rs,[Object(c["i"])("button",{class:"action-btn",onClick:t[0]||(t[0]=(...e)=>s.backupDatabase&&s.backupDatabase(...e))},t[16]||(t[16]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"backup",-1),Object(c["k"])(" Backup Data ")])),Object(c["i"])("button",{class:"action-btn",onClick:t[1]||(t[1]=(...e)=>s.syncCards&&s.syncCards(...e))},t[17]||(t[17]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"sync",-1),Object(c["k"])(" Sync Cards ")])),Object(c["i"])("button",{class:"action-btn warning",onClick:t[2]||(t[2]=(...e)=>s.toggleMaintenance&&s.toggleMaintenance(...e))},[t[18]||(t[18]=Object(c["i"])("span",{class:"material-symbols-rounded"},"build",-1)),Object(c["k"])(" "+Object(c["H"])(s.settings.maintenanceMode?"Disable":"Enable")+" Maintenance ",1)])]),Object(c["i"])("div",os,[Object(c["i"])("div",ds,[t[20]||(t[20]=Object(c["i"])("div",{class:"stat-icon"},[Object(c["i"])("span",{class:"material-symbols-rounded"},"group")],-1)),Object(c["i"])("div",bs,[t[19]||(t[19]=Object(c["i"])("h3",null,"Total Users",-1)),Object(c["i"])("p",null,Object(c["H"])(s.stats.totalUsers),1),Object(c["i"])("span",us," +"+Object(c["H"])(s.stats.newToday)+" today ",1)])]),Object(c["i"])("div",Os,[t[22]||(t[22]=Object(c["i"])("div",{class:"stat-icon"},[Object(c["i"])("span",{class:"material-symbols-rounded"},"shopping_bag")],-1)),Object(c["i"])("div",js,[t[21]||(t[21]=Object(c["i"])("h3",null,"Orders",-1)),Object(c["i"])("p",null,Object(c["H"])(s.stats.totalOrders),1),Object(c["i"])("span",ms,Object(c["H"])(s.stats.pendingOrders)+" pending ",1)])]),Object(c["i"])("div",ps,[t[24]||(t[24]=Object(c["i"])("div",{class:"stat-icon"},[Object(c["i"])("span",{class:"material-symbols-rounded"},"payments")],-1)),Object(c["i"])("div",hs,[t[23]||(t[23]=Object(c["i"])("h3",null,"Revenue",-1)),Object(c["i"])("p",null,"€"+Object(c["H"])(s.formatMoney(s.stats.totalRevenue)),1),Object(c["i"])("span",vs," €"+Object(c["H"])(s.formatMoney(s.stats.revenueToday))+" today ",1)])]),Object(c["i"])("div",gs,[t[26]||(t[26]=Object(c["i"])("div",{class:"stat-icon"},[Object(c["i"])("span",{class:"material-symbols-rounded"},"inventory_2")],-1)),Object(c["i"])("div",fs,[t[25]||(t[25]=Object(c["i"])("h3",null,"Inventory",-1)),Object(c["i"])("p",null,Object(c["H"])(s.stats.totalCards),1),Object(c["i"])("span",ys,Object(c["H"])(s.stats.lowStock)+" low stock ",1)])])])]),Object(c["i"])("div",ks,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.tabs,e=>(Object(c["x"])(),Object(c["h"])("button",{key:e.id,class:Object(c["r"])(["tab-btn",{active:s.currentTab===e.id}]),onClick:t=>s.currentTab=e.id},[Object(c["i"])("span",Cs,Object(c["H"])(e.icon),1),Object(c["k"])(" "+Object(c["H"])(e.name)+" ",1),e.badge?(Object(c["x"])(),Object(c["h"])("span",_s,Object(c["H"])(e.badge),1)):Object(c["g"])("",!0)],10,ws))),128))]),"users"===s.currentTab?(Object(c["x"])(),Object(c["h"])("div",Ss,[Object(c["i"])("div",xs,[Object(c["i"])("div",As,[t[28]||(t[28]=Object(c["i"])("span",{class:"material-symbols-rounded"},"search",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.userSearch=e),type:"text",placeholder:"Search users..."},null,512),[[c["M"],s.userSearch]])]),Object(c["i"])("button",{class:"add-button",onClick:t[4]||(t[4]=(...e)=>s.initNewUser&&s.initNewUser(...e))},t[29]||(t[29]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"person_add",-1),Object(c["k"])(" Add User ")]))]),Object(c["i"])("div",Ms,[Object(c["i"])("table",Ps,[t[32]||(t[32]=Object(c["i"])("thead",null,[Object(c["i"])("tr",null,[Object(c["i"])("th",null,"Email"),Object(c["i"])("th",null,"Name"),Object(c["i"])("th",null,"Role"),Object(c["i"])("th",null,"Status"),Object(c["i"])("th",null,"Joined"),Object(c["i"])("th",null,"Actions")])],-1)),Object(c["i"])("tbody",null,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.filteredUsers,e=>(Object(c["x"])(),Object(c["h"])("tr",{key:e.id},[Object(c["i"])("td",null,Object(c["H"])(e.email),1),Object(c["i"])("td",null,Object(c["H"])(e.full_name||"-"),1),Object(c["i"])("td",null,[Object(c["i"])("span",{class:Object(c["r"])(["role-badge",e.role])},Object(c["H"])(e.role),3)]),Object(c["i"])("td",null,[Object(c["i"])("span",{class:Object(c["r"])(["status-badge",e.status])},Object(c["H"])(e.status),3)]),Object(c["i"])("td",null,Object(c["H"])(s.formatDate(e.created_at)),1),Object(c["i"])("td",Hs,[Object(c["i"])("button",{onClick:t=>s.editUser(e),class:"icon-button"},t[30]||(t[30]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"edit",-1)]),8,Is),Object(c["i"])("button",{onClick:t=>s.confirmDeleteUser(e),class:"icon-button danger"},t[31]||(t[31]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"delete",-1)]),8,Ds)])]))),128))])])])])):Object(c["g"])("",!0),"news"===s.currentTab?(Object(c["x"])(),Object(c["h"])("div",Us,[Object(c["l"])(n)])):Object(c["g"])("",!0),"cards"===s.currentTab?(Object(c["x"])(),Object(c["h"])("div",Ts,[Object(c["l"])(r)])):Object(c["g"])("",!0),"reports"===s.currentTab?(Object(c["x"])(),Object(c["h"])("div",Ns,[Object(c["l"])(o)])):Object(c["g"])("",!0),"settings"===s.currentTab?(Object(c["x"])(),Object(c["h"])("div",Fs,[Object(c["l"])(d)])):Object(c["g"])("",!0),"store"===s.currentTab?(Object(c["x"])(),Object(c["h"])("div",qs,[Object(c["l"])(b)])):Object(c["g"])("",!0),"orders"===s.currentTab?(Object(c["x"])(),Object(c["h"])("div",Rs,[Object(c["l"])(u)])):Object(c["g"])("",!0),"notifications"===s.currentTab?(Object(c["x"])(),Object(c["h"])("div",Es,[Object(c["l"])(O)])):Object(c["g"])("",!0),s.showEditModal?(Object(c["x"])(),Object(c["f"])(j,{key:8,onClose:s.closeEditModal},{header:Object(c["O"])(()=>[Object(c["i"])("h2",null,Object(c["H"])(s.editingUser&&s.editingUser.id?"Edit User":"Add User"),1)]),default:Object(c["O"])(()=>[Object(c["i"])("form",{onSubmit:t[12]||(t[12]=Object(c["R"])((...e)=>s.saveUser&&s.saveUser(...e),["prevent"])),class:"edit-form"},[Object(c["i"])("div",Ls,[s.editingUser&&s.editingUser.id?Object(c["g"])("",!0):(Object(c["x"])(),Object(c["h"])("div",Vs,[t[33]||(t[33]=Object(c["i"])("label",null,"Email *",-1)),Object(c["i"])("div",Ws,[Object(c["P"])(Object(c["i"])("input",{type:"email","onUpdate:modelValue":t[5]||(t[5]=e=>s.userForm.email=e),required:"",placeholder:"user@example.com"},null,512),[[c["M"],s.userForm.email]])])])),s.editingUser&&s.editingUser.id?Object(c["g"])("",!0):(Object(c["x"])(),Object(c["h"])("div",Bs,[t[34]||(t[34]=Object(c["i"])("label",null,"Password *",-1)),Object(c["i"])("div",$s,[Object(c["P"])(Object(c["i"])("input",{type:"password","onUpdate:modelValue":t[6]||(t[6]=e=>s.userForm.password=e),required:"",placeholder:"Enter password",minlength:"6"},null,512),[[c["M"],s.userForm.password]])])])),Object(c["i"])("div",zs,[t[35]||(t[35]=Object(c["i"])("label",null,"First Name",-1)),Object(c["i"])("div",Qs,[Object(c["P"])(Object(c["i"])("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=e=>s.userForm.first_name=e),placeholder:"Enter first name"},null,512),[[c["M"],s.userForm.first_name]])])]),Object(c["i"])("div",Js,[t[36]||(t[36]=Object(c["i"])("label",null,"Last Name",-1)),Object(c["i"])("div",Gs,[Object(c["P"])(Object(c["i"])("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=e=>s.userForm.last_name=e),placeholder:"Enter last name"},null,512),[[c["M"],s.userForm.last_name]])])]),Object(c["i"])("div",Ks,[t[39]||(t[39]=Object(c["i"])("label",null,"Role",-1)),Object(c["i"])("div",Zs,[Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[9]||(t[9]=e=>s.userForm.role=e)},t[37]||(t[37]=[Object(c["i"])("option",{value:"user"},"Regular User",-1),Object(c["i"])("option",{value:"admin"},"Administrator",-1)]),512),[[c["L"],s.userForm.role]]),t[38]||(t[38]=Object(c["i"])("span",{class:"material-symbols-rounded"},"expand_more",-1))])]),Object(c["i"])("div",Xs,[t[42]||(t[42]=Object(c["i"])("label",null,"Status",-1)),Object(c["i"])("div",Ys,[Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[10]||(t[10]=e=>s.userForm.status=e)},t[40]||(t[40]=[Object(c["i"])("option",{value:"active"},"Active",-1),Object(c["i"])("option",{value:"suspended"},"Suspended",-1)]),512),[[c["L"],s.userForm.status]]),t[41]||(t[41]=Object(c["i"])("span",{class:"material-symbols-rounded"},"expand_more",-1))])])]),s.formError?(Object(c["x"])(),Object(c["h"])("div",ei,Object(c["H"])(s.formError),1)):Object(c["g"])("",!0),Object(c["i"])("div",ti,[Object(c["i"])("button",{type:"button",class:"cancel-button",onClick:t[11]||(t[11]=(...e)=>s.closeEditModal&&s.closeEditModal(...e))}," Cancel "),Object(c["i"])("button",{type:"submit",class:"save-button",disabled:s.isSubmitting},Object(c["H"])(s.isSubmitting?"Saving...":"Save Changes"),9,ai)])],32)]),_:1},8,["onClose"])):Object(c["g"])("",!0),s.showDeleteModal?(Object(c["x"])(),Object(c["f"])(j,{key:9,onClose:t[15]||(t[15]=e=>s.showDeleteModal=!1)},{header:Object(c["O"])(()=>t[43]||(t[43]=[Object(c["i"])("h2",null,"Confirm Delete",-1)])),default:Object(c["O"])(()=>[t[44]||(t[44]=Object(c["i"])("p",null,"Are you sure you want to delete this user?",-1)),Object(c["i"])("div",ci,[Object(c["i"])("button",{onClick:t[13]||(t[13]=e=>s.showDeleteModal=!1)},"Cancel"),Object(c["i"])("button",{onClick:t[14]||(t[14]=(...e)=>s.deleteUser&&s.deleteUser(...e)),class:"danger"},"Delete")])]),_:1})):Object(c["g"])("",!0)])}var ii=a("714b");const li={class:"news-manager"},ni={class:"panel-header"},ri={class:"articles-list"},oi={class:"article-content"},di={class:"article-date"},bi={class:"article-tags"},ui={class:"article-actions"},Oi=["onClick"],ji=["onClick"],mi={class:"form-group"},pi={class:"form-group"},hi={class:"form-group"},vi={class:"form-group"},gi={class:"tags-preview"},fi=["onClick"],yi={class:"form-actions"};function ki(e,t,a,s,i,l){const n=Object(c["D"])("Modal");return Object(c["x"])(),Object(c["h"])("div",li,[Object(c["i"])("div",ni,[t[9]||(t[9]=Object(c["i"])("h2",null,"News Articles",-1)),Object(c["i"])("button",{class:"add-button",onClick:t[0]||(t[0]=(...e)=>s.showAddModal&&s.showAddModal(...e))},t[8]||(t[8]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"post_add",-1),Object(c["k"])(" Create Article ")]))]),Object(c["i"])("div",ri,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.articles,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:"article-card"},[Object(c["i"])("div",oi,[Object(c["i"])("span",di,Object(c["H"])(s.formatDate(e.created_at)),1),Object(c["i"])("h3",null,Object(c["H"])(e.title),1),Object(c["i"])("p",null,Object(c["H"])(e.excerpt),1),Object(c["i"])("div",bi,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(e.tags,e=>(Object(c["x"])(),Object(c["h"])("span",{key:e,class:"tag"},Object(c["H"])(e),1))),128))])]),Object(c["i"])("div",ui,[Object(c["i"])("button",{onClick:t=>s.editArticle(e),class:"icon-button"},t[10]||(t[10]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"edit",-1)]),8,Oi),Object(c["i"])("button",{onClick:t=>s.deleteArticle(e.id),class:"icon-button danger"},t[11]||(t[11]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"delete",-1)]),8,ji)])]))),128))]),s.showModal?(Object(c["x"])(),Object(c["f"])(n,{key:0,onClose:s.closeModal},{header:Object(c["O"])(()=>[Object(c["i"])("h2",null,Object(c["H"])(s.editingArticle?"Edit Article":"Create Article"),1)]),default:Object(c["O"])(()=>[Object(c["i"])("form",{onSubmit:t[7]||(t[7]=Object(c["R"])((...e)=>s.saveArticle&&s.saveArticle(...e),["prevent"])),class:"article-form"},[Object(c["i"])("div",mi,[t[12]||(t[12]=Object(c["i"])("label",null,"Title *",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.articleForm.title=e),required:"",type:"text"},null,512),[[c["M"],s.articleForm.title]])]),Object(c["i"])("div",pi,[t[13]||(t[13]=Object(c["i"])("label",null,"Excerpt *",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>s.articleForm.excerpt=e),required:"",type:"text"},null,512),[[c["M"],s.articleForm.excerpt]])]),Object(c["i"])("div",hi,[t[14]||(t[14]=Object(c["i"])("label",null,"Content *",-1)),Object(c["P"])(Object(c["i"])("textarea",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.articleForm.content=e),required:"",rows:"6"},null,512),[[c["M"],s.articleForm.content]])]),Object(c["i"])("div",vi,[t[15]||(t[15]=Object(c["i"])("label",null,"Tags",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>s.tagInput=e),onKeydown:t[5]||(t[5]=Object(c["Q"])(Object(c["R"])((...e)=>s.addTag&&s.addTag(...e),["prevent"]),["enter"])),placeholder:"Press enter to add tag"},null,544),[[c["M"],s.tagInput]]),Object(c["i"])("div",gi,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.articleForm.tags,e=>(Object(c["x"])(),Object(c["h"])("span",{key:e,class:"tag",onClick:t=>s.removeTag(e)},Object(c["H"])(e)+" × ",9,fi))),128))])]),Object(c["i"])("div",yi,[Object(c["i"])("button",{type:"button",onClick:t[6]||(t[6]=(...e)=>s.closeModal&&s.closeModal(...e))},"Cancel"),t[16]||(t[16]=Object(c["i"])("button",{type:"submit",class:"primary"},"Save Article",-1))])],32)]),_:1},8,["onClose"])):Object(c["g"])("",!0)])}var wi={name:"NewsManager",components:{Modal:ii["a"]},setup(){const e=Object(c["A"])([]),t=Object(c["A"])(!1),a=Object(c["A"])(null),s=Object(c["A"])(""),i=Object(c["A"])({title:"",excerpt:"",content:"",tags:[]}),l=()=>{i.value={title:"",excerpt:"",content:"",tags:[]},a.value=null,s.value=""},n=async()=>{const{data:t,error:a}=await X["a"].from("news_articles").select("*").order("created_at",{ascending:!1});a||(e.value=t)},r=()=>{l(),t.value=!0},o=e=>{a.value=e,i.value={...e},t.value=!0},d=async()=>{const e={...i.value,updated_at:new Date};a.value?await X["a"].from("news_articles").update(e).eq("id",a.value.id):await X["a"].from("news_articles").insert([e]),await n(),j()},b=async e=>{confirm("Are you sure you want to delete this article?")&&(await X["a"].from("news_articles").delete().eq("id",e),await n())},u=()=>{const e=s.value.trim();e&&!i.value.tags.includes(e)&&i.value.tags.push(e),s.value=""},O=e=>{i.value.tags=i.value.tags.filter(t=>t!==e)},j=()=>{t.value=!1,l()};return Object(c["v"])(n),{articles:e,showModal:t,editingArticle:a,articleForm:i,tagInput:s,showAddModal:r,editArticle:o,saveArticle:d,deleteArticle:b,addTag:u,removeTag:O,closeModal:j,formatDate:e=>new Date(e).toLocaleDateString()}}};a("5e33");const Ci=te()(wi,[["render",ki],["__scopeId","data-v-075acf4a"]]);var _i=Ci;const Si={class:"cards-manager"},xi={class:"panel-header"},Ai={class:"actions"},Mi={class:"panel-content"},Pi={class:"cards-stats"},Hi={class:"stat-item"},Ii={class:"stat-item"},Di={class:"cards-grid"},Ui=["src","alt"],Ti={class:"card-info"},Ni={class:"card-actions"},Fi=["onClick"],qi=["onClick"];function Ri(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",Si,[Object(c["i"])("div",xi,[Object(c["i"])("div",Ai,[Object(c["i"])("button",{class:"action-button",onClick:t[0]||(t[0]=(...t)=>e.syncCards&&e.syncCards(...t))},t[2]||(t[2]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"sync",-1),Object(c["k"])(" Sync with API ")])),Object(c["i"])("button",{class:"action-button",onClick:t[1]||(t[1]=(...t)=>e.importCards&&e.importCards(...t))},t[3]||(t[3]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"upload_file",-1),Object(c["k"])(" Import Cards ")]))])]),Object(c["i"])("div",Mi,[Object(c["i"])("div",Pi,[Object(c["i"])("div",Hi,[t[4]||(t[4]=Object(c["i"])("h4",null,"Total Cards",-1)),Object(c["i"])("p",null,Object(c["H"])(s.stats.total),1)]),Object(c["i"])("div",Ii,[t[5]||(t[5]=Object(c["i"])("h4",null,"Last Synced",-1)),Object(c["i"])("p",null,Object(c["H"])(s.stats.lastSync?s.formatDate(s.stats.lastSync):"Never"),1)])]),Object(c["i"])("div",Di,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.cards,a=>(Object(c["x"])(),Object(c["h"])("div",{key:a.id,class:"card-item"},[Object(c["i"])("img",{src:a.imageUrl,alt:a.name},null,8,Ui),Object(c["i"])("div",Ti,[Object(c["i"])("h3",null,Object(c["H"])(a.name),1),Object(c["i"])("p",null,"$"+Object(c["H"])(a.price),1),Object(c["i"])("div",Ni,[Object(c["i"])("button",{onClick:t=>e.editCard(a)},t[6]||(t[6]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"edit",-1)]),8,Fi),Object(c["i"])("button",{onClick:t=>e.deleteCard(a.id),class:"danger"},t[7]||(t[7]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"delete",-1)]),8,qi)])])]))),128))])])])}var Ei={name:"CardsManager",setup(){const e=Object(c["A"])([]),t=Object(c["A"])({total:0,lastSync:null});async function a(){const{data:a,error:c}=await X["a"].from("cards").select("*").order("name");c||(e.value=a,t.value.total=a.length)}return Object(c["v"])(a),{cards:e,stats:t,formatDate:e=>new Date(e).toLocaleDateString()}}};a("0e58");const Li=te()(Ei,[["render",Ri],["__scopeId","data-v-1bee8475"]]);var Vi=Li;const Wi={class:"reports-manager"},Bi={class:"reports-grid"},$i={class:"report-card"},zi={class:"stat-list"},Qi={class:"stat-item"},Ji={class:"stat-value"},Gi={class:"stat-item"},Ki={class:"stat-value"},Zi={class:"report-card"},Xi={class:"stat-list"},Yi={class:"stat-item"},el={class:"stat-value"},tl={class:"stat-item"},al={class:"stat-value"},cl={class:"report-card highlight"},sl={class:"ranking-list"},il={class:"rank-info"},ll=["src","alt"],nl={class:"report-card"},rl={class:"activity-list"},ol={class:"activity-content"},dl={class:"activity-time"};function bl(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",Wi,[Object(c["i"])("div",Bi,[Object(c["i"])("div",$i,[t[4]||(t[4]=Object(c["i"])("h3",null,"User Analytics",-1)),Object(c["i"])("div",zi,[Object(c["i"])("div",Qi,[t[0]||(t[0]=Object(c["i"])("span",{class:"stat-label"},"Active Users",-1)),Object(c["i"])("span",Ji,Object(c["H"])(s.stats.activeUsers),1),t[1]||(t[1]=Object(c["i"])("span",{class:"stat-trend up"},"+12.5%",-1))]),Object(c["i"])("div",Gi,[t[2]||(t[2]=Object(c["i"])("span",{class:"stat-label"},"Average Collection Size",-1)),Object(c["i"])("span",Ki,Object(c["H"])(s.stats.avgCollectionSize),1),t[3]||(t[3]=Object(c["i"])("span",{class:"stat-trend up"},"+5.2%",-1))])])]),Object(c["i"])("div",Zi,[t[8]||(t[8]=Object(c["i"])("h3",null,"Market Overview",-1)),Object(c["i"])("div",Xi,[Object(c["i"])("div",Yi,[t[5]||(t[5]=Object(c["i"])("span",{class:"stat-label"},"Total Market Value",-1)),Object(c["i"])("span",el,"$"+Object(c["H"])(s.formatNumber(s.stats.totalMarketValue)),1)]),Object(c["i"])("div",tl,[t[6]||(t[6]=Object(c["i"])("span",{class:"stat-label"},"Average Card Price",-1)),Object(c["i"])("span",al,"$"+Object(c["H"])(s.stats.avgCardPrice),1),t[7]||(t[7]=Object(c["i"])("span",{class:"stat-trend down"},"-2.1%",-1))])])]),Object(c["i"])("div",cl,[t[9]||(t[9]=Object(c["i"])("h3",null,"Most Popular Cards",-1)),Object(c["i"])("ol",sl,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.popularCards,e=>(Object(c["x"])(),Object(c["h"])("li",{key:e.id},[Object(c["i"])("div",il,[Object(c["i"])("img",{src:e.imageUrl,alt:e.name},null,8,ll),Object(c["i"])("div",null,[Object(c["i"])("h4",null,Object(c["H"])(e.name),1),Object(c["i"])("p",null,Object(c["H"])(e.count)+" collections",1)])]),Object(c["i"])("span",{class:Object(c["r"])(["trend",e.trend])},Object(c["H"])(e.change)+"%",3)]))),128))])]),Object(c["i"])("div",nl,[t[10]||(t[10]=Object(c["i"])("h3",null,"Recent Activity",-1)),Object(c["i"])("div",rl,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.recentActivity,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:"activity-item"},[Object(c["i"])("span",{class:"material-symbols-rounded",style:Object(c["s"])({color:e.color})},Object(c["H"])(e.icon),5),Object(c["i"])("div",ol,[Object(c["i"])("p",null,Object(c["H"])(e.description),1),Object(c["i"])("span",dl,Object(c["H"])(e.time),1)])]))),128))])])])])}var ul={name:"ReportsManager",setup(){const e=Object(c["A"])({activeUsers:1234,avgCollectionSize:156,totalMarketValue:25e5,avgCardPrice:45.99}),t=Object(c["A"])([{id:1,name:"Charizard VMAX",imageUrl:"/path/to/image",count:1560,trend:"up",change:"+15.2"}]),a=Object(c["A"])([{id:1,icon:"add_circle",color:"var(--system-green)",description:"New user registered",time:"5 minutes ago"}]),s=e=>(new Intl.NumberFormat).format(e);async function i(){}return Object(c["v"])(i),{stats:e,popularCards:t,recentActivity:a,formatNumber:s}}};a("c395");const Ol=te()(ul,[["render",bl],["__scopeId","data-v-df595634"]]);var jl=Ol;const ml={class:"settings-manager"},pl={class:"settings-grid"},hl={class:"settings-card"},vl={class:"settings-section"},gl={class:"setting-item"},fl={class:"switch"},yl={class:"setting-item"},kl={class:"switch"},wl={class:"setting-item"},Cl={class:"switch"},_l={class:"settings-card"},Sl={class:"settings-section"},xl={class:"setting-field"},Al={class:"input-group"},Ml=["type"],Pl={class:"material-symbols-rounded"},Hl={class:"setting-field"},Il={class:"setting-field"},Dl={class:"settings-card"},Ul={class:"settings-section"},Tl={class:"setting-field"},Nl={class:"settings-actions"},Fl=["disabled"];function ql(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",ml,[Object(c["i"])("div",pl,[Object(c["i"])("div",hl,[t[17]||(t[17]=Object(c["i"])("h3",null,"General Settings",-1)),Object(c["i"])("div",vl,[Object(c["i"])("div",gl,[t[12]||(t[12]=Object(c["i"])("div",{class:"setting-content"},[Object(c["i"])("h4",null,"Maintenance Mode"),Object(c["i"])("p",null,"Block access to the application")],-1)),Object(c["i"])("label",fl,[Object(c["P"])(Object(c["i"])("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>s.settings.maintenanceMode=e)},null,512),[[c["J"],s.settings.maintenanceMode]]),t[11]||(t[11]=Object(c["i"])("span",{class:"slider"},null,-1))])]),Object(c["i"])("div",yl,[t[14]||(t[14]=Object(c["i"])("div",{class:"setting-content"},[Object(c["i"])("h4",null,"User Registration"),Object(c["i"])("p",null,"Allow new users to register")],-1)),Object(c["i"])("label",kl,[Object(c["P"])(Object(c["i"])("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=e=>s.settings.allowRegistration=e)},null,512),[[c["J"],s.settings.allowRegistration]]),t[13]||(t[13]=Object(c["i"])("span",{class:"slider"},null,-1))])]),Object(c["i"])("div",wl,[t[16]||(t[16]=Object(c["i"])("div",{class:"setting-content"},[Object(c["i"])("h4",null,"Email Notifications"),Object(c["i"])("p",null,"Send emails for important updates")],-1)),Object(c["i"])("label",Cl,[Object(c["P"])(Object(c["i"])("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=e=>s.settings.emailNotifications=e)},null,512),[[c["J"],s.settings.emailNotifications]]),t[15]||(t[15]=Object(c["i"])("span",{class:"slider"},null,-1))])])])]),Object(c["i"])("div",_l,[t[22]||(t[22]=Object(c["i"])("h3",null,"API Configuration",-1)),Object(c["i"])("div",Sl,[Object(c["i"])("div",xl,[t[18]||(t[18]=Object(c["i"])("label",null,"API Key",-1)),Object(c["i"])("div",Al,[Object(c["P"])(Object(c["i"])("input",{type:s.showApiKey?"text":"password","onUpdate:modelValue":t[3]||(t[3]=e=>s.settings.apiKey=e)},null,8,Ml),[[c["K"],s.settings.apiKey]]),Object(c["i"])("button",{onClick:t[4]||(t[4]=e=>s.showApiKey=!s.showApiKey),class:"icon-button"},[Object(c["i"])("span",Pl,Object(c["H"])(s.showApiKey?"visibility_off":"visibility"),1)])])]),Object(c["i"])("div",Hl,[t[19]||(t[19]=Object(c["i"])("label",null,"Rate Limit (requests/minute)",-1)),Object(c["P"])(Object(c["i"])("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=e=>s.settings.rateLimit=e),min:"1",max:"1000"},null,512),[[c["M"],s.settings.rateLimit]])]),Object(c["i"])("div",Il,[t[21]||(t[21]=Object(c["i"])("label",null,"API Version",-1)),Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>s.settings.apiVersion=e)},t[20]||(t[20]=[Object(c["i"])("option",{value:"v1"},"Version 1.0",-1),Object(c["i"])("option",{value:"v2"},"Version 2.0",-1)]),512),[[c["L"],s.settings.apiVersion]])])])]),Object(c["i"])("div",Dl,[t[25]||(t[25]=Object(c["i"])("h3",null,"Cache Settings",-1)),Object(c["i"])("div",Ul,[Object(c["i"])("div",Tl,[t[23]||(t[23]=Object(c["i"])("label",null,"Cache Duration (minutes)",-1)),Object(c["P"])(Object(c["i"])("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=e=>s.settings.cacheDuration=e),min:"5",max:"1440"},null,512),[[c["M"],s.settings.cacheDuration]])]),Object(c["i"])("button",{onClick:t[8]||(t[8]=(...e)=>s.clearCache&&s.clearCache(...e)),class:"action-button"},t[24]||(t[24]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"delete",-1),Object(c["k"])(" Clear Cache ")]))])])]),Object(c["i"])("div",Nl,[Object(c["i"])("button",{class:"secondary",onClick:t[9]||(t[9]=(...e)=>s.resetSettings&&s.resetSettings(...e))},"Reset to Defaults"),Object(c["i"])("button",{class:"primary",onClick:t[10]||(t[10]=(...e)=>s.saveSettings&&s.saveSettings(...e)),disabled:s.isSaving},Object(c["H"])(s.isSaving?"Saving...":"Save Changes"),9,Fl)])])}var Rl={name:"SettingsManager",setup(){const e=Object(c["A"])({maintenanceMode:!1,allowRegistration:!0,emailNotifications:!1,apiKey:"",rateLimit:100,apiVersion:"v1",cacheDuration:60}),t=Object(c["A"])(!1),a=Object(c["A"])(!1);async function s(){const{data:t}=await X["a"].from("app_settings").select("*").single();t&&(e.value={...e.value,...t})}async function i(){a.value=!0,await X["a"].from("app_settings").upsert(e.value),a.value=!1}async function l(){}function n(){e.value={maintenanceMode:!1,allowRegistration:!0,emailNotifications:!1,apiKey:"",rateLimit:100,apiVersion:"v1",cacheDuration:60}}return Object(c["v"])(s),{settings:e,showApiKey:t,isSaving:a,saveSettings:i,clearCache:l,resetSettings:n}}};a("5121");const El=te()(Rl,[["render",ql],["__scopeId","data-v-573dd3cd"]]);var Ll=El;const Vl={class:"store-manager"},Wl={class:"stats-grid"},Bl={class:"stat-card"},$l={class:"stat-value"},zl={key:0,class:"stat-trend up"},Ql={class:"stat-card"},Jl={class:"stat-value"},Gl={key:0,class:"stat-card warning"},Kl={class:"stat-value"},Zl={class:"stat-action"},Xl={class:"actions-bar"},Yl={class:"search-box"},en={class:"action-buttons"},tn={key:0,class:"bulk-actions-bar"},an={class:"selection-info"},cn={class:"bulk-actions"},sn={class:"products-table"},ln=["checked"],nn=["value"],rn={class:"product-cell"},on=["src","alt"],dn={class:"product-info"},bn={key:0},un={class:"actions-cell"},On=["onClick"],jn=["onClick"],mn=["onClick"],pn={class:"material-symbols-rounded"},hn={class:"delete-confirmation"},vn={key:0},gn={key:1},fn={class:"modal-actions"};function yn(e,t,a,s,i,l){const n=Object(c["D"])("ProductForm"),r=Object(c["D"])("Modal"),o=Object(c["D"])("StockAdjustmentForm");return Object(c["x"])(),Object(c["h"])("div",Vl,[Object(c["i"])("div",Wl,[Object(c["i"])("div",Bl,[t[10]||(t[10]=Object(c["i"])("h3",null,"Total Products",-1)),Object(c["i"])("p",$l,Object(c["H"])(s.stats.totalProducts),1),s.stats.productTrend>0?(Object(c["x"])(),Object(c["h"])("div",zl," +"+Object(c["H"])(s.stats.productTrend)+"% from last month ",1)):Object(c["g"])("",!0)]),Object(c["i"])("div",Ql,[t[11]||(t[11]=Object(c["i"])("h3",null,"Total Sales",-1)),Object(c["i"])("p",Jl,"$"+Object(c["H"])(s.stats.totalSales),1),Object(c["i"])("div",{class:Object(c["r"])(["stat-trend",s.stats.salesTrend>0?"up":"down"])},Object(c["H"])(s.stats.salesTrend>0?"+":"")+Object(c["H"])(s.stats.salesTrend)+"% from last month ",3)]),s.stats.lowStock>0?(Object(c["x"])(),Object(c["h"])("div",Gl,[t[12]||(t[12]=Object(c["i"])("h3",null,"Low Stock Items",-1)),Object(c["i"])("p",Kl,Object(c["H"])(s.stats.lowStock),1),Object(c["i"])("div",Zl,[Object(c["i"])("button",{onClick:t[0]||(t[0]=(...t)=>e.showLowStock&&e.showLowStock(...t))},"View Items")])])):Object(c["g"])("",!0)]),Object(c["i"])("div",Xl,[Object(c["i"])("div",Yl,[t[13]||(t[13]=Object(c["i"])("span",{class:"material-symbols-rounded"},"search",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.search=e),type:"text",placeholder:"Search products..."},null,512),[[c["M"],s.search]])]),Object(c["i"])("div",en,[Object(c["i"])("button",{class:"secondary",onClick:t[2]||(t[2]=(...e)=>s.syncWithApi&&s.syncWithApi(...e))},t[14]||(t[14]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"sync",-1),Object(c["k"])(" Sync with API ")])),Object(c["i"])("button",{class:"primary",onClick:t[3]||(t[3]=e=>s.showAddProduct=!0)},t[15]||(t[15]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"add",-1),Object(c["k"])(" Add Product ")]))])]),s.selectedProducts.length>0?(Object(c["x"])(),Object(c["h"])("div",tn,[Object(c["i"])("div",an,Object(c["H"])(s.selectedProducts.length)+" items selected ",1),Object(c["i"])("div",cn,[Object(c["i"])("button",{class:"danger",onClick:t[4]||(t[4]=(...e)=>s.confirmDeleteSelected&&s.confirmDeleteSelected(...e))},t[16]||(t[16]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"delete",-1),Object(c["k"])(" Delete Selected ")]))])])):Object(c["g"])("",!0),Object(c["i"])("div",sn,[Object(c["i"])("table",null,[Object(c["i"])("thead",null,[Object(c["i"])("tr",null,[Object(c["i"])("th",null,[Object(c["i"])("input",{type:"checkbox",checked:s.isAllSelected,onChange:t[5]||(t[5]=(...e)=>s.toggleSelectAll&&s.toggleSelectAll(...e))},null,40,ln)]),t[17]||(t[17]=Object(c["i"])("th",null,"Product",-1)),t[18]||(t[18]=Object(c["i"])("th",null,"Type",-1)),t[19]||(t[19]=Object(c["i"])("th",null,"CMP",-1)),t[20]||(t[20]=Object(c["i"])("th",null,"CSP",-1)),t[21]||(t[21]=Object(c["i"])("th",null,"Stock",-1)),t[22]||(t[22]=Object(c["i"])("th",null,"Status",-1)),t[23]||(t[23]=Object(c["i"])("th",null,"Actions",-1))])]),Object(c["i"])("tbody",null,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.filteredProducts,e=>(Object(c["x"])(),Object(c["h"])("tr",{key:e.id},[Object(c["i"])("td",null,[Object(c["P"])(Object(c["i"])("input",{type:"checkbox",value:e.id,"onUpdate:modelValue":t[6]||(t[6]=e=>s.selectedProducts=e)},null,8,nn),[[c["J"],s.selectedProducts]])]),Object(c["i"])("td",rn,[Object(c["i"])("img",{src:e.image_url,alt:e.name},null,8,on),Object(c["i"])("div",dn,[Object(c["i"])("h4",null,Object(c["H"])(e.name),1),e.metadata&&e.metadata.set?(Object(c["x"])(),Object(c["h"])("p",bn,Object(c["H"])(e.metadata.set.name),1)):Object(c["g"])("",!0)])]),Object(c["i"])("td",null,Object(c["H"])(e.type),1),Object(c["i"])("td",null,"$"+Object(c["H"])(s.getMarketPrice(e)),1),Object(c["i"])("td",null,"$"+Object(c["H"])(e.price),1),Object(c["i"])("td",{class:Object(c["r"])({"low-stock":e.stock<5})},Object(c["H"])(e.stock),3),Object(c["i"])("td",null,[Object(c["i"])("span",{class:Object(c["r"])(["status-badge",e.active?"active":"inactive"])},Object(c["H"])(e.active?"Active":"Inactive"),3)]),Object(c["i"])("td",un,[Object(c["i"])("button",{class:"icon-button",onClick:t=>s.editProduct(e)},t[24]||(t[24]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"edit",-1)]),8,On),Object(c["i"])("button",{class:"icon-button",onClick:t=>s.adjustStock(e)},t[25]||(t[25]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"inventory",-1)]),8,jn),Object(c["i"])("button",{class:"icon-button",onClick:t=>s.toggleProductStatus(e)},[Object(c["i"])("span",pn,Object(c["H"])(e.active?"visibility":"visibility_off"),1)],8,mn)])]))),128))])])]),s.showAddProduct?(Object(c["x"])(),Object(c["f"])(r,{key:1,onClose:s.closeAddModal},{header:Object(c["O"])(()=>[Object(c["i"])("h2",null,Object(c["H"])(s.editingProduct?"Edit Product":"Add Product"),1)]),default:Object(c["O"])(()=>[Object(c["l"])(n,{product:s.editingProduct,onSave:s.saveProduct,onCancel:s.closeAddModal},null,8,["product","onSave","onCancel"])]),_:1},8,["onClose"])):Object(c["g"])("",!0),s.showStockModal?(Object(c["x"])(),Object(c["f"])(r,{key:2,onClose:s.closeStockModal},{header:Object(c["O"])(()=>t[26]||(t[26]=[Object(c["i"])("h2",null,"Adjust Stock",-1)])),default:Object(c["O"])(()=>[Object(c["l"])(o,{product:s.selectedProduct,onSave:s.updateStock,onCancel:s.closeStockModal},null,8,["product","onSave","onCancel"])]),_:1},8,["onClose"])):Object(c["g"])("",!0),s.showDeleteModal?(Object(c["x"])(),Object(c["f"])(r,{key:3,onClose:t[9]||(t[9]=e=>s.showDeleteModal=!1)},{header:Object(c["O"])(()=>t[27]||(t[27]=[Object(c["i"])("h2",null,"Confirm Delete",-1)])),default:Object(c["O"])(()=>[Object(c["i"])("div",hn,[s.selectedProducts.length===s.filteredProducts.length?(Object(c["x"])(),Object(c["h"])("p",vn," Are you sure you want to delete all products? ")):(Object(c["x"])(),Object(c["h"])("p",gn," Are you sure you want to delete "+Object(c["H"])(s.selectedProducts.length)+" selected products? ",1)),t[28]||(t[28]=Object(c["i"])("div",{class:"warning"},[Object(c["i"])("span",{class:"material-symbols-rounded"},"warning"),Object(c["k"])(" This action cannot be undone. ")],-1)),Object(c["i"])("div",fn,[Object(c["i"])("button",{class:"secondary",onClick:t[7]||(t[7]=e=>s.showDeleteModal=!1)}," Cancel "),Object(c["i"])("button",{class:"danger",onClick:t[8]||(t[8]=(...e)=>s.deleteSelected&&s.deleteSelected(...e))}," Delete ")])])]),_:1})):Object(c["g"])("",!0)])}const kn={class:"product-form-container"},wn={key:0,class:"mode-selection"},Cn={key:1,class:"search-mode"},_n={class:"search-container"},Sn={class:"search-box"},xn=["disabled"],An={key:0,class:"search-loading"},Mn={key:1,class:"search-error"},Pn={key:2,class:"no-results"},Hn={key:3,class:"search-results"},In=["onClick"],Dn={class:"card-image"},Un=["src","alt"],Tn={class:"card-info"},Nn={class:"card-meta"},Fn={class:"set-name"},qn={key:0,class:"price-info"},Rn={key:0,class:"load-more"},En=["disabled"],Ln={key:0,class:"loading-spinner small"},Vn={key:1},Wn={class:"form-section"},Bn={class:"form-group"},$n={class:"form-group"},zn={class:"form-group"},Qn={class:"form-group"},Jn={class:"form-group"},Gn={class:"form-group"},Kn={class:"form-group"},Zn={class:"checkbox-label"},Xn={class:"form-actions"},Yn={type:"submit",class:"primary"};function er(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",kn,[s.selectedMode||a.product?"search"===s.selectedMode?(Object(c["x"])(),Object(c["h"])("div",Cn,[Object(c["i"])("button",{class:"back-button",onClick:t[2]||(t[2]=e=>s.selectedMode=null)},t[20]||(t[20]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"arrow_back",-1),Object(c["k"])(" Back to selection ")])),Object(c["i"])("div",_n,[Object(c["i"])("div",Sn,[t[22]||(t[22]=Object(c["i"])("span",{class:"material-symbols-rounded"},"search",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.searchQuery=e),type:"text",placeholder:"Search by name, set, or number...",onInput:t[4]||(t[4]=(...e)=>s.debouncedSearch&&s.debouncedSearch(...e)),ref:"searchInput",disabled:s.isSearching},null,40,xn),[[c["M"],s.searchQuery]]),s.searchQuery?(Object(c["x"])(),Object(c["h"])("div",{key:0,class:"search-clear",onClick:t[5]||(t[5]=(...e)=>s.clearSearch&&s.clearSearch(...e))},t[21]||(t[21]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1)]))):Object(c["g"])("",!0)])]),s.isSearching?(Object(c["x"])(),Object(c["h"])("div",An,t[23]||(t[23]=[Object(c["i"])("div",{class:"loading-spinner"},null,-1),Object(c["i"])("p",null,"Searching cards...",-1)]))):Object(c["g"])("",!0),s.searchError?(Object(c["x"])(),Object(c["h"])("div",Mn,[t[24]||(t[24]=Object(c["i"])("span",{class:"material-symbols-rounded"},"error",-1)),t[25]||(t[25]=Object(c["i"])("h3",null,"Error searching cards",-1)),Object(c["i"])("p",null,Object(c["H"])(s.searchError),1),Object(c["i"])("button",{onClick:t[6]||(t[6]=(...e)=>s.retrySearch&&s.retrySearch(...e)),class:"retry-button"}," Try Again ")])):!s.searchQuery||s.isSearching||s.searchResults.length?s.searchResults.length?(Object(c["x"])(),Object(c["h"])("div",Hn,[Object(c["l"])(c["c"],{name:"card-result"},{default:Object(c["O"])(()=>[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.searchResults,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:"card-result",onClick:t=>s.selectCard(e)},[Object(c["i"])("div",Dn,[Object(c["i"])("img",{src:e.images.small,alt:e.name,loading:"lazy"},null,8,Un),t[27]||(t[27]=Object(c["i"])("div",{class:"quick-actions"},[Object(c["i"])("button",{class:"select-button"},[Object(c["i"])("span",{class:"material-symbols-rounded"},"add"),Object(c["k"])(" Select ")])],-1))]),Object(c["i"])("div",Tn,[Object(c["i"])("h4",null,Object(c["H"])(e.name),1),Object(c["i"])("div",Nn,[Object(c["i"])("span",Fn,Object(c["H"])(e.set.name),1),Object(c["i"])("span",{class:Object(c["r"])(["rarity",s.getRarityClass(e.rarity)])},Object(c["H"])(e.rarity),3)]),s.getCardPrice(e)?(Object(c["x"])(),Object(c["h"])("div",qn,[t[28]||(t[28]=Object(c["i"])("span",{class:"material-symbols-rounded"},"payments",-1)),Object(c["k"])(" $"+Object(c["H"])(s.getCardPrice(e)),1)])):Object(c["g"])("",!0)])],8,In))),128))]),_:1}),s.hasMoreResults?(Object(c["x"])(),Object(c["h"])("div",Rn,[Object(c["i"])("button",{onClick:t[7]||(t[7]=(...e)=>s.loadMoreResults&&s.loadMoreResults(...e)),disabled:s.isLoadingMore,class:"load-more-button"},[s.isLoadingMore?(Object(c["x"])(),Object(c["h"])("span",Ln)):(Object(c["x"])(),Object(c["h"])("span",Vn,"Load More Results"))],8,En)])):Object(c["g"])("",!0)])):Object(c["g"])("",!0):(Object(c["x"])(),Object(c["h"])("div",Pn,t[26]||(t[26]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"search_off",-1),Object(c["i"])("h3",null,"No cards found",-1),Object(c["i"])("p",null,"Try:",-1),Object(c["i"])("ul",{class:"search-tips"},[Object(c["i"])("li",null,'Using the full card name (e.g., "Pikachu V")'),Object(c["i"])("li",null,"Checking for typos"),Object(c["i"])("li",null,"Using fewer keywords"),Object(c["i"])("li",null,"Searching by set name")],-1)])))])):(Object(c["x"])(),Object(c["h"])("form",{key:2,onSubmit:t[17]||(t[17]=Object(c["R"])((...e)=>s.handleSubmit&&s.handleSubmit(...e),["prevent"])),class:"product-form"},[a.product||"manual"!==s.selectedMode?Object(c["g"])("",!0):(Object(c["x"])(),Object(c["h"])("button",{key:0,class:"back-button",onClick:t[8]||(t[8]=e=>s.selectedMode=null)},t[29]||(t[29]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"arrow_back",-1),Object(c["k"])(" Back to selection ")]))),Object(c["i"])("div",Wn,[Object(c["i"])("div",Bn,[t[30]||(t[30]=Object(c["i"])("label",null,"Name *",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>s.form.name=e),type:"text",required:"",placeholder:"Enter product name"},null,512),[[c["M"],s.form.name]])]),Object(c["i"])("div",$n,[t[32]||(t[32]=Object(c["i"])("label",null,"Type *",-1)),Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[10]||(t[10]=e=>s.form.type=e),required:""},t[31]||(t[31]=[Object(c["i"])("option",{value:"single"},"Single Card",-1),Object(c["i"])("option",{value:"booster"},"Booster Pack",-1),Object(c["i"])("option",{value:"set"},"Card Set",-1)]),512),[[c["L"],s.form.type]])]),Object(c["i"])("div",zn,[t[33]||(t[33]=Object(c["i"])("label",null,"Price ($) *",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>s.form.price=e),type:"number",step:"0.01",min:"0",required:""},null,512),[[c["M"],s.form.price,void 0,{number:!0}]])]),Object(c["i"])("div",Qn,[t[34]||(t[34]=Object(c["i"])("label",null,"Stock *",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>s.form.stock=e),type:"number",min:"0",required:""},null,512),[[c["M"],s.form.stock,void 0,{number:!0}]])]),Object(c["i"])("div",Jn,[t[35]||(t[35]=Object(c["i"])("label",null,"Image URL",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[13]||(t[13]=e=>s.form.image_url=e),type:"url",placeholder:"https://..."},null,512),[[c["M"],s.form.image_url]])]),Object(c["i"])("div",Gn,[t[36]||(t[36]=Object(c["i"])("label",null,"Description",-1)),Object(c["P"])(Object(c["i"])("textarea",{"onUpdate:modelValue":t[14]||(t[14]=e=>s.form.description=e),rows:"3",placeholder:"Enter product description"},null,512),[[c["M"],s.form.description]])]),Object(c["i"])("div",Kn,[Object(c["i"])("label",Zn,[Object(c["P"])(Object(c["i"])("input",{type:"checkbox","onUpdate:modelValue":t[15]||(t[15]=e=>s.form.active=e)},null,512),[[c["J"],s.form.active]]),t[37]||(t[37]=Object(c["k"])(" Active (available for purchase) "))])])]),Object(c["i"])("div",Xn,[Object(c["i"])("button",{type:"button",class:"secondary",onClick:t[16]||(t[16]=t=>e.$emit("cancel"))}," Cancel "),Object(c["i"])("button",Yn,Object(c["H"])(a.product?"Update Product":"Create Product"),1)])],32)):(Object(c["x"])(),Object(c["h"])("div",wn,[Object(c["i"])("button",{class:"mode-button",onClick:t[0]||(t[0]=e=>s.selectedMode="manual")},t[18]||(t[18]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"edit_note",-1),Object(c["i"])("h3",null,"Create Product from Scratch",-1),Object(c["i"])("p",null,"Manually enter all product details",-1)])),Object(c["i"])("button",{class:"mode-button",onClick:t[1]||(t[1]=e=>s.selectedMode="search")},t[19]||(t[19]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"search",-1),Object(c["i"])("h3",null,"Search and Add Product",-1),Object(c["i"])("p",null,"Search Pokemon TCG database to auto-fill details",-1)]))]))])}var tr=a("cee4");const ar="0c4b0264-73d6-4ada-8edf-ef3ec5db80ea",cr="https://api.pokemontcg.io/v2",sr=tr["a"].create({baseURL:cr,headers:{"X-Api-Key":ar}}),ir={async searchCards({q:e,page:t=1,pageSize:a=20}){try{const c=await sr.get("/cards",{params:{q:`name:${e}*`,page:t,pageSize:a,orderBy:"name",select:"id,name,images,types,rarity,cardmarket,set,flavorText"}});if(!c.data||!c.data.data)throw new Error("Invalid API response format");return{data:c.data.data,hasMore:c.data.totalCount>t*a,total:c.data.totalCount}}catch(c){if(c.response&&401===c.response.status)throw new Error("Invalid API key. Please check your configuration.");if(c.response&&429===c.response.status)throw new Error("Rate limit exceeded. Please try again later.");throw console.error("Pokemon TCG API Error:",c),new Error("Failed to fetch cards. Please try again.")}}};var lr=a("b047"),nr=a.n(lr),rr={name:"ProductForm",props:{product:{type:Object,default:null}},emits:["save","cancel"],setup(e,{emit:t}){const a=Object(c["A"])(null),s=Object(c["A"])(""),i=Object(c["A"])([]),l=Object(c["A"])(!1),n=Object(c["A"])(!1),r=Object(c["A"])({name:"",type:"single",price:0,stock:0,image_url:"",description:"",active:!0,metadata:{},...e.product||{}}),o=Object(c["A"])(1),d=Object(c["A"])(!1),b=Object(c["A"])(!1),u=Object(c["A"])(null),O=Object(c["A"])(null),j=nr()(async()=>{o.value=1,await m()},500);async function m(){if(!s.value||s.value.length<2)i.value=[];else{l.value=!0,O.value=null;try{const e=await ir.searchCards({q:s.value,page:o.value,pageSize:20});1===o.value?i.value=e.data:i.value=[...i.value,...e.data],d.value=e.hasMore,0===i.value.length&&(O.value="No cards found matching your search.")}catch(e){console.error("Search error:",e),O.value=e.message,i.value=[]}finally{l.value=!1}}}async function p(){b.value=!0,o.value++,await m(),b.value=!1}function h(){s.value="",i.value=[],o.value=1,d.value=!1,u.value&&u.value.focus()}function v(){O.value=null,m()}function g(e){return e.cardmarket&&e.cardmarket.prices&&e.cardmarket.prices.averageSellPrice?e.cardmarket.prices.averageSellPrice.toFixed(2):null}function f(e){return e?e.toLowerCase():""}function y(e){const t=g(e)||0;console.log("Selected card:",e),console.log("Card price:",t),r.value={name:e.name,type:"single",price:parseFloat(t),stock:0,image_url:e.images.large,description:e.flavorText||"",active:!0,tcg_id:e.id,metadata:{set:e.set,rarity:e.rarity,number:e.number,artist:e.artist}},console.log("Updated form:",r.value),a.value="manual"}async function k(){if(!n.value){n.value=!0;try{const c={...r.value,price:parseFloat(r.value.price)||0,stock:parseInt(r.value.stock)||0};console.log("Submitting product data:",c),await t("save",c),e.product||(r.value={name:"",type:"single",price:0,stock:0,image_url:"",description:"",active:!0,metadata:{}},a.value=null)}catch(c){console.error("Error submitting form:",c),alert("Failed to save product: "+c.message)}finally{n.value=!1}}}return Object(c["v"])(()=>{"search"===a.value&&u.value&&u.value.focus()}),{selectedMode:a,searchQuery:s,searchResults:i,isSearching:l,form:r,isSubmitting:n,handleSubmit:k,getCardPrice:g,hasMoreResults:d,isLoadingMore:b,searchInput:u,debouncedSearch:j,loadMoreResults:p,clearSearch:h,getRarityClass:f,searchError:O,retrySearch:v,selectCard:y}}};a("9359");const or=te()(rr,[["render",er],["__scopeId","data-v-d40ffdc6"]]);var dr=or;const br={class:"form-section"},ur={class:"product-info"},Or=["src","alt"],jr={class:"form-group"},mr={class:"adjustment-input"},pr=["disabled"],hr={class:"form-group"},vr={key:0,class:"form-group"},gr={class:"form-actions"},fr=["disabled"];function yr(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("form",{onSubmit:t[6]||(t[6]=Object(c["R"])((...e)=>s.handleSubmit&&s.handleSubmit(...e),["prevent"])),class:"stock-form"},[Object(c["i"])("div",br,[Object(c["i"])("div",ur,[Object(c["i"])("img",{src:a.product.image_url,alt:a.product.name},null,8,Or),Object(c["i"])("div",null,[Object(c["i"])("h3",null,Object(c["H"])(a.product.name),1),Object(c["i"])("p",null,"Current Stock: "+Object(c["H"])(a.product.stock),1)])]),Object(c["i"])("div",jr,[t[7]||(t[7]=Object(c["i"])("label",null,"Adjustment *",-1)),Object(c["i"])("div",mr,[Object(c["i"])("button",{type:"button",class:"adjust-button",disabled:s.form.quantity<=-a.product.stock,onClick:t[0]||(t[0]=e=>s.form.quantity--)},"-",8,pr),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.form.quantity=e),type:"number",required:""},null,512),[[c["M"],s.form.quantity]]),Object(c["i"])("button",{type:"button",class:"adjust-button",onClick:t[2]||(t[2]=e=>s.form.quantity++)},"+")])]),Object(c["i"])("div",hr,[t[9]||(t[9]=Object(c["i"])("label",null,"Reason *",-1)),Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.form.reason=e),required:""},t[8]||(t[8]=[Object(c["i"])("option",{value:"restock"},"Restock",-1),Object(c["i"])("option",{value:"adjustment"},"Inventory Adjustment",-1),Object(c["i"])("option",{value:"damage"},"Damaged/Lost",-1),Object(c["i"])("option",{value:"other"},"Other",-1)]),512),[[c["L"],s.form.reason]])]),"other"===s.form.reason?(Object(c["x"])(),Object(c["h"])("div",vr,[t[10]||(t[10]=Object(c["i"])("label",null,"Specify Reason",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>s.form.customReason=e),type:"text",placeholder:"Enter reason",required:""},null,512),[[c["M"],s.form.customReason]])])):Object(c["g"])("",!0)]),Object(c["i"])("div",gr,[Object(c["i"])("button",{type:"button",class:"secondary",onClick:t[5]||(t[5]=t=>e.$emit("cancel"))}," Cancel "),Object(c["i"])("button",{type:"submit",class:"primary",disabled:s.isSubmitting},Object(c["H"])(s.isSubmitting?"Saving...":"Update Stock"),9,fr)])],32)}var kr={name:"StockAdjustmentForm",props:{product:{type:Object,required:!0}},emits:["save","cancel"],setup(e){const t=Object(c["A"])(!1),a=Object(c["A"])({quantity:0,reason:"restock",customReason:""});async function s(){t.value=!0;try{await this.$emit("save",{productId:e.product.id,quantity:a.value.quantity,reason:"other"===a.value.reason?a.value.customReason:a.value.reason})}finally{t.value=!1}}return{form:a,isSubmitting:t,handleSubmit:s}}};a("a3ba");const wr=te()(kr,[["render",yr],["__scopeId","data-v-5151e452"]]);var Cr=wr,_r={name:"StoreManager",components:{Modal:ii["a"],ProductForm:dr,StockAdjustmentForm:Cr},setup(){const e=Object(c["A"])(""),t=Object(c["A"])([]),a=Object(c["A"])(!1),s=Object(c["A"])(!1),i=Object(c["A"])(null),l=Object(c["A"])(null),n=Object(c["A"])({totalProducts:0,totalSales:0,lowStock:0,productTrend:0,salesTrend:0}),r=Object(c["A"])([]),o=Object(c["A"])(!1),d=Object(c["d"])(()=>{if(console.log("Filtering products:",t.value),!e.value)return t.value||[];const a=e.value.toLowerCase();return(t.value||[]).filter(e=>{const t=e.name&&e.name.toLowerCase().includes(a),c=e.type&&e.type.toLowerCase().includes(a);return t||c})}),b=Object(c["d"])(()=>d.value.length>0&&r.value.length===d.value.length);async function u(){try{const{data:e,error:a}=await X["a"].from("products").select("\n            id,\n            name,\n            description,\n            price,\n            stock,\n            type,\n            condition,\n            tcg_id,\n            image_url,\n            admin_id,\n            active,\n            metadata,\n            created_at,\n            updated_at\n          ").order("created_at",{ascending:!1});if(a)throw console.error("Database error:",a),a;console.log("Raw products data:",e),t.value=(e||[]).map(e=>({...e,price:parseFloat(e.price)||0,stock:parseInt(e.stock)||0,active:"boolean"!==typeof e.active||e.active,metadata:e.metadata||{},condition:e.condition||"New",type:e.type||"single"})),console.log("Transformed products:",t.value),p()}catch(e){console.error("Error fetching products:",e),alert("Failed to load products. Please try again.")}}function O(){return t.value.reduce((e,t)=>e+t.price*(t.total_sold||0),0).toFixed(2)}function j(){return 0}function m(){return 0}function p(){n.value={totalProducts:t.value.length,totalSales:O(),lowStock:t.value.filter(e=>e.stock<5).length,productTrend:j(),salesTrend:m()}}async function h(){try{const{data:e}=await Dt["a"].getCards();if(!e)throw new Error("No data received from API");const t=e.map(e=>{const t=e.cardmarket&&e.cardmarket.prices&&e.cardmarket.prices.averageSellPrice||0;return{name:e.name,type:"single",tcg_id:e.id,price:t,stock:0,image_url:e.images.large,active:!0,metadata:{set:e.set,rarity:e.rarity,number:e.number,artist:e.artist}}}),{error:a}=await X["a"].from("products").upsert(t,{onConflict:"tcg_id",ignoreDuplicates:!1});if(a)throw a;await u()}catch(e){console.error("Error syncing with API:",e),alert("Failed to sync products with API. Please try again.")}}async function v(e){try{const t={name:e.name,description:e.description||"",price:parseFloat(e.price)||0,stock:parseInt(e.stock)||0,type:e.type||"single",condition:e.condition||"New",tcg_id:e.tcg_id||null,image_url:e.image_url||"",active:"boolean"!==typeof e.active||e.active,metadata:e.metadata||{},updated_at:(new Date).toISOString()};if(console.log("Saving product with data:",t),i.value){const{data:e,error:a}=await X["a"].from("products").update(t).eq("id",i.value.id).select();if(a)throw a;console.log("Updated product:",e)}else{const{data:e,error:a}=await X["a"].from("products").insert([{...t,created_at:(new Date).toISOString()}]).select();if(a)throw a;console.log("Created product:",e)}await u(),g()}catch(t){console.error("Error saving product:",t),alert("Failed to save product: "+t.message)}}function g(){a.value=!1,i.value=null}function f(){s.value=!1,l.value=null}async function y({productId:e,quantity:t,reason:a}){await X["a"].from("stock_movements").insert({product_id:e,quantity:t,reason:a}),await u(),f()}function k(e){console.log("Editing product:",e),i.value={...e},a.value=!0}function w(e){console.log("Adjusting stock for:",e),l.value=e,s.value=!0}async function C(e){try{const{error:t}=await X["a"].from("products").update({active:!e.active}).eq("id",e.id);if(t)throw t;await u()}catch(t){console.error("Error toggling product status:",t),alert("Failed to update product status")}}function _(e){if(!e.metadata)return"0.00";const t=e.metadata.tcg_pricing&&e.metadata.tcg_pricing.market,a=e.metadata.cardmarket&&e.metadata.cardmarket.prices&&e.metadata.cardmarket.prices.averageSellPrice,c=t||a||0;return c.toFixed(2)}function S(e){e.target.checked?r.value=d.value.map(e=>e.id):r.value=[]}function x(){o.value=!0}async function A(){try{const{error:e}=await X["a"].from("products").delete().in("id",r.value);if(e)throw e;await u(),r.value=[],o.value=!1}catch(e){console.error("Error deleting products:",e),alert("Failed to delete products: "+e.message)}}return Object(c["v"])(()=>{console.log("StoreManager mounted"),u()}),u(),{search:e,filteredProducts:d,products:t,stats:n,showAddProduct:a,showStockModal:s,editingProduct:i,selectedProduct:l,syncWithApi:h,saveProduct:v,closeAddModal:g,closeStockModal:f,updateStock:y,calculateTotalSales:O,calculateProductTrend:j,calculateSalesTrend:m,editProduct:k,adjustStock:w,toggleProductStatus:C,getMarketPrice:_,selectedProducts:r,isAllSelected:b,showDeleteModal:o,toggleSelectAll:S,confirmDeleteSelected:x,deleteSelected:A}}};a("c63d");const Sr=te()(_r,[["render",yn],["__scopeId","data-v-4fe5c552"]]);var xr=Sr;const Ar={class:"order-manager"},Mr={class:"panel-header"},Pr={class:"filters"},Hr={class:"search-box"},Ir={class:"filter-group"},Dr=["value"],Ur={class:"stat-pills"},Tr={class:"stat-content"},Nr={class:"stat-content"},Fr={class:"stat-content"},qr={class:"stat-pill success"},Rr={class:"stat-content"},Er={key:0,class:"loading-overlay"},Lr={key:1,class:"data-table"},Vr={class:"customer-info"},Wr={class:"price"},Br=["onUpdate:modelValue","onChange"],$r=["value"],zr={class:"actions"},Qr=["onClick"],Jr=["onClick"],Gr={key:2,class:"empty-state"};function Kr(e,t,a,s,i,l){const n=Object(c["D"])("OrderDetails"),r=Object(c["D"])("Modal");return Object(c["x"])(),Object(c["h"])("div",Ar,[Object(c["i"])("div",Mr,[t[18]||(t[18]=Object(c["i"])("div",{class:"header-content"},[Object(c["i"])("h2",null,"Order Management"),Object(c["i"])("p",{class:"subtitle"},"Manage and track customer orders")],-1)),Object(c["i"])("div",Pr,[Object(c["i"])("div",Hr,[t[6]||(t[6]=Object(c["i"])("span",{class:"material-symbols-rounded"},"search",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.search=e),type:"text",placeholder:"Search by order ID, customer name or email..."},null,512),[[c["M"],s.search]])]),Object(c["i"])("div",Ir,[Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.statusFilter=e),class:"filter-select"},[t[7]||(t[7]=Object(c["i"])("option",{value:""},"All Statuses",-1)),(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.orderStatuses,e=>(Object(c["x"])(),Object(c["h"])("option",{key:e.value,value:e.value,class:Object(c["r"])(e.value)},Object(c["H"])(e.label),11,Dr))),128))],512),[[c["L"],s.statusFilter]]),Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>s.timeFilter=e),class:"filter-select"},t[8]||(t[8]=[Object(c["i"])("option",{value:"all"},"All Time",-1),Object(c["i"])("option",{value:"today"},"Today",-1),Object(c["i"])("option",{value:"week"},"This Week",-1),Object(c["i"])("option",{value:"month"},"This Month",-1)]),512),[[c["L"],s.timeFilter]]),Object(c["i"])("button",{class:"filter-button",onClick:t[3]||(t[3]=(...e)=>s.clearFilters&&s.clearFilters(...e))},t[9]||(t[9]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"filter_alt_off",-1),Object(c["k"])(" Clear Filters ")]))])]),Object(c["i"])("div",Ur,[Object(c["i"])("div",{class:Object(c["r"])(["stat-pill",{active:"pending"===s.statusFilter}])},[t[11]||(t[11]=Object(c["i"])("div",{class:"stat-icon"},[Object(c["i"])("span",{class:"material-symbols-rounded"},"schedule")],-1)),Object(c["i"])("div",Tr,[t[10]||(t[10]=Object(c["i"])("span",null,"Pending Orders",-1)),Object(c["i"])("strong",null,Object(c["H"])(s.pendingCount),1)])],2),Object(c["i"])("div",{class:Object(c["r"])(["stat-pill",{active:"approved"===s.statusFilter}])},[t[13]||(t[13]=Object(c["i"])("div",{class:"stat-icon"},[Object(c["i"])("span",{class:"material-symbols-rounded"},"check_circle")],-1)),Object(c["i"])("div",Nr,[t[12]||(t[12]=Object(c["i"])("span",null,"Approved",-1)),Object(c["i"])("strong",null,Object(c["H"])(s.approvedCount),1)])],2),Object(c["i"])("div",{class:Object(c["r"])(["stat-pill",{active:"preparing"===s.statusFilter}])},[t[15]||(t[15]=Object(c["i"])("div",{class:"stat-icon"},[Object(c["i"])("span",{class:"material-symbols-rounded"},"inventory")],-1)),Object(c["i"])("div",Fr,[t[14]||(t[14]=Object(c["i"])("span",null,"In Preparation",-1)),Object(c["i"])("strong",null,Object(c["H"])(s.preparingCount),1)])],2),Object(c["i"])("div",qr,[t[17]||(t[17]=Object(c["i"])("div",{class:"stat-icon"},[Object(c["i"])("span",{class:"material-symbols-rounded"},"payments")],-1)),Object(c["i"])("div",Rr,[t[16]||(t[16]=Object(c["i"])("span",null,"Total Revenue",-1)),Object(c["i"])("strong",null,"€"+Object(c["H"])(s.totalRevenue),1)])])])]),Object(c["i"])("div",{class:Object(c["r"])(["table-container",{"is-loading":s.isLoading}])},[s.isLoading?(Object(c["x"])(),Object(c["h"])("div",Er,t[19]||(t[19]=[Object(c["i"])("span",{class:"material-symbols-rounded spin"},"sync",-1),Object(c["k"])(" Loading orders... ")]))):(Object(c["x"])(),Object(c["h"])("table",Lr,[t[22]||(t[22]=Object(c["i"])("thead",null,[Object(c["i"])("tr",null,[Object(c["i"])("th",null,"Order ID"),Object(c["i"])("th",null,"Customer"),Object(c["i"])("th",null,"Items"),Object(c["i"])("th",null,"Total"),Object(c["i"])("th",null,"Status"),Object(c["i"])("th",null,"Date"),Object(c["i"])("th",null,"Actions")])],-1)),Object(c["i"])("tbody",null,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.filteredOrders,a=>(Object(c["x"])(),Object(c["h"])("tr",{key:a.id},[Object(c["i"])("td",null,"#"+Object(c["H"])(a.id.slice(0,8)),1),Object(c["i"])("td",null,[Object(c["i"])("div",Vr,[Object(c["i"])("span",null,Object(c["H"])(a.customer_name),1),Object(c["i"])("small",null,Object(c["H"])(a.customer_email),1)])]),Object(c["i"])("td",null,Object(c["H"])(a.items.length)+" items",1),Object(c["i"])("td",Wr,"€"+Object(c["H"])(s.formatPrice(a.total_amount)),1),Object(c["i"])("td",null,[Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":e=>a.status=e,onChange:e=>s.updateOrderStatus(a),class:Object(c["r"])(["status-select",a.status])},[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.orderStatuses,e=>(Object(c["x"])(),Object(c["h"])("option",{key:e.value,value:e.value},Object(c["H"])(e.label),9,$r))),128))],42,Br),[[c["L"],a.status]])]),Object(c["i"])("td",null,Object(c["H"])(s.formatDate(a.created_at)),1),Object(c["i"])("td",zr,[Object(c["i"])("button",{onClick:e=>s.viewOrderDetails(a),class:"icon-button"},t[20]||(t[20]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"visibility",-1)]),8,Qr),Object(c["i"])("button",{onClick:t=>e.downloadInvoice(a),class:"icon-button"},t[21]||(t[21]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"receipt_long",-1)]),8,Jr)])]))),128))])])),s.isLoading||0!==s.filteredOrders.length?Object(c["g"])("",!0):(Object(c["x"])(),Object(c["h"])("div",Gr,[t[23]||(t[23]=Object(c["i"])("span",{class:"material-symbols-rounded"},"inbox",-1)),t[24]||(t[24]=Object(c["i"])("h3",null,"No Orders Found",-1)),t[25]||(t[25]=Object(c["i"])("p",null,"Try adjusting your filters or search criteria",-1)),Object(c["i"])("button",{class:"action-button",onClick:t[4]||(t[4]=(...e)=>s.clearFilters&&s.clearFilters(...e))},"Clear Filters")]))],2),s.selectedOrder?(Object(c["x"])(),Object(c["f"])(r,{key:0,onClose:t[5]||(t[5]=e=>s.selectedOrder=null)},{header:Object(c["O"])(()=>[Object(c["i"])("h3",null,"Order Details #"+Object(c["H"])(s.selectedOrder.id.slice(0,8)),1)]),default:Object(c["O"])(()=>[Object(c["l"])(n,{order:s.selectedOrder,onUpdate:s.refreshOrders},null,8,["order","onUpdate"])]),_:1})):Object(c["g"])("",!0)])}const Zr={class:"order-details"},Xr={class:"detail-section"},Yr={class:"info-grid"},eo={class:"info-item"},to={class:"value"},ao={class:"info-item"},co={class:"value"},so={class:"detail-section"},io={class:"address-box"},lo={class:"detail-section"},no={class:"items-list"},ro={class:"item-image"},oo=["src","alt"],bo={key:1,class:"image-placeholder"},uo={class:"item-info"},Oo={class:"item-meta"},jo={class:"quantity"},mo={class:"price"},po={class:"item-total"},ho={class:"detail-section"},vo={class:"summary-box"},go={class:"summary-row"},fo={class:"summary-row total"},yo={class:"detail-section"},ko={class:"status-timeline"},wo={class:"timeline-content"},Co={class:"status"},_o={class:"date"},So={class:"actions-bar"},xo=["disabled"];function Ao(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",Zr,[Object(c["i"])("section",Xr,[t[5]||(t[5]=Object(c["i"])("h4",null,"Customer Information",-1)),Object(c["i"])("div",Yr,[Object(c["i"])("div",eo,[t[3]||(t[3]=Object(c["i"])("span",{class:"label"},"Name",-1)),Object(c["i"])("span",to,Object(c["H"])(a.order.customer_name),1)]),Object(c["i"])("div",ao,[t[4]||(t[4]=Object(c["i"])("span",{class:"label"},"Email",-1)),Object(c["i"])("span",co,Object(c["H"])(a.order.customer_email),1)])])]),Object(c["i"])("section",so,[t[6]||(t[6]=Object(c["i"])("h4",null,"Shipping Address",-1)),Object(c["i"])("div",io,[Object(c["i"])("p",null,Object(c["H"])(a.order.shipping_address.first_name)+" "+Object(c["H"])(a.order.shipping_address.last_name),1),Object(c["i"])("p",null,Object(c["H"])(a.order.shipping_address.address),1),Object(c["i"])("p",null,Object(c["H"])(a.order.shipping_address.postal_code)+" "+Object(c["H"])(a.order.shipping_address.city),1),Object(c["i"])("p",null,Object(c["H"])(a.order.shipping_address.country),1)])]),Object(c["i"])("section",lo,[t[8]||(t[8]=Object(c["i"])("h4",null,"Order Items",-1)),Object(c["i"])("div",no,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(a.order.items,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:"order-item"},[Object(c["i"])("div",ro,[e.image_url?(Object(c["x"])(),Object(c["h"])("img",{key:0,src:e.image_url,alt:e.name},null,8,oo)):(Object(c["x"])(),Object(c["h"])("div",bo,t[7]||(t[7]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"image",-1)])))]),Object(c["i"])("div",uo,[Object(c["i"])("h5",null,Object(c["H"])(e.name),1),Object(c["i"])("div",Oo,[Object(c["i"])("span",jo,Object(c["H"])(e.quantity)+"x",1),Object(c["i"])("span",mo,"€"+Object(c["H"])(s.formatPrice(e.price)),1)])]),Object(c["i"])("div",po," €"+Object(c["H"])(s.formatPrice(e.price*e.quantity)),1)]))),128))])]),Object(c["i"])("section",ho,[t[12]||(t[12]=Object(c["i"])("h4",null,"Order Summary",-1)),Object(c["i"])("div",vo,[Object(c["i"])("div",go,[t[9]||(t[9]=Object(c["i"])("span",null,"Subtotal",-1)),Object(c["i"])("span",null,"€"+Object(c["H"])(s.formatPrice(a.order.total_amount)),1)]),t[11]||(t[11]=Object(c["i"])("div",{class:"summary-row"},[Object(c["i"])("span",null,"Shipping"),Object(c["i"])("span",null,"Free")],-1)),Object(c["i"])("div",fo,[t[10]||(t[10]=Object(c["i"])("span",null,"Total",-1)),Object(c["i"])("span",null,"€"+Object(c["H"])(s.formatPrice(a.order.total_amount)),1)])])]),Object(c["i"])("section",yo,[t[13]||(t[13]=Object(c["i"])("h4",null,"Status History",-1)),Object(c["i"])("div",ko,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(a.order.status_history,(e,t)=>(Object(c["x"])(),Object(c["h"])("div",{key:t,class:"timeline-item"},[Object(c["i"])("div",{class:Object(c["r"])(["timeline-dot",e.status])},null,2),Object(c["i"])("div",wo,[Object(c["i"])("span",Co,Object(c["H"])(e.status),1),Object(c["i"])("span",_o,Object(c["H"])(s.formatDate(e.timestamp)),1)])]))),128))])]),Object(c["i"])("div",So,[Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.newStatus=e),class:"status-select"},t[14]||(t[14]=[Object(c["j"])('<option value="" data-v-f07f3e98>Update Status</option><option value="processing" data-v-f07f3e98>Mark as Processing</option><option value="shipped" data-v-f07f3e98>Mark as Shipped</option><option value="delivered" data-v-f07f3e98>Mark as Delivered</option><option value="cancelled" data-v-f07f3e98>Cancel Order</option>',5)]),512),[[c["L"],s.newStatus]]),Object(c["i"])("button",{onClick:t[1]||(t[1]=(...e)=>s.updateStatus&&s.updateStatus(...e)),class:"action-button",disabled:!s.newStatus}," Update Status ",8,xo),Object(c["i"])("button",{onClick:t[2]||(t[2]=(...e)=>s.downloadInvoice&&s.downloadInvoice(...e)),class:"action-button secondary"},t[15]||(t[15]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"receipt_long",-1),Object(c["k"])(" Download Invoice ")]))])])}var Mo={name:"OrderDetails",props:{order:{type:Object,required:!0}},emits:["update"],setup(e,{emit:t}){const a=Object(c["A"])(""),s=e=>Number(e).toFixed(2),i=e=>new Date(e).toLocaleString(),l=async()=>{if(a.value)try{const{error:c}=await X["a"].from("orders").update({status:a.value,status_history:[...e.order.status_history||[],{status:a.value,timestamp:new Date}]}).eq("id",e.order.id);if(c)throw c;ne.success("Order status updated"),t("update")}catch(c){console.error("Error updating order:",c),ne.error("Failed to update order status")}},n=()=>{console.log("Downloading invoice for order:",e.order.id)};return{newStatus:a,formatPrice:s,formatDate:i,updateStatus:l,downloadInvoice:n}}};a("2161");const Po=te()(Mo,[["render",Ao],["__scopeId","data-v-f07f3e98"]]);var Ho=Po,Io={name:"OrderManager",components:{Modal:ii["a"],OrderDetails:Ho},setup(){const e=Object(c["A"])([]),t=Object(c["A"])(""),a=Object(c["A"])(""),s=Object(c["A"])("all"),i=Object(c["A"])(null),l=Object(c["A"])(!1),n=[{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"},{value:"paid",label:"Paid"},{value:"preparing",label:"Preparing"},{value:"waiting_for_shipping",label:"Ready to Ship"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"}],r=Object(c["d"])(()=>{let c=e.value;if(t.value){const e=t.value.toLowerCase();c=c.filter(t=>t.id.toLowerCase().includes(e)||t.customer_name.toLowerCase().includes(e)||t.customer_email.toLowerCase().includes(e))}a.value&&(c=c.filter(e=>e.status===a.value));const i=new Date;switch(s.value){case"today":c=c.filter(e=>new Date(e.created_at).toDateString()===i.toDateString());break;case"week":const e=new Date(i.setDate(i.getDate()-7));c=c.filter(t=>new Date(t.created_at)>=e);break;case"month":const t=new Date(i.setMonth(i.getMonth()-1));c=c.filter(e=>new Date(e.created_at)>=t);break}return c}),o=Object(c["d"])(()=>e.value.filter(e=>"pending"===e.status).length),d=Object(c["d"])(()=>e.value.filter(e=>"processing"===e.status).length),b=Object(c["d"])(()=>e.value.reduce((e,t)=>e+(t.total_amount||0),0).toFixed(2)),u=Object(c["d"])(()=>e.value.filter(e=>"approved"===e.status).length),O=Object(c["d"])(()=>e.value.filter(e=>"preparing"===e.status).length),j=async()=>{l.value=!0;try{const{data:t,error:a}=await X["a"].from("orders").select("*").order("created_at",{ascending:!1});if(a)throw a;e.value=t.map(e=>{const t="string"===typeof e.items?JSON.parse(e.items):e.items,a="string"===typeof e.shipping_address?JSON.parse(e.shipping_address):e.shipping_address;return{...e,items:t,shipping_address:a,customer_name:`${a.first_name} ${a.last_name}`,customer_email:a.email}}),ne.success("Orders loaded successfully")}catch(t){console.error("Error fetching orders:",t),ne.error("Failed to load orders: "+t.message)}finally{l.value=!1}},m=async e=>{try{const{data:t}=await X["a"].auth.getUser(),a=t&&t.user?t.user.id:null;if(!a)throw new Error("No admin user found");const{error:c}=await X["a"].from("orders").update({status:e.status,admin_id:a,admin_action_at:(new Date).toISOString()}).eq("id",e.id);if(c)throw c;ne.success("Order status updated"),await j()}catch(t){console.error("Error updating order:",t),ne.error("Failed to update order status")}},p=e=>{i.value=e},h=e=>Number(e).toFixed(2),v=e=>new Date(e).toLocaleString(),g=()=>{t.value="",a.value="",s.value="all"};return Object(c["v"])(j),{orders:e,search:t,statusFilter:a,timeFilter:s,selectedOrder:i,orderStatuses:n,filteredOrders:r,pendingCount:o,processingCount:d,totalRevenue:b,updateOrderStatus:m,viewOrderDetails:p,formatPrice:h,formatDate:v,refreshOrders:j,isLoading:l,approvedCount:u,preparingCount:O,clearFilters:g}}};a("36a6");const Do=te()(Io,[["render",Kr],["__scopeId","data-v-42b2be45"]]);var Uo=Do;const To={class:"notifications-manager"},No={class:"panel-header"},Fo=["disabled"],qo={class:"notification-form"},Ro={class:"form-group"},Eo={key:0,class:"form-group"},Lo={class:"users-select"},Vo=["id","value"],Wo=["for"],Bo={class:"form-group"},$o={class:"form-group"},zo={class:"form-group"},Qo={key:0,class:"error-message"};function Jo(e,t,a,s,i,l){return Object(c["x"])(),Object(c["h"])("div",To,[Object(c["i"])("div",No,[t[7]||(t[7]=Object(c["i"])("h3",null,"Send Notifications",-1)),Object(c["i"])("button",{class:"send-button",onClick:t[0]||(t[0]=(...e)=>s.sendNotification&&s.sendNotification(...e)),disabled:s.isSending},[t[6]||(t[6]=Object(c["i"])("span",{class:"material-symbols-rounded"},"send",-1)),Object(c["k"])(" "+Object(c["H"])(s.isSending?"Sending...":"Send Notification"),1)],8,Fo)]),Object(c["i"])("div",qo,[Object(c["i"])("div",Ro,[t[9]||(t[9]=Object(c["i"])("label",null,"Recipients",-1)),Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.recipients=e),class:"select-input"},t[8]||(t[8]=[Object(c["i"])("option",{value:"all"},"All Users",-1),Object(c["i"])("option",{value:"specific"},"Specific Users",-1)]),512),[[c["L"],s.recipients]])]),"specific"===s.recipients?(Object(c["x"])(),Object(c["h"])("div",Eo,[t[10]||(t[10]=Object(c["i"])("label",null,"Select Users",-1)),Object(c["i"])("div",Lo,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.users,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:"user-checkbox"},[Object(c["P"])(Object(c["i"])("input",{type:"checkbox",id:e.id,"onUpdate:modelValue":t[2]||(t[2]=e=>s.selectedUsers=e),value:e.id},null,8,Vo),[[c["J"],s.selectedUsers]]),Object(c["i"])("label",{for:e.id},Object(c["H"])(e.email),9,Wo)]))),128))])])):Object(c["g"])("",!0),Object(c["i"])("div",Bo,[t[12]||(t[12]=Object(c["i"])("label",null,"Type",-1)),Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.type=e),class:"select-input"},t[11]||(t[11]=[Object(c["i"])("option",{value:"info"},"Info",-1),Object(c["i"])("option",{value:"success"},"Success",-1),Object(c["i"])("option",{value:"warning"},"Warning",-1),Object(c["i"])("option",{value:"error"},"Error",-1)]),512),[[c["L"],s.type]])]),Object(c["i"])("div",$o,[t[13]||(t[13]=Object(c["i"])("label",null,"Message",-1)),Object(c["P"])(Object(c["i"])("textarea",{"onUpdate:modelValue":t[4]||(t[4]=e=>s.message=e),placeholder:"Enter notification message...",rows:"4",class:"text-input"},null,512),[[c["M"],s.message]])]),Object(c["i"])("div",zo,[t[14]||(t[14]=Object(c["i"])("label",null,"Duration (seconds)",-1)),Object(c["P"])(Object(c["i"])("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=e=>s.duration=e),min:"0",step:"1",class:"number-input"},null,512),[[c["M"],s.duration,void 0,{number:!0}]]),t[15]||(t[15]=Object(c["i"])("span",{class:"hint"},"Set to 0 for permanent notification",-1))])]),s.error?(Object(c["x"])(),Object(c["h"])("div",Qo,Object(c["H"])(s.error),1)):Object(c["g"])("",!0)])}var Go={name:"NotificationsManager",setup(){const e=Object(c["A"])("all"),t=Object(c["A"])([]),a=Object(c["A"])("info"),s=Object(c["A"])(""),i=Object(c["A"])(5),l=Object(c["A"])([]),n=Object(c["A"])(""),r=Object(c["A"])(!1),o=async()=>{const{data:e}=await X["a"].from("profiles").select("id, email");l.value=e||[]},d=async()=>{if(s.value.trim()){r.value=!0,n.value="";try{if("all"===e.value)await ne.sendToAll({message:s.value,type:a.value,duration:1e3*i.value});else{if(!t.value.length)return void(n.value="Please select at least one user");await ne.sendToUsers({userIds:t.value,message:s.value,type:a.value,duration:1e3*i.value})}s.value="",t.value=[],ne.success("Notification sent successfully")}catch(c){n.value=c.message}finally{r.value=!1}}else n.value="Please enter a message"};return Object(c["v"])(o),{recipients:e,selectedUsers:t,type:a,message:s,duration:i,users:l,error:n,isSending:r,sendNotification:d}}};a("4ab2");const Ko=te()(Go,[["render",Jo],["__scopeId","data-v-48c1d7e6"]]);var Zo=Ko,Xo={name:"Admin",components:{Modal:ii["a"],NewsManager:_i,CardsManager:Vi,ReportsManager:jl,SettingsManager:Ll,StoreManager:xr,OrderManager:Uo,NotificationsManager:Zo},setup(){const e=Object(c["A"])("users"),t=Object(c["A"])([]),a=Object(c["A"])(""),s=Object(c["A"])(!1),i=Object(c["A"])(!1),l=Object(c["A"])(null),n=Object(c["A"])({totalUsers:0,newToday:0,totalOrders:0,pendingOrders:0,totalRevenue:0,revenueToday:0,totalCards:0,lowStock:0}),r=Object(c["A"])({maintenanceMode:!1,allowRegistrations:!0}),o=Object(c["A"])({email:"",password:"",first_name:"",last_name:"",role:"user",status:"active"}),d=Object(c["A"])(""),b=Object(c["A"])(!1),u=[{id:"users",name:"Users",icon:"group"},{id:"store",name:"Store",icon:"store"},{id:"orders",name:"Orders",icon:"local_shipping"},{id:"news",name:"News",icon:"newspaper"},{id:"cards",name:"Cards",icon:"style"},{id:"reports",name:"Reports",icon:"monitoring"},{id:"settings",name:"Settings",icon:"settings"},{id:"notifications",name:"Notifications",icon:"notifications_active"}],O=Object(c["d"])(()=>{if(!a.value)return t.value;const e=a.value.toLowerCase();return t.value.filter(t=>t.email.toLowerCase().includes(e)||t.full_name&&t.full_name.toLowerCase().includes(e))}),j=e=>(e/100).toFixed(2),m=async()=>{const e=new Date;e.setHours(0,0,0,0);try{const{count:t}=await X["a"].from("profiles").select("*",{count:"exact"}).gte("created_at",e.toISOString()),{data:a,error:c}=await X["a"].from("orders").select("status, total_amount, created_at");if(c)return void console.error("Error fetching orders:",c);const s=a||[],i=s.filter(e=>"pending"===e.status).length,l=s.filter(t=>new Date(t.created_at)>=e),r=s.reduce((e,t)=>e+(t.total_amount||0),0),o=l.reduce((e,t)=>e+(t.total_amount||0),0),{count:d}=await X["a"].from("store_items").select("*",{count:"exact"}).lt("quantity",5);n.value={...n.value,newToday:t||0,totalOrders:s.length,pendingOrders:i,totalRevenue:r,revenueToday:o,lowStock:d||0}}catch(t){console.error("Error fetching stats:",t)}};async function p(){try{const{data:e,error:a}=await X["a"].rpc("get_users_with_profiles");if(a)return void console.error("Error fetching users:",a);console.log("Fetched users:",e),t.value=e.map(e=>({id:e.id,email:e.email,full_name:e.first_name&&e.last_name?`${e.first_name} ${e.last_name}`:"-",role:e.role||"user",status:e.status||"active",created_at:e.created_at})),n.value.totalUsers=t.value.length}catch(e){console.error("Unexpected error:",e)}}function h(){l.value=null,o.value={email:"",password:"",first_name:"",last_name:"",role:"user",status:"active"},s.value=!0}async function v(e){const[t,a]=(e.full_name||"-").split(" ");l.value=e,o.value={...o.value,first_name:"-"!==t?t:"",last_name:a||"",role:e.role||"user",status:e.status||"active"},s.value=!0}async function g(e){l.value=e,i.value=!0}async function f(){if(!l.value)return;const{error:e}=await X["a"].from("profiles").delete().eq("id",l.value.id);e?console.error("Error deleting user:",e):(i.value=!1,l.value=null,await p())}async function y(){b.value=!0,d.value="";try{if(l.value&&l.value.id){const{error:e}=await X["a"].from("profiles").update({first_name:o.value.first_name,last_name:o.value.last_name,role:o.value.role,status:o.value.status}).eq("id",l.value.id);if(e)throw e}else{const{data:e,error:t}=await X["a"].auth.signUp({email:o.value.email,password:o.value.password});if(t)throw t;const{error:a}=await X["a"].from("profiles").insert({id:e.user.id,first_name:o.value.first_name,last_name:o.value.last_name,role:o.value.role,status:o.value.status});if(a)throw a}S(),await p()}catch(e){console.error("Error saving user:",e),d.value=e.message}finally{b.value=!1}}async function k(){console.log("Saving settings:",r.value)}async function w(){console.log("Backing up database...")}async function C(){console.log("Syncing cards...")}const _=async()=>{r.value.maintenanceMode=!r.value.maintenanceMode,await k(),notifications.info("Maintenance mode "+(r.value.maintenanceMode?"enabled":"disabled"))};function S(){s.value=!1,l.value=null,o.value={email:"",password:"",first_name:"",last_name:"",role:"user",status:"active"},d.value=""}return Object(c["v"])(async()=>{await p(),await m()}),{currentTab:e,tabs:u,users:t,userSearch:a,filteredUsers:O,stats:n,settings:r,showEditModal:s,showDeleteModal:i,editingUser:l,userForm:o,formError:d,isSubmitting:b,editUser:v,confirmDeleteUser:g,deleteUser:f,saveUser:y,saveSettings:k,backupDatabase:w,syncCards:C,closeEditModal:S,initNewUser:h,formatDate:e=>new Date(e).toLocaleDateString(),formatMoney:j,toggleMaintenance:_}}};a("204a");const Yo=te()(Xo,[["render",si],["__scopeId","data-v-07720f9f"]]);var ed=Yo;const td={class:"store"},ad={class:"store-hero"},cd={class:"quick-categories"},sd=["onClick"],id={class:"material-symbols-rounded"},ld={class:"filter-section"},nd={class:"search-container"},rd={class:"search-box"},od={class:"advanced-filters"},dd={key:0,class:"active-filters"},bd={class:"products-grid"},ud={class:"product-image"},Od=["src","alt"],jd={class:"product-badges"},md={key:0,class:"set-info"},pd=["src","alt"],hd={key:1,class:"rarity-badge"},vd={class:"product-info"},gd={class:"product-header"},fd={key:0,class:"product-subinfo"},yd={key:0,class:"pack-count"},kd={key:1,class:"product-subinfo"},wd={key:0,class:"card-count"},Cd={class:"product-meta"},_d={class:"meta-left"},Sd={key:0,class:"product-set"},xd={class:"condition"},Ad={class:"product-price"},Md=["disabled","onClick"],Pd={class:"product-actions"},Hd=["onClick"],Id={class:"material-symbols-rounded"},Dd=["onClick"],Ud={key:1,class:"pagination"},Td=["disabled"],Nd=["onClick"],Fd=["disabled"];function qd(e,t,a,s,i,l){const n=Object(c["D"])("QuickPreview"),r=Object(c["D"])("Modal"),o=Object(c["D"])("AppleNotification");return Object(c["x"])(),Object(c["h"])("div",td,[Object(c["i"])("div",ad,[t[12]||(t[12]=Object(c["i"])("div",{class:"hero-content"},[Object(c["i"])("h1",null,"Card Market"),Object(c["i"])("p",{class:"subtitle"},"Discover rare and valuable Pokémon cards")],-1)),Object(c["i"])("div",cd,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.categories,e=>(Object(c["x"])(),Object(c["h"])("button",{key:e.id,class:Object(c["r"])(["category-pill",{active:s.filters.category===e.id}]),onClick:t=>s.filters.category=e.id},[Object(c["i"])("span",id,Object(c["H"])(e.icon),1),Object(c["k"])(" "+Object(c["H"])(e.name),1)],10,sd))),128))])]),Object(c["i"])("div",ld,[Object(c["i"])("div",nd,[Object(c["i"])("div",rd,[t[13]||(t[13]=Object(c["i"])("span",{class:"material-symbols-rounded"},"search",-1)),Object(c["P"])(Object(c["i"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.search=e),type:"text",placeholder:"Search for cards, sets, or boosters..."},null,512),[[c["M"],s.search]])]),Object(c["i"])("div",od,[Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.filters.priceRange=e)},t[14]||(t[14]=[Object(c["i"])("option",{value:""},"All Prices",-1),Object(c["i"])("option",{value:"under10"},"Under $10",-1),Object(c["i"])("option",{value:"10to50"},"$10 - $50",-1),Object(c["i"])("option",{value:"50plus"},"$50+",-1)]),512),[[c["L"],s.filters.priceRange]]),Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>s.filters.rarity=e)},t[15]||(t[15]=[Object(c["j"])('<option value="" data-v-e81fc950>All Rarities</option><option value="common" data-v-e81fc950>Common</option><option value="uncommon" data-v-e81fc950>Uncommon</option><option value="rare" data-v-e81fc950>Rare</option><option value="ultra" data-v-e81fc950>Ultra Rare</option>',5)]),512),[[c["L"],s.filters.rarity]]),Object(c["P"])(Object(c["i"])("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.filters.condition=e)},t[16]||(t[16]=[Object(c["j"])('<option value="" data-v-e81fc950>All Conditions</option><option value="mint" data-v-e81fc950>Mint</option><option value="near_mint" data-v-e81fc950>Near Mint</option><option value="excellent" data-v-e81fc950>Excellent</option><option value="good" data-v-e81fc950>Good</option>',5)]),512),[[c["L"],s.filters.condition]])])])]),s.activeFiltersCount?(Object(c["x"])(),Object(c["h"])("div",dd,[s.filters.priceRange?(Object(c["x"])(),Object(c["h"])("span",{key:0,class:"filter-tag",onClick:t[4]||(t[4]=e=>s.filters.priceRange="")},[Object(c["k"])(Object(c["H"])(e.formatPriceRange(s.filters.priceRange))+" ",1),t[17]||(t[17]=Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1))])):Object(c["g"])("",!0),s.filters.rarity?(Object(c["x"])(),Object(c["h"])("span",{key:1,class:"filter-tag",onClick:t[5]||(t[5]=e=>s.filters.rarity="")},[Object(c["k"])(Object(c["H"])(s.filters.rarity)+" ",1),t[18]||(t[18]=Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1))])):Object(c["g"])("",!0),s.filters.condition?(Object(c["x"])(),Object(c["h"])("span",{key:2,class:"filter-tag",onClick:t[6]||(t[6]=e=>s.filters.condition="")},[Object(c["k"])(Object(c["H"])(s.filters.condition)+" ",1),t[19]||(t[19]=Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1))])):Object(c["g"])("",!0),Object(c["i"])("button",{class:"clear-filters",onClick:t[7]||(t[7]=(...e)=>s.clearFilters&&s.clearFilters(...e))},"Clear All")])):Object(c["g"])("",!0),Object(c["i"])("div",bd,[Object(c["l"])(c["c"],{name:"product-card"},{default:Object(c["O"])(()=>[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.paginatedProducts,e=>(Object(c["x"])(),Object(c["h"])("div",{key:e.id,class:Object(c["r"])(["product-card",[e.type,{"out-of-stock":e.stock<=0,"in-wishlist":s.isInWishlist(e.id)}]])},[Object(c["i"])("div",ud,[Object(c["i"])("img",{src:e.image_url,alt:e.name},null,8,Od),Object(c["i"])("div",jd,[Object(c["i"])("span",{class:Object(c["r"])(["type-badge",e.type])},Object(c["H"])(s.formatProductType(e.type)),3),"single"===e.type&&e.metadata&&e.metadata.set?(Object(c["x"])(),Object(c["h"])("div",md,[e.metadata.set.images&&e.metadata.set.images.symbol?(Object(c["x"])(),Object(c["h"])("img",{key:0,src:e.metadata.set.images.symbol,class:"set-symbol",alt:e.metadata.set.name},null,8,pd)):Object(c["g"])("",!0),Object(c["i"])("span",null,Object(c["H"])(e.metadata.set.name),1)])):Object(c["g"])("",!0),e.metadata&&e.metadata.rarity?(Object(c["x"])(),Object(c["h"])("span",hd,Object(c["H"])(e.metadata.rarity),1)):Object(c["g"])("",!0),e.stock<5&&e.stock>0?(Object(c["x"])(),Object(c["h"])("span",{key:2,class:Object(c["r"])(["stock-badge",s.getStockLevel(e.stock)])},Object(c["H"])(e.stock)+" left ",3)):Object(c["g"])("",!0)])]),Object(c["i"])("div",vd,[Object(c["i"])("div",gd,[Object(c["i"])("h3",null,Object(c["H"])(e.name),1),"booster"===e.type?(Object(c["x"])(),Object(c["h"])("div",fd,[e.metadata&&e.metadata.packCount?(Object(c["x"])(),Object(c["h"])("span",yd,Object(c["H"])(e.metadata.packCount)+" Packs ",1)):Object(c["g"])("",!0)])):Object(c["g"])("",!0),"set"===e.type?(Object(c["x"])(),Object(c["h"])("div",kd,[e.metadata&&e.metadata.cardCount?(Object(c["x"])(),Object(c["h"])("span",wd,Object(c["H"])(e.metadata.cardCount)+" Cards ",1)):Object(c["g"])("",!0)])):Object(c["g"])("",!0)]),Object(c["i"])("div",Cd,[Object(c["i"])("div",_d,[e.metadata&&e.metadata.set?(Object(c["x"])(),Object(c["h"])("span",Sd,Object(c["H"])(e.metadata.set.name),1)):Object(c["g"])("",!0),Object(c["i"])("span",xd,Object(c["H"])(e.condition),1)]),Object(c["i"])("span",Ad,"$"+Object(c["H"])(s.formatPrice(e.price)),1)]),Object(c["i"])("button",{class:"buy-button",disabled:e.stock<=0,onClick:t=>s.addToCart(e)},Object(c["H"])(e.stock<=0?"Out of Stock":"Add to Cart"),9,Md)]),Object(c["i"])("div",Pd,[Object(c["i"])("button",{class:Object(c["r"])(["wishlist-button",{active:s.isInWishlist(e.id)}]),onClick:t=>s.toggleWishlist(e)},[Object(c["i"])("span",Id,Object(c["H"])(s.isInWishlist(e.id)?"favorite":"favorite_border"),1)],10,Hd),Object(c["i"])("button",{class:"quick-view-button",onClick:t=>s.showQuickView(e)},t[20]||(t[20]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"visibility",-1)]),8,Dd)])],2))),128))]),_:1})]),s.totalPages>1?(Object(c["x"])(),Object(c["h"])("div",Ud,[Object(c["i"])("button",{disabled:1===s.currentPage,onClick:t[8]||(t[8]=e=>s.currentPage--)},t[21]||(t[21]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"chevron_left",-1)]),8,Td),(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(s.displayedPages,e=>(Object(c["x"])(),Object(c["h"])("button",{key:e,class:Object(c["r"])({active:s.currentPage===e}),onClick:t=>s.currentPage=e},Object(c["H"])(e),11,Nd))),128)),Object(c["i"])("button",{disabled:s.currentPage===s.totalPages,onClick:t[9]||(t[9]=e=>s.currentPage++)},t[22]||(t[22]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"chevron_right",-1)]),8,Fd)])):Object(c["g"])("",!0),s.quickViewProduct?(Object(c["x"])(),Object(c["f"])(n,{key:2,product:s.quickViewProduct,onClose:t[10]||(t[10]=e=>s.quickViewProduct=null)},null,8,["product"])):Object(c["g"])("",!0),s.showFilters?(Object(c["x"])(),Object(c["f"])(r,{key:3,onClose:t[11]||(t[11]=e=>s.showFilters=!1)},{header:Object(c["O"])(()=>t[23]||(t[23]=[Object(c["i"])("h2",null,"Filter Products",-1)])),default:Object(c["O"])(()=>t[24]||(t[24]=[Object(c["i"])("div",{class:"filters-form"},null,-1)])),_:1})):Object(c["g"])("",!0),Object(c["l"])(o,{show:s.notification.show,title:s.notification.title,message:s.notification.message,type:s.notification.type,onClose:s.hideNotification},null,8,["show","title","message","type","onClose"])])}const Rd={class:"material-symbols-rounded icon"},Ed={class:"content"};function Ld(e,t,a,s,i,l){return Object(c["x"])(),Object(c["f"])(c["b"],{name:"notification"},{default:Object(c["O"])(()=>[a.show?(Object(c["x"])(),Object(c["h"])("div",{key:0,class:Object(c["r"])(["notification",a.type])},[Object(c["i"])("span",Rd,Object(c["H"])(l.icon),1),Object(c["i"])("div",Ed,[Object(c["i"])("h4",null,Object(c["H"])(a.title),1),Object(c["i"])("p",null,Object(c["H"])(a.message),1)]),Object(c["i"])("button",{onClick:t[0]||(t[0]=t=>e.$emit("close")),class:"close-btn"},t[1]||(t[1]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1)]))],2)):Object(c["g"])("",!0)]),_:1})}var Vd={name:"AppleNotification",props:{show:Boolean,title:String,message:String,type:{type:String,default:"success",validator:e=>["success","error","info"].includes(e)}},computed:{icon(){const e={success:"check_circle",error:"error",info:"info"};return e[this.type]}},emits:["close"]};a("5f9e");const Wd=te()(Vd,[["render",Ld],["__scopeId","data-v-109d7732"]]);var Bd=Wd;const $d={class:"quick-preview-content"},zd={class:"preview-image"},Qd=["src","alt"],Jd={class:"preview-details"},Gd={class:"details-content"},Kd={class:"meta"},Zd={key:0,class:"set-badge"},Xd={key:1,class:"badge"},Yd={class:"pricing-info"},eb={class:"price-box"},tb={class:"value"},ab={class:"price-box"},cb={class:"value highlight"},sb={class:"stock-info"},ib={class:"material-symbols-rounded"},lb={key:0,class:"description"},nb={class:"action-buttons"};function rb(e,t,a,s,i,l){const n=Object(c["D"])("Modal");return Object(c["x"])(),Object(c["f"])(n,{maxWidth:1200,onClose:e.close},{header:Object(c["O"])(()=>[Object(c["i"])("h2",null,Object(c["H"])(e.product.name),1)]),default:Object(c["O"])(()=>[Object(c["i"])("div",$d,[Object(c["i"])("div",zd,[Object(c["i"])("img",{src:e.product.image_url,alt:e.product.name},null,8,Qd)]),Object(c["i"])("div",Jd,[Object(c["i"])("div",Gd,[Object(c["i"])("div",Kd,[e.product.metadata&&e.product.metadata.set?(Object(c["x"])(),Object(c["h"])("span",Zd,Object(c["H"])(e.product.metadata.set.name),1)):Object(c["g"])("",!0),e.product.metadata&&e.product.metadata.rarity?(Object(c["x"])(),Object(c["h"])("span",Xd,Object(c["H"])(e.product.metadata.rarity),1)):Object(c["g"])("",!0)]),Object(c["i"])("div",Yd,[Object(c["i"])("div",eb,[t[1]||(t[1]=Object(c["i"])("span",{class:"label"},"Market Price",-1)),Object(c["i"])("span",tb,"$"+Object(c["H"])(e.product.marketPrice||e.product.price),1)]),Object(c["i"])("div",ab,[t[2]||(t[2]=Object(c["i"])("span",{class:"label"},"Our Price",-1)),Object(c["i"])("span",cb,"$"+Object(c["H"])(e.product.price),1)])]),Object(c["i"])("div",sb,[Object(c["i"])("span",ib,Object(c["H"])(e.product.stock>0?"inventory_2":"inventory_2_off"),1),Object(c["i"])("span",null,Object(c["H"])(e.product.stock>0?e.product.stock+" in stock":"Out of stock"),1)]),e.product.description?(Object(c["x"])(),Object(c["h"])("p",lb,Object(c["H"])(e.product.description),1)):Object(c["g"])("",!0)]),Object(c["i"])("div",nb,[Object(c["i"])("button",{class:"add-to-cart",onClick:t[0]||(t[0]=(...t)=>e.addToCart&&e.addToCart(...t))}," Add to Cart ")])])])]),_:1},8,["onClose"])}var ob=Object(c["m"])({name:"QuickPreview",components:{Modal:ii["a"]},props:{product:Object},emits:["close"],setup(e,{emit:t}){function a(){t("close")}function c(){F["a"].addItem(e.product),a()}return{close:a,addToCart:c}}});a("62b4");const db=te()(ob,[["render",rb],["__scopeId","data-v-19faff9e"]]);var bb=db,ub={name:"Store",components:{Modal:ii["a"],CartSlideOver:ce,QuickPreview:bb,AppleNotification:Bd},setup(){const e=Object(c["A"])(""),t=Object(c["A"])(!1),a=Object(c["A"])(!1),s=Object(c["A"])(!1),i=Object(c["A"])(null),l=Object(c["A"])([]),n=Object(c["A"])({condition:"",sort:"newest",category:"",priceRange:"",rarity:""}),r=Object(c["A"])(1),o=12,d=Object(c["A"])(null),b=Object(c["A"])([{id:"all",name:"All",icon:"category"},{id:"rare",name:"Rare",icon:"star"},{id:"common",name:"Common",icon:"circle"},{id:"uncommon",name:"Uncommon",icon:"diamond"}]),u=Object(c["A"])([]),O=Object(c["A"])(!0),j=Object(c["d"])(()=>N["a"].state.user?N["a"].state.user.id:null),m=Object(c["d"])(()=>Object.values(n.value).filter(Boolean).length),p=Object(c["d"])(()=>{let t=[...u.value];if(e.value){const a=e.value.toLowerCase();t=t.filter(e=>e.name.toLowerCase().includes(a))}return n.value.category&&"all"!==n.value.category&&(t=t.filter(e=>e.type===n.value.category)),n.value.priceRange&&(t=P(t,n.value.priceRange)),n.value.rarity&&(t=t.filter(e=>e.metadata&&e.metadata.rarity&&e.metadata.rarity.toLowerCase()===n.value.rarity)),n.value.condition&&(t=t.filter(e=>e.metadata&&e.metadata.condition&&e.metadata.condition.toLowerCase()===n.value.condition)),H(t,n.value.sort)}),h=Object(c["d"])(()=>{const e=(r.value-1)*o;return p.value.slice(e,e+o)}),v=Object(c["d"])(()=>Math.ceil(p.value.length/o)),g=Object(c["d"])(()=>{const e=v.value,t=r.value,a=2,c=[],s=[];let i;c.push(1);for(let l=t-a;l<=t+a;l++)l>=1&&l<=e&&c.push(l);return c.push(e),c.forEach(e=>{i&&(e-i===2?s.push(i+1):e-i!==1&&s.push("...")),s.push(e),i=e}),s});async function f(){const{data:e,error:t}=await X["a"].from("products").select("*").eq("active",!0);t?console.error("Error fetching listings:",t):l.value=e||[]}async function y(){console.log("Fetching products..."),O.value=!0;try{const{data:e,error:t}=await X["a"].from("products").select("*").eq("active",!0).order("created_at",{ascending:!1});if(t)throw console.error("Supabase error:",t),t;if(console.log("Raw data from Supabase:",e),!e||0===e.length)return console.log("No products found in database"),void(u.value=[]);u.value=e.map(e=>({...e,price:parseFloat(e.price)||0,stock:parseInt(e.stock)||0})),console.log("Transformed products:",u.value)}catch(e){console.error("Error fetching products:",e)}finally{O.value=!1}}function k(e){return e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())}function w(e){i.value=e,a.value=!0}async function C(){if(i.value&&N["a"].state.user)try{const{error:e}=await X["a"].from("orders").insert({product_id:i.value.id,user_id:N["a"].state.user.id,quantity:1,total_amount:i.value.price,status:"completed"});if(e)throw e;const{error:t}=await X["a"].from("products").update({active:!1,stock:i.value.stock-1}).eq("id",i.value.id);if(t)throw t;a.value=!1,await f()}catch(e){console.error("Error processing purchase:",e)}}const _=Object(c["A"])(null),S=Object(c["A"])(!1);function x(e){_.value=e,S.value=!0}function A(){n.value={priceRange:"",rarity:"",condition:"",sort:"newest",category:""},r.value=1}function M(e){d.value={...e,marketPrice:q(e)}}function P(e,t){switch(t){case"under10":return e.filter(e=>e.price<10);case"10to50":return e.filter(e=>e.price>=10&&e.price<=50);case"50plus":return e.filter(e=>e.price>50);default:return e}}function H(e,t){switch(t){case"price_low":return e.sort((e,t)=>e.price-t.price);case"price_high":return e.sort((e,t)=>t.price-e.price);case"newest":return e.sort((e,t)=>new Date(t.created_at)-new Date(e.created_at));case"popularity":return e.sort((e,t)=>t.popularity-e.popularity);default:return e}}const I=Object(c["A"])([]);async function D(){if(N["a"].state.user)try{const{data:e,error:t}=await X["a"].from("wishlists").select("card_id").eq("user_id",N["a"].state.user.id);if(t)throw t;I.value=e.map(e=>e.card_id),console.log("Fetched wishlist:",I.value)}catch(e){console.error("Error fetching wishlist:",e)}}function U(e){return I.value.includes(e)}async function T(e){if(N["a"].state.user)try{const t=U(e.id);if(t){const{error:t}=await X["a"].from("wishlists").delete().eq("user_id",N["a"].state.user.id).eq("card_id",e.id);if(t)throw t;I.value=I.value.filter(t=>t!==e.id)}else{const{error:t}=await X["a"].from("wishlists").insert({user_id:N["a"].state.user.id,card_id:e.id,card_data:{name:e.name,image_url:e.image_url,price:e.price,type:e.type,metadata:e.metadata}});if(t)throw t;I.value.push(e.id)}}catch(t){console.error("Error updating wishlist:",t),alert("Failed to update wishlist")}else alert("Please log in to add items to your wishlist")}function q(e){if(!e.metadata)return"0.00";let t=e.price;return e.metadata.cardmarket&&e.metadata.cardmarket.prices&&e.metadata.cardmarket.prices.averageSellPrice?t=e.metadata.cardmarket.prices.averageSellPrice:e.metadata.tcgplayer&&e.metadata.tcgplayer.prices&&e.metadata.tcgplayer.prices.market&&(t=e.metadata.tcgplayer.prices.market),parseFloat(t).toFixed(2)}function R(e){console.log("Adding product to cart:",e);const t=(e,t,a)=>t.split(".").reduce((e,t)=>e&&void 0!==e[t]?e[t]:a,e),a={id:e.id,name:e.name,price:parseFloat(e.price||0),image_url:e.image_url,set:t(e,"metadata.set.name","Unknown Set"),rarity:t(e,"metadata.rarity","Common"),type:e.type||"Unknown Type",quantity:1};console.log("Processed card item:",a),F["a"].addItem(a),L("Added to Cart",e.name+" has been added to your cart.","success")}const E=Object(c["A"])({show:!1,title:"",message:"",type:"success"});function L(e,t,a="success"){E.value={show:!0,title:e,message:t,type:a},setTimeout(()=>{V()},3e3)}function V(){E.value.show=!1}function R(e){F["a"].addItem({id:e.id,name:e.name,price:e.price,image_url:e.image,quantity:1}),L("Added to Cart",e.name+" has been added to your cart.","success")}function W(e){const t={single:"Single Card",booster:"Booster Pack",set:"Card Set",box:"Booster Box",collection:"Collection",accessory:"Accessory"};return t[e.toLowerCase()]||e}function B(e){return Number(e).toFixed(2)}function $(e){return e<=0?"out":e<5?"low":e<20?"medium":"high"}return Object(c["v"])(async()=>{await Promise.all([y(),N["a"].state.user?D():Promise.resolve()])}),{search:e,filters:n,filteredProducts:p,showSellModal:t,showBuyModal:a,showFilters:s,selectedListing:i,buyCard:w,confirmPurchase:C,formatCondition:k,currentUserId:j,categories:b,selectedProduct:_,showPreview:S,showQuickPreview:x,cart:F["a"],currentPage:r,quickViewProduct:d,activeFiltersCount:m,paginatedProducts:h,totalPages:v,displayedPages:g,clearFilters:A,showQuickView:M,products:u,isLoading:O,isInWishlist:U,toggleWishlist:T,fetchProducts:y,wishlist:I,getMarketPrice:q,addToCart:R,notification:E,hideNotification:V,formatProductType:W,formatPrice:B,getStockLevel:$}}};a("e492");const Ob=te()(ub,[["render",qd],["__scopeId","data-v-e81fc950"]]);var jb=Ob;const mb=[{path:"/",name:"Home",component:Ka,meta:{public:!0}},{path:"/collection",name:"Collection",component:xa,meta:{public:!0}},{path:"/pricing",name:"Pricing",component:()=>a.e("chunk-62ad9a69").then(a.bind(null,"8aff")),meta:{public:!0}},{path:"/about",name:"About",component:()=>a.e("chunk-2fe52e9a").then(a.bind(null,"f820")),meta:{public:!0}},{path:"/my-collection",name:"MyCollection",component:Dc,meta:{requiresAuth:!0}},{path:"/wishlist",name:"Wishlist",component:is,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:dc,meta:{public:!0}},{path:"/register",name:"Register",component:()=>a.e("chunk-13be29f5").then(a.bind(null,"73cf")),meta:{public:!0}},{path:"/admin",name:"Admin",component:ed,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/profile",name:"Profile",component:()=>a.e("chunk-28a89ab6").then(a.bind(null,"c66d")),meta:{requiresAuth:!0}},{path:"/store",name:"Store",component:jb,meta:{requiresAuth:!0}},{path:"/cart",name:"Cart",component:()=>a.e("chunk-0173399f").then(a.bind(null,"b789"))},{path:"/checkout",name:"Checkout",component:()=>a.e("chunk-8a95aeea").then(a.bind(null,"7cb4")),meta:{requiresAuth:!0,title:"Checkout"}},{path:"/checkout/success",name:"CheckoutSuccess",component:()=>a.e("chunk-c066c090").then(a.bind(null,"4625")),meta:{requiresAuth:!0}},{path:"/order-confirmation/:orderId",name:"OrderConfirmation",component:()=>a.e("chunk-7229211b").then(a.bind(null,"6eb9")),props:!0,meta:{requiresAuth:!0}},{path:"/orders",name:"Orders",component:()=>a.e("chunk-781b0d1e").then(a.bind(null,"159d")),meta:{requiresAuth:!0}}],pb=Object(se["a"])({history:Object(se["b"])("/"),routes:mb});pb.beforeEach(async(e,t,a)=>{N["a"].state.initialized||await N["a"].initializeAuth();const c=!!N["a"].state.session,s=N["a"].state.isAdmin;!e.meta.requiresAuth||c?!e.meta.requiresAdmin||s?a():a("/"):a("/login")});var hb=pb;const vb=Object(c["e"])(we);vb.use(hb),vb.mount("#app")},"5e33":function(e,t,a){"use strict";a("4a66")},"5f9e":function(e,t,a){"use strict";a("3f66")},"62b4":function(e,t,a){"use strict";a("7388")},"6fff":function(e,t,a){},"714b":function(e,t,a){"use strict";var c=a("7a23");const s={class:"modal-header"},i={class:"modal-content"};function l(e,t,a,l,n,r){return Object(c["x"])(),Object(c["h"])("div",{class:"modal-overlay",onClick:t[2]||(t[2]=t=>e.$emit("close"))},[Object(c["i"])("div",{class:"modal-container",style:Object(c["s"])({maxWidth:a.maxWidth+"px"}),onClick:t[1]||(t[1]=Object(c["R"])(()=>{},["stop"]))},[Object(c["i"])("div",s,[Object(c["C"])(e.$slots,"header",{},void 0,!0),Object(c["i"])("button",{class:"close-button",onClick:t[0]||(t[0]=t=>e.$emit("close"))},t[3]||(t[3]=[Object(c["i"])("span",{class:"material-symbols-rounded"},"close",-1)]))]),Object(c["i"])("div",i,[Object(c["C"])(e.$slots,"default",{},void 0,!0)])],4)])}var n={name:"Modal",props:{maxWidth:{type:Number,default:600}},emits:["close"]},r=(a("752b"),a("6b0d")),o=a.n(r);const d=o()(n,[["render",l],["__scopeId","data-v-11fcb19d"]]);t["a"]=d},"71ea":function(e,t,a){},7307:function(e,t,a){"use strict";a("d351")},7388:function(e,t,a){},"752b":function(e,t,a){"use strict";a("34f1")},7770:function(e,t,a){},"79a7":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var c=a("940b");const s="https://qhghblgzpgoftoovbmes.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFoZ2hibGd6cGdvZnRvb3ZibWVzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzkzNjI4MzUsImV4cCI6MjA1NDkzODgzNX0.ifNQ2s7hjm0VinL8m1nJTTUnL7ZOLzdZ6z9Ycp4gqmQ",l=Object(c["a"])(s,i)},"7dbe":function(e,t,a){},"889e":function(e,t,a){"use strict";var c=a("7a23"),s=a("79a7");const i=Object(c["z"])({user:null,session:null,profile:null,isAdmin:!1,initialized:!1}),l={state:i,async initializeAuth(){try{const{data:e}=await s["a"].auth.getSession(),t=e.session||null;if(i.session=t,i.user=t?t.user:null,t){const{data:e}=await s["a"].from("profiles").select("*").eq("id",t.user.id).single();i.profile=e,i.isAdmin=!!e&&"admin"===e.role}}catch(e){console.error("Auth initialization error:",e),i.session=null,i.user=null,i.profile=null,i.isAdmin=!1}finally{i.initialized=!0}},async signIn(e,t){const{data:a,error:c}=await s["a"].auth.signInWithPassword({email:e,password:t});if(c)return{error:c};if(i.session=a.session,i.user=a.user,a.user){const{data:e}=await s["a"].from("profiles").select("*").eq("id",a.user.id).single();i.profile=e,i.isAdmin=!!e&&"admin"===e.role}return{user:i.user}},async signOut(){const{error:e}=await s["a"].auth.signOut();return e||(i.user=null,i.session=null,i.profile=null,i.isAdmin=!1),{error:e}}};s["a"].auth.onAuthStateChange((e,t)=>{i.session=t,i.user=t?t.user:null,t?s["a"].from("profiles").select("*").eq("id",t.user.id).single().then(({data:e})=>{i.profile=e,i.isAdmin=!!e&&"admin"===e.role}):(i.profile=null,i.isAdmin=!1)}),t["a"]=l},"8c2f":function(e,t,a){"use strict";var c=a("7a23");a("2064");const s=localStorage.getItem("cart"),i=s?JSON.parse(s):{items:[],total:0,show:!1},l=Object(c["z"])(i);Object(c["N"])(()=>l.items,e=>{localStorage.setItem("cart",JSON.stringify({items:e,total:l.total,show:l.show}))},{deep:!0}),t["a"]={state:l,toggleCart(){l.show=!l.show},addItem(e){const t=this.state.items.find(t=>t.id===e.id);if(t)t.quantity+=1;else{const t=e.tcgCard&&e.tcgCard.id?e.tcgCard.id:e.tcg_id||null;this.state.items.push({id:e.id,name:e.name,price:parseFloat(e.price)||0,image_url:e.image_url,type:e.type||"single",tcg_id:t,condition:e.condition,metadata:e.metadata||{},quantity:1})}this.calculateTotal(),this.saveCart()},removeItem(e){l.items=l.items.filter(t=>t.id!==e),this.calculateTotal()},updateQuantity(e,t){const a=l.items.find(t=>t.id===e);a&&(a.quantity=t,this.calculateTotal())},calculateTotal(){l.total=l.items.reduce((e,t)=>{const a=parseFloat(t.price)||0,c=parseInt(t.quantity)||0;return e+a*c},0)},clear(){l.items=[],l.total=0,l.show=!1,localStorage.removeItem("cart")},saveCart(){localStorage.setItem("cart",JSON.stringify({items:l.items,total:l.total,show:l.show}))}}},"8fb5":function(e,t,a){"use strict";a("ad02")},9359:function(e,t,a){"use strict";a("d683")},"996c":function(e,t,a){},"9fb6":function(e,t,a){},a087:function(e,t,a){"use strict";a("36e4")},a3ba:function(e,t,a){"use strict";a("f8c8")},a98f:function(e,t,a){},aafd:function(e,t,a){},ad02:function(e,t,a){},b6cb:function(e,t,a){},b7f1:function(e,t,a){"use strict";function c(e){if(!e||"string"!==typeof e)return"/placeholder.png";if(e.startsWith("https://")){const t=e.split("/").pop(),a=e.split("/").slice(-2)[0];return`https://qhghblgzpgoftoovbmes.supabase.co/storage/v1/object/public/card-images/${a}/${t}`}return"/placeholder.png"}function s(e){console.warn("Image failed to load:",e.target.src),e.target.src="/placeholder.png"}a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return s}))},bb18:function(e,t,a){"use strict";a("6fff")},c395:function(e,t,a){"use strict";a("487e")},c63d:function(e,t,a){"use strict";a("996c")},d351:function(e,t,a){},d683:function(e,t,a){},da9c:function(e,t,a){},dcfb:function(e,t,a){},dd72:function(e,t,a){"use strict";a("da9c")},dfd6:function(e,t,a){"use strict";a("0731")},e069:function(e,t,a){"use strict";a("aafd")},e492:function(e,t,a){"use strict";a("dcfb")},e9a8:function(e,t,a){"use strict";a("06ad")},ee29:function(e,t,a){"use strict";a("7dbe")},f76e:function(e,t,a){},f8c8:function(e,t,a){}});
//# sourceMappingURL=app.d5fb9f8b.js.map